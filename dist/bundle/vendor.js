require=function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n||t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return a[t>>18&63]+a[t>>12&63]+a[t>>6&63]+a[63&t]}function o(t,e,n){for(var r,o=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],o.push(i(r));return o.join("")}n.byteLength=function(t){return 3*t.length/4-r(t)},n.toByteArray=function(t){var e,n,i,o,a,l=t.length;o=r(t),a=new u(3*l/4-o),n=o>0?l-4:l;var c=0;for(e=0;e<n;e+=4)i=s[t.charCodeAt(e)]<<18|s[t.charCodeAt(e+1)]<<12|s[t.charCodeAt(e+2)]<<6|s[t.charCodeAt(e+3)],a[c++]=i>>16&255,a[c++]=i>>8&255,a[c++]=255&i;return 2===o?(i=s[t.charCodeAt(e)]<<2|s[t.charCodeAt(e+1)]>>4,a[c++]=255&i):1===o&&(i=s[t.charCodeAt(e)]<<10|s[t.charCodeAt(e+1)]<<4|s[t.charCodeAt(e+2)]>>2,a[c++]=i>>8&255,a[c++]=255&i),a},n.fromByteArray=function(t){for(var e,n=t.length,r=n%3,i="",s=[],u=0,l=n-r;u<l;u+=16383)s.push(o(t,u,u+16383>l?l:u+16383));return 1===r?(e=t[n-1],i+=a[e>>2],i+=a[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=a[e>>10],i+=a[e>>4&63],i+=a[e<<2&63],i+="="),s.push(i),s.join("")};for(var a=[],s=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,h=l.length;c<h;++c)a[c]=l[c],s[l.charCodeAt(c)]=c;s["-".charCodeAt(0)]=62,s["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){"use strict";"use restrict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(t){return(t>0)-(t<0)},n.abs=function(t){var e=t>>31;return(t^e)-e},n.min=function(t,e){return e^(t^e)&-(t<e)},n.max=function(t,e){return t^(t^e)&-(t<e)},n.isPow2=function(t){return!(t&t-1||!t)},n.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,(e|=n)|t>>1},n.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},n.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},n.countTrailingZeros=r,n.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},n.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},n.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}}(i),n.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},n.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},n.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},n.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},n.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},n.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},{}],3:[function(t,e,n){},{}],4:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],5:[function(t,e,n){"use strict";function r(t){if(t>K)throw new RangeError("Invalid typed array length");var e=new Uint8Array(t);return e.__proto__=i.prototype,e}function i(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(t)}return o(t,e,n)}function o(t,e,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return H(t)?h(t,e,n):"string"==typeof t?l(t,e):f(t)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function s(t,e,n){return a(t),t<=0?r(t):void 0!==e?"string"==typeof n?r(t).fill(e,n):r(t).fill(e):r(t)}function u(t){return a(t),r(t<0?0:0|d(t))}function l(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!i.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,e),o=r(n),a=o.write(t,e);return a!==n&&(o=o.slice(0,a)),o}function c(t){for(var e=t.length<0?0:0|d(t.length),n=r(e),i=0;i<e;i+=1)n[i]=255&t[i];return n}function h(t,e,n){if(e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),r.__proto__=i.prototype,r}function f(t){if(i.isBuffer(t)){var e=0|d(t.length),n=r(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}if(t){if(G(t)||"length"in t)return"number"!=typeof t.length||q(t.length)?r(0):c(t);if("Buffer"===t.type&&Array.isArray(t.data))return c(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=K)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K.toString(16)+" bytes");return 0|t}function p(t,e){if(i.isBuffer(t))return t.length;if(G(t)||H(t))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return C(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return M(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,q(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=i.from(e,r)),i.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(o(t,l)===o(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*a}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var h=!0,f=0;f<u;f++)if(o(t,l+f)!==o(e,f)){h=!1;break}if(h)return l}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(q(s))return a;t[n+a]=s}return a}function b(t,e,n,r){return z(F(e,t.length-n),t,n,r)}function x(t,e,n,r){return z(U(e),t,n,r)}function w(t,e,n,r){return x(t,e,n,r)}function T(t,e,n,r){return z(W(e),t,n,r)}function E(t,e,n,r){return z(X(e,t.length-n),t,n,r)}function M(t,e,n){return 0===e&&n===t.length?Y.fromByteArray(t):Y.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,l,c,h;switch(s){case 1:o<128&&(a=o);break;case 2:128==(192&(u=t[i+1]))&&(h=(31&o)<<6|63&u)>127&&(a=h);break;case 3:u=t[i+1],l=t[i+2],128==(192&u)&&128==(192&l)&&(h=(15&o)<<12|(63&u)<<6|63&l)>2047&&(h<55296||h>57343)&&(a=h);break;case 4:u=t[i+1],l=t[i+2],c=t[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(h=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&h<1114112&&(a=h)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return O(r)}function O(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function P(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=B(t[o]);return i}function R(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,o,a){if(!i.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function k(t,e,n,r,i){return e=+e,n>>>=0,i||L(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),V.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,i){return e=+e,n>>>=0,i||L(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),V.write(t,e,n,r,52,8),n+8}function j(t){if((t=t.trim().replace($,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function U(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function W(t){return Y.toByteArray(j(t))}function z(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function H(t){return t instanceof ArrayBuffer||null!=t&&null!=t.constructor&&"ArrayBuffer"===t.constructor.name&&"number"==typeof t.byteLength}function G(t){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(t)}function q(t){return t!==t}var Y=t("base64-js"),V=t("ieee754");n.Buffer=i,n.SlowBuffer=function(t){return+t!=t&&(t=0),i.alloc(+t)},n.INSPECT_MAX_BYTES=50;var K=2147483647;n.kMaxLength=K,i.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(t,e,n){return o(t,e,n)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(t,e,n){return s(t,e,n)},i.allocUnsafe=function(t){return u(t)},i.allocUnsafeSlow=function(t){return u(t)},i.isBuffer=function(t){return null!=t&&!0===t._isBuffer},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,a=Math.min(n,r);o<a;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return i.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=i.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=p,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},i.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},i.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},i.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t,e,n,r,o){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var a=o-r,s=n-e,u=Math.min(a,s),l=this.slice(r,o),c=t.slice(e,n),h=0;h<u;++h)if(l[h]!==c[h]){a=l[h],s=c[h];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},i.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},i.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;i.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=i.prototype,r},i.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},i.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},i.prototype.readUInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},i.prototype.readInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){t>>>=0,e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){t>>>=0,e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return t>>>=0,e||I(t,4,this.length),V.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return t>>>=0,e||I(t,4,this.length),V.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return t>>>=0,e||I(t,8,this.length),V.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return t>>>=0,e||I(t,8,this.length),V.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,255,0),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},i.prototype.writeFloatLE=function(t,e,n){return k(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return k(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},i.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=i.isBuffer(t)?t:new i(t,r),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var $=/[^+/0-9A-Za-z-_]/g},{"base64-js":1,ieee754:42}],6:[function(t,e,n){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],7:[function(t,e,n){(function(t){function e(t){return Object.prototype.toString.call(t)}n.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},n.isBoolean=function(t){return"boolean"==typeof t},n.isNull=function(t){return null===t},n.isNullOrUndefined=function(t){return null==t},n.isNumber=function(t){return"number"==typeof t},n.isString=function(t){return"string"==typeof t},n.isSymbol=function(t){return"symbol"==typeof t},n.isUndefined=function(t){return void 0===t},n.isRegExp=function(t){return"[object RegExp]"===e(t)},n.isObject=function(t){return"object"==typeof t&&null!==t},n.isDate=function(t){return"[object Date]"===e(t)},n.isError=function(t){return"[object Error]"===e(t)||t instanceof Error},n.isFunction=function(t){return"function"==typeof t},n.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},n.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../is-buffer/index.js")})},{"../../is-buffer/index.js":44}],8:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(e,n){return a(t(e),n)}}function n(t,e){return[t,e]}function r(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=x?10:o>=w?5:o>=T?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=x?10:o>=w?5:o>=T?2:1)}function i(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=x?i*=10:o>=w?i*=5:o>=T&&(i*=2),e<t?-i:i}function o(t){return t.length}var a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},s=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},u=s(a),l=u.right,c=u.left,h=function(t){return null===t?NaN:+t},f=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=h(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=h(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},d=function(t,e){var n=f(t,e);return n?Math.sqrt(n):n},p=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},v=Array.prototype,y=v.slice,g=v.map,_=function(t){return function(){return t}},m=function(t){return t},b=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},x=Math.sqrt(50),w=Math.sqrt(10),T=Math.sqrt(2),E=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},M=function(t,e,n){if(null==n&&(n=h),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},S=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},O=function(t){if(!(i=t.length))return[];for(var e=-1,n=S(t,o),r=new Array(n);++e<n;)for(var i,a=-1,s=r[e]=new Array(i);++a<i;)s[a]=t[a][e];return r};t.bisect=l,t.bisectRight=l,t.bisectLeft=c,t.ascending=a,t.bisector=s,t.cross=function(t,e,r){var i,o,a,s,u=t.length,l=e.length,c=new Array(u*l);for(null==r&&(r=n),i=a=0;i<u;++i)for(s=t[i],o=0;o<l;++o,++a)c[a]=r(s,e[o]);return c},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=d,t.extent=p,t.histogram=function(){function t(t){var o,a,s=t.length,u=new Array(s);for(o=0;o<s;++o)u[o]=e(t[o],o,t);var c=n(u),h=c[0],f=c[1],d=r(u,h,f);Array.isArray(d)||(d=i(h,f,d),d=b(Math.ceil(h/d)*d,Math.floor(f/d)*d,d));for(var p=d.length;d[0]<=h;)d.shift(),--p;for(;d[p-1]>f;)d.pop(),--p;var v,y=new Array(p+1);for(o=0;o<=p;++o)(v=y[o]=[]).x0=o>0?d[o-1]:h,v.x1=o<p?d[o]:f;for(o=0;o<s;++o)h<=(a=u[o])&&a<=f&&y[l(d,a,0,p)].push(t[o]);return y}var e=m,n=p,r=E;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:_(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:_([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:_(Array.isArray(e)?y.call(e):e),t):r},t},t.thresholdFreedmanDiaconis=function(t,e,n){return t=g.call(t,h).sort(a),Math.ceil((n-e)/(2*(M(t,.75)-M(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*d(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=E,t.max=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},t.mean=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=h(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=h(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},t.median=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=h(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=h(e(t[i],i,t)))||o.push(n);return M(o.sort(a),.5)},t.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},t.min=S,t.pairs=function(t,e){null==e&&(e=n);for(var r=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);r<i;)a[r]=e(o,o=t[++r]);return a},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=M,t.range=b,t.scan=function(t,e){if(n=t.length){var n,r,i=0,o=0,s=t[o];for(null==e&&(e=a);++i<n;)(e(r=t[i],s)<0||0!==e(s,s))&&(s=r,o=i);return 0===e(s,s)?o:void 0}},t.shuffle=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.sum=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},t.ticks=function(t,e,n){var i,o,a,s=e<t,u=-1;if(s&&(i=t,t=e,e=i),0===(a=r(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return s&&o.reverse(),o},t.tickIncrement=r,t.tickStep=i,t.transpose=O,t.variance=f,t.zip=function(){return O(arguments)},Object.defineProperty(t,"__esModule",{value:!0})})},{}],9:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return"translate("+(t+.5)+",0)"}function n(t){return"translate(0,"+(t+.5)+")"}function r(t){return function(e){return+t(e)}}function i(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function o(){return!this.__axis}function a(t,a){function p(e){var n=null==y?a.ticks?a.ticks.apply(a,v):a.domain():y,s=null==g?a.tickFormat?a.tickFormat.apply(a,v):u:g,p=Math.max(_,0)+b,E=a.range(),M=+E[0]+.5,S=+E[E.length-1]+.5,O=(a.bandwidth?i:r)(a.copy()),C=e.selection?e.selection():e,A=C.selectAll(".domain").data([null]),P=C.selectAll(".tick").data(n,a).order(),R=P.exit(),I=P.enter().append("g").attr("class","tick"),D=P.select("line"),L=P.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),P=P.merge(I),D=D.merge(I.append("line").attr("stroke","#000").attr(w+"2",x*_)),L=L.merge(I.append("text").attr("fill","#000").attr(w,x*p).attr("dy",t===l?"0em":t===h?"0.71em":"0.32em")),e!==C&&(A=A.transition(e),P=P.transition(e),D=D.transition(e),L=L.transition(e),R=R.transition(e).attr("opacity",d).attr("transform",function(t){return isFinite(t=O(t))?T(t):this.getAttribute("transform")}),I.attr("opacity",d).attr("transform",function(t){var e=this.parentNode.__axis;return T(e&&isFinite(e=e(t))?e:O(t))})),R.remove(),A.attr("d",t===f||t==c?"M"+x*m+","+M+"H0.5V"+S+"H"+x*m:"M"+M+","+x*m+"V0.5H"+S+"V"+x*m),P.attr("opacity",1).attr("transform",function(t){return T(O(t))}),D.attr(w+"2",x*_),L.attr(w,x*p).text(s),C.filter(o).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===c?"start":t===f?"end":"middle"),C.each(function(){this.__axis=O})}var v=[],y=null,g=null,_=6,m=6,b=3,x=t===l||t===f?-1:1,w=t===f||t===c?"x":"y",T=t===l||t===h?e:n;return p.scale=function(t){return arguments.length?(a=t,p):a},p.ticks=function(){return v=s.call(arguments),p},p.tickArguments=function(t){return arguments.length?(v=null==t?[]:s.call(t),p):v.slice()},p.tickValues=function(t){return arguments.length?(y=null==t?null:s.call(t),p):y&&y.slice()},p.tickFormat=function(t){return arguments.length?(g=t,p):g},p.tickSize=function(t){return arguments.length?(_=m=+t,p):_},p.tickSizeInner=function(t){return arguments.length?(_=+t,p):_},p.tickSizeOuter=function(t){return arguments.length?(m=+t,p):m},p.tickPadding=function(t){return arguments.length?(b=+t,p):b},p}var s=Array.prototype.slice,u=function(t){return t},l=1,c=2,h=3,f=4,d=1e-6;t.axisTop=function(t){return a(l,t)},t.axisRight=function(t){return a(c,t)},t.axisBottom=function(t){return a(h,t)},t.axisLeft=function(t){return a(f,t)},Object.defineProperty(t,"__esModule",{value:!0})})},{}],10:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-selection"),t("d3-transition")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],i):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i,o){"use strict";function a(){i.event.stopImmediatePropagation()}function s(t){return{type:t}}function u(){return!i.event.button}function l(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function c(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function h(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function f(t){function f(e){var n=e.property("__brush",R).selectAll(".overlay").data([s("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",T.overlay).merge(n).each(function(){var t=c(this).extent;i.select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([s("selection")]).enter().append("rect").attr("class","selection").attr("cursor",T.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return T[t.type]}),e.each(w).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",P)}function w(){var t=i.select(this),e=c(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-N/2:e[0][0]-N/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-N/2:e[0][1]-N/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+N:N}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+N:N})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function C(t,e){return t.__brush.emitter||new A(t,e)}function A(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function P(){function e(){var t=i.mouse(F);!$||j||B||(Math.abs(t[0]-Q[0])>Math.abs(t[1]-Q[1])?B=!0:j=!0),Q=t,N=!0,v(),r()}function r(){var t;switch(D=Q[0]-J[0],k=Q[1]-J[1],X){case g:case y:W&&(D=Math.max(Y-u,Math.min(K-p,D)),l=u+D,A=p+D),z&&(k=Math.max(V-f,Math.min(Z-P,k)),d=f+k,R=P+k);break;case _:W<0?(D=Math.max(Y-u,Math.min(K-u,D)),l=u+D,A=p):W>0&&(D=Math.max(Y-p,Math.min(K-p,D)),l=u,A=p+D),z<0?(k=Math.max(V-f,Math.min(Z-f,k)),d=f+k,R=P):z>0&&(k=Math.max(V-P,Math.min(Z-P,k)),d=f,R=P+k);break;case m:W&&(l=Math.max(Y,Math.min(K,u-D*W)),A=Math.max(Y,Math.min(K,p+D*W))),z&&(d=Math.max(V,Math.min(Z,f-k*z)),R=Math.max(V,Math.min(Z,P+k*z)))}A<l&&(W*=-1,t=u,u=p,p=t,t=l,l=A,A=t,U in E&&nt.attr("cursor",T[U=E[U]])),R<d&&(z*=-1,t=f,f=P,P=t,t=d,d=R,R=t,U in M&&nt.attr("cursor",T[U=M[U]])),H.selection&&(q=H.selection),j&&(l=q[0][0],A=q[1][0]),B&&(d=q[0][1],R=q[1][1]),q[0][0]===l&&q[0][1]===d&&q[1][0]===A&&q[1][1]===R||(H.selection=[[l,d],[A,R]],w.call(F),tt.brush())}function s(){if(a(),i.event.touches){if(i.event.touches.length)return;I&&clearTimeout(I),I=setTimeout(function(){I=null},500),et.on("touchmove.brush touchend.brush touchcancel.brush",null)}else n.dragEnable(i.event.view,N),rt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);et.attr("pointer-events","all"),nt.attr("cursor",T.overlay),H.selection&&(q=H.selection),h(q)&&(H.selection=null,w.call(F)),tt.end()}if(i.event.touches){if(i.event.changedTouches.length<i.event.touches.length)return v()}else if(I)return;if(L.apply(this,arguments)){var u,l,f,d,p,A,P,R,D,k,N,j,B,F=this,U=i.event.target.__data__.type,X="selection"===(i.event.metaKey?U="overlay":U)?y:i.event.altKey?m:_,W=t===x?null:S[U],z=t===b?null:O[U],H=c(F),G=H.extent,q=H.selection,Y=G[0][0],V=G[0][1],K=G[1][0],Z=G[1][1],$=W&&z&&i.event.shiftKey,J=i.mouse(F),Q=J,tt=C(F,arguments).beforestart();"overlay"===U?H.selection=q=[[u=t===x?Y:J[0],f=t===b?V:J[1]],[p=t===x?K:u,P=t===b?Z:f]]:(u=q[0][0],f=q[0][1],p=q[1][0],P=q[1][1]),l=u,d=f,A=p,R=P;var et=i.select(F).attr("pointer-events","none"),nt=et.selectAll(".overlay").attr("cursor",T[U]);if(i.event.touches)et.on("touchmove.brush",e,!0).on("touchend.brush touchcancel.brush",s,!0);else{var rt=i.select(i.event.view).on("keydown.brush",function(){switch(i.event.keyCode){case 16:$=W&&z;break;case 18:X===_&&(W&&(p=A-D*W,u=l+D*W),z&&(P=R-k*z,f=d+k*z),X=m,r());break;case 32:X!==_&&X!==m||(W<0?p=A-D:W>0&&(u=l-D),z<0?P=R-k:z>0&&(f=d-k),X=g,nt.attr("cursor",T.selection),r());break;default:return}v()},!0).on("keyup.brush",function(){switch(i.event.keyCode){case 16:$&&(j=B=$=!1,r());break;case 18:X===m&&(W<0?p=A:W>0&&(u=l),z<0?P=R:z>0&&(f=d),X=_,r());break;case 32:X===g&&(i.event.altKey?(W&&(p=A-D*W,u=l+D*W),z&&(P=R-k*z,f=d+k*z),X=m):(W<0?p=A:W>0&&(u=l),z<0?P=R:z>0&&(f=d),X=_),nt.attr("cursor",T[U]),r());break;default:return}v()},!0).on("mousemove.brush",e,!0).on("mouseup.brush",s,!0);n.dragDisable(i.event.view)}a(),o.interrupt(F),w.call(F),tt.start()}}function R(){var e=this.__brush||{selection:null};return e.extent=D.apply(this,arguments),e.dim=t,e}var I,D=l,L=u,k=e.dispatch(f,"start","brush","end"),N=6;return f.move=function(e,n){e.selection?e.on("start.brush",function(){C(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){C(this,arguments).end()}).tween("brush",function(){function e(t){o.selection=1===t&&h(u)?null:l(t),w.call(i),a.brush()}var i=this,o=i.__brush,a=C(i,arguments),s=o.selection,u=t.input("function"==typeof n?n.apply(this,arguments):n,o.extent),l=r.interpolate(s,u);return s&&u?e:e(1)}):e.each(function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,i.extent),s=C(e,r).beforestart();o.interrupt(e),i.selection=null==a||h(a)?null:a,w.call(e),s.start().brush().end()})},A.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){i.customEvent(new p(f,e,t.output(this.state.selection)),k.apply,k,[e,this.that,this.args])}},f.extent=function(t){return arguments.length?(D="function"==typeof t?t:d([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),f):D},f.filter=function(t){return arguments.length?(L="function"==typeof t?t:d(!!t),f):L},f.handleSize=function(t){return arguments.length?(N=+t,f):N},f.on=function(){var t=k.on.apply(k,arguments);return t===k?f:t},f}var d=function(t){return function(){return t}},p=function(t,e,n){this.target=t,this.type=e,this.selection=n},v=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},y={name:"drag"},g={name:"space"},_={name:"handle"},m={name:"center"},b={name:"x",handles:["e","w"].map(s),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},x={name:"y",handles:["n","s"].map(s),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},w={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(s),input:function(t){return t},output:function(t){return t}},T={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},E={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},M={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},S={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},O={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};t.brush=function(){return f(w)},t.brushX=function(){return f(b)},t.brushY=function(){return f(x)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":14,"d3-drag":15,"d3-interpolate":22,"d3-selection":30,"d3-transition":35}],11:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-array"),t("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-path"],i):i(r.d3=r.d3||{},r.d3,r.d3)}(this,function(t,e,n){"use strict";function r(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function i(t){return t.source}function o(t){return t.target}function a(t){return t.radius}function s(t){return t.startAngle}function u(t){return t.endAngle}var l=Math.cos,c=Math.sin,h=Math.PI,f=h/2,d=2*h,p=Math.max,v=Array.prototype.slice,y=function(t){return function(){return t}};t.chord=function(){function t(t){var r,s,u,l,c,h,f=t.length,v=[],y=e.range(f),g=[],_=[],m=_.groups=new Array(f),b=new Array(f*f);for(r=0,c=-1;++c<f;){for(s=0,h=-1;++h<f;)s+=t[c][h];v.push(s),g.push(e.range(f)),r+=s}for(i&&y.sort(function(t,e){return i(v[t],v[e])}),o&&g.forEach(function(e,n){e.sort(function(e,r){return o(t[n][e],t[n][r])})}),l=(r=p(0,d-n*f)/r)?n:d/f,s=0,c=-1;++c<f;){for(u=s,h=-1;++h<f;){var x=y[c],w=g[x][h],T=t[x][w],E=s,M=s+=T*r;b[w*f+x]={index:x,subindex:w,startAngle:E,endAngle:M,value:T}}m[x]={index:x,startAngle:u,endAngle:s,value:v[x]},s+=l}for(c=-1;++c<f;)for(h=c-1;++h<f;){var S=b[h*f+c],O=b[c*f+h];(S.value||O.value)&&_.push(S.value<O.value?{source:O,target:S}:{source:S,target:O})}return a?_.sort(a):_}var n=0,i=null,o=null,a=null;return t.padAngle=function(e){return arguments.length?(n=p(0,e),t):n},t.sortGroups=function(e){return arguments.length?(i=e,t):i},t.sortSubgroups=function(e){return arguments.length?(o=e,t):o},t.sortChords=function(e){return arguments.length?(null==e?a=null:(a=r(e))._=e,t):a&&a._},t},t.ribbon=function(){function t(){var t,i=v.call(arguments),o=e.apply(this,i),a=r.apply(this,i),s=+h.apply(this,(i[0]=o,i)),u=d.apply(this,i)-f,y=p.apply(this,i)-f,_=s*l(u),m=s*c(u),b=+h.apply(this,(i[0]=a,i)),x=d.apply(this,i)-f,w=p.apply(this,i)-f;if(g||(g=t=n.path()),g.moveTo(_,m),g.arc(0,0,s,u,y),u===x&&y===w||(g.quadraticCurveTo(0,0,b*l(x),b*c(x)),g.arc(0,0,b,x,w)),g.quadraticCurveTo(0,0,_,m),g.closePath(),t)return g=null,t+""||null}var e=i,r=o,h=a,d=s,p=u,g=null;return t.radius=function(e){return arguments.length?(h="function"==typeof e?e:y(+e),t):h},t.startAngle=function(e){return arguments.length?(d="function"==typeof e?e:y(+e),t):d},t.endAngle=function(e){return arguments.length?(p="function"==typeof e?e:y(+e),t):p},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(r=e,t):r},t.context=function(e){return arguments.length?(g=null==e?null:e,t):g},t},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-array":8,"d3-path":23}],12:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){}function n(t,n){var r=new e;if(t instanceof e)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(n(i=t[o],o,t),i)}else if(t)for(var s in t)r.set(s,t[s]);return r}function r(){return{}}function i(t,e,n){t[e]=n}function o(){return n()}function a(t,e,n){t.set(e,n)}function s(){}function u(t,e){var n=new s;if(t instanceof s)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}e.prototype=n.prototype={constructor:e,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var l=n.prototype;s.prototype=u.prototype={constructor:s,has:l.has,add:function(t){return t+="",this["$"+t]=t,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each};t.nest=function(){function t(e,r,i,o){if(r>=c.length)return null!=s&&e.sort(s),null!=u?u(e):e;for(var a,l,h,f=-1,d=e.length,p=c[r++],v=n(),y=i();++f<d;)(h=v.get(a=p(l=e[f])+""))?h.push(l):v.set(a,[l]);return v.each(function(e,n){o(y,n,t(e,r,i,o))}),y}function e(t,n){if(++n>c.length)return t;var r,i=h[n-1];return null!=u&&n>=c.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}var s,u,l,c=[],h=[];return l={object:function(e){return t(e,0,r,i)},map:function(e){return t(e,0,o,a)},entries:function(n){return e(t(n,0,o,a),0)},key:function(t){return c.push(t),l},sortKeys:function(t){return h[c.length-1]=t,l},sortValues:function(t){return s=t,l},rollup:function(t){return u=t,l}}},t.set=u,t.map=n,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Object.defineProperty(t,"__esModule",{value:!0})})},{}],13:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function n(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=R.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=I.exec(t))?i(parseInt(e[1],16)):(e=D.exec(t))?new u(e[1],e[2],e[3],1):(e=L.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=k.exec(t))?o(e[1],e[2],e[3],e[4]):(e=N.exec(t))?o(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=j.exec(t))?l(e[1],e[2]/100,e[3]/100,1):(e=B.exec(t))?l(e[1],e[2]/100,e[3]/100,e[4]):F.hasOwnProperty(t)?i(F[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function i(t){return new u(t>>16&255,t>>8&255,255&t,1)}function o(t,e,n,r){return r<=0&&(t=e=n=NaN),new u(t,e,n,r)}function a(t){return t instanceof n||(t=r(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function s(t,e,n,r){return 1===arguments.length?a(t):new u(t,e,n,null==r?1:r)}function u(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function l(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new f(t,e,n,r)}function c(t){if(t instanceof f)return new f(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=r(t)),!t)return new f;if(t instanceof f)return t;var e=(t=t.rgb()).r/255,i=t.g/255,o=t.b/255,a=Math.min(e,i,o),s=Math.max(e,i,o),u=NaN,l=s-a,c=(s+a)/2;return l?(u=e===s?(i-o)/l+6*(i<o):i===s?(o-e)/l+2:(e-i)/l+4,l/=c<.5?s+a:2-s-a,u*=60):l=c>0&&c<1?0:u,new f(u,l,c,t.opacity)}function h(t,e,n,r){return 1===arguments.length?c(t):new f(t,e,n,null==r?1:r)}function f(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function d(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function p(t){if(t instanceof y)return new y(t.l,t.a,t.b,t.opacity);if(t instanceof T){var e=t.h*U;return new y(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof u||(t=a(t));var n=b(t.r),r=b(t.g),i=b(t.b),o=g((.4124564*n+.3575761*r+.1804375*i)/W),s=g((.2126729*n+.7151522*r+.072175*i)/z);return new y(116*s-16,500*(o-s),200*(s-g((.0193339*n+.119192*r+.9503041*i)/H)),t.opacity)}function v(t,e,n,r){return 1===arguments.length?p(t):new y(t,e,n,null==r?1:r)}function y(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function g(t){return t>V?Math.pow(t,1/3):t/Y+G}function _(t){return t>q?t*t*t:Y*(t-G)}function m(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function b(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function x(t){if(t instanceof T)return new T(t.h,t.c,t.l,t.opacity);t instanceof y||(t=p(t));var e=Math.atan2(t.b,t.a)*X;return new T(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function w(t,e,n,r){return 1===arguments.length?x(t):new T(t,e,n,null==r?1:r)}function T(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function E(t){if(t instanceof S)return new S(t.h,t.s,t.l,t.opacity);t instanceof u||(t=a(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(nt*r+tt*e-et*n)/(nt+tt-et),o=r-i,s=(Q*(n-i)-$*o)/J,l=Math.sqrt(s*s+o*o)/(Q*i*(1-i)),c=l?Math.atan2(s,o)*X-120:NaN;return new S(c<0?c+360:c,l,i,t.opacity)}function M(t,e,n,r){return 1===arguments.length?E(t):new S(t,e,n,null==r?1:r)}function S(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var O=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},C="\\s*([+-]?\\d+)\\s*",A="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",P="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",R=/^#([0-9a-f]{3})$/,I=/^#([0-9a-f]{6})$/,D=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),L=new RegExp("^rgb\\("+[P,P,P]+"\\)$"),k=new RegExp("^rgba\\("+[C,C,C,A]+"\\)$"),N=new RegExp("^rgba\\("+[P,P,P,A]+"\\)$"),j=new RegExp("^hsl\\("+[A,P,P]+"\\)$"),B=new RegExp("^hsla\\("+[A,P,P,A]+"\\)$"),F={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O(n,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),O(u,s,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),O(f,h,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new f(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new f(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new u(d(t>=240?t-240:t+120,i,r),d(t,i,r),d(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var U=Math.PI/180,X=180/Math.PI,W=.95047,z=1,H=1.08883,G=4/29,q=6/29,Y=3*q*q,V=q*q*q;O(y,v,e(n,{brighter:function(t){return new y(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new y(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=z*_(t),e=W*_(e),n=H*_(n),new u(m(3.2404542*e-1.5371385*t-.4985314*n),m(-.969266*e+1.8760108*t+.041556*n),m(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),O(T,w,e(n,{brighter:function(t){return new T(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new T(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return p(this).rgb()}}));var K=-.14861,Z=1.78277,$=-.29227,J=-.90649,Q=1.97294,tt=Q*J,et=Q*Z,nt=Z*$-J*K;O(S,M,e(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new S(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new S(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*U,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new u(255*(e+n*(K*r+Z*i)),255*(e+n*($*r+J*i)),255*(e+n*(Q*r)),this.opacity)}})),t.color=r,t.rgb=s,t.hsl=h,t.lab=v,t.hcl=w,t.cubehelix=M,Object.defineProperty(t,"__esModule",{value:!0})})},{}],14:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){for(var t,e=0,r=arguments.length,i={};e<r;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new n(i)}function n(t){this._=t}function r(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function i(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function o(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=a,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}var a={value:function(){}};n.prototype=e.prototype={constructor:n,on:function(t,e){var n,a=this._,s=r(t+"",a),u=-1,l=s.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<l;)if(n=(t=s[u]).type)a[n]=o(a[n],t.name,e);else if(null==e)for(n in a)a[n]=o(a[n],t.name,null);return this}for(;++u<l;)if((n=(t=s[u]).type)&&(n=i(a[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=e,Object.defineProperty(t,"__esModule",{value:!0})})},{}],15:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-selection")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-selection"],i):i(r.d3=r.d3||{},r.d3,r.d3)}(this,function(t,e,n){"use strict";function r(){n.event.stopImmediatePropagation()}function i(t,e){var r=t.document.documentElement,i=n.select(t).on("dragstart.drag",null);e&&(i.on("click.drag",c,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in r?i.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function o(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function a(){return!n.event.button}function s(){return this.parentNode}function u(t){return null==t?{x:n.event.x,y:n.event.y}:t}function l(){return"ontouchstart"in this}var c=function(){n.event.preventDefault(),n.event.stopImmediatePropagation()},h=function(t){var e=t.document.documentElement,r=n.select(t).on("dragstart.drag",c,!0);"onselectstart"in e?r.on("selectstart.drag",c,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},f=function(t){return function(){return t}};o.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};t.drag=function(){function t(t){t.on("mousedown.drag",d).filter(l).on("touchstart.drag",y).on("touchmove.drag",g).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!T&&E.apply(this,arguments)){var t=m("mouse",M.apply(this,arguments),n.mouse,this,arguments);t&&(n.select(n.event.view).on("mousemove.drag",p,!0).on("mouseup.drag",v,!0),h(n.event.view),r(),w=!1,b=n.event.clientX,x=n.event.clientY,t("start"))}}function p(){if(c(),!w){var t=n.event.clientX-b,e=n.event.clientY-x;w=t*t+e*e>P}O.mouse("drag")}function v(){n.select(n.event.view).on("mousemove.drag mouseup.drag",null),i(n.event.view,w),c(),O.mouse("end")}function y(){if(E.apply(this,arguments)){var t,e,i=n.event.changedTouches,o=M.apply(this,arguments),a=i.length;for(t=0;t<a;++t)(e=m(i[t].identifier,o,n.touch,this,arguments))&&(r(),e("start"))}}function g(){var t,e,r=n.event.changedTouches,i=r.length;for(t=0;t<i;++t)(e=O[r[t].identifier])&&(c(),e("drag"))}function _(){var t,e,i=n.event.changedTouches,o=i.length;for(T&&clearTimeout(T),T=setTimeout(function(){T=null},500),t=0;t<o;++t)(e=O[i[t].identifier])&&(r(),e("end"))}function m(e,r,i,a,s){var u,l,c,h=i(r,e),f=C.copy();if(n.customEvent(new o(t,"beforestart",u,e,A,h[0],h[1],0,0,f),function(){return null!=(n.event.subject=u=S.apply(a,s))&&(l=u.x-h[0]||0,c=u.y-h[1]||0,!0)}))return function d(p){var v,y=h;switch(p){case"start":O[e]=d,v=A++;break;case"end":delete O[e],--A;case"drag":h=i(r,e),v=A}n.customEvent(new o(t,p,u,e,v,h[0]+l,h[1]+c,h[0]-y[0],h[1]-y[1],f),f.apply,f,[p,a,s])}}var b,x,w,T,E=a,M=s,S=u,O={},C=e.dispatch("start","drag","end"),A=0,P=0;return t.filter=function(e){return arguments.length?(E="function"==typeof e?e:f(!!e),t):E},t.container=function(e){return arguments.length?(M="function"==typeof e?e:f(e),t):M},t.subject=function(e){return arguments.length?(S="function"==typeof e?e:f(e),t):S},t.on=function(){var e=C.on.apply(C,arguments);return e===C?t:e},t.clickDistance=function(e){return arguments.length?(P=(e=+e)*e,t):Math.sqrt(P)},t},t.dragDisable=h,t.dragEnable=i,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":14,"d3-selection":30}],16:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function n(t,n){var r=e(t);return function(e,i){return n(r(e),i,t)}}function r(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}var i={},o={},a=34,s=10,u=13,l=function(t){function l(t,e){function n(){if(p)return o;if(v)return v=!1,i;var e,n,r=h;if(t.charCodeAt(r)===a){for(;h++<c&&t.charCodeAt(h)!==a||t.charCodeAt(++h)===a;);return(e=h)>=c?p=!0:(n=t.charCodeAt(h++))===s?v=!0:n===u&&(v=!0,t.charCodeAt(h)===s&&++h),t.slice(r+1,e-1).replace(/""/g,'"')}for(;h<c;){if((n=t.charCodeAt(e=h++))===s)v=!0;else if(n===u)v=!0,t.charCodeAt(h)===s&&++h;else if(n!==d)continue;return t.slice(r,e)}return p=!0,t.slice(r,c)}var r,l=[],c=t.length,h=0,f=0,p=c<=0,v=!1;for(t.charCodeAt(c-1)===s&&--c,t.charCodeAt(c-1)===u&&--c;(r=n())!==o;){for(var y=[];r!==i&&r!==o;)y.push(r),r=n();e&&null==(y=e(y,f++))||l.push(y)}return l}function c(e){return e.map(h).join(t)}function h(t){return null==t?"":f.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var f=new RegExp('["'+t+"\n\r]"),d=t.charCodeAt(0);return{parse:function(t,r){var i,o,a=l(t,function(t,a){if(i)return i(t,a-1);o=t,i=r?n(t,r):e(t)});return a.columns=o,a},parseRows:l,format:function(e,n){return null==n&&(n=r(e)),[n.map(h).join(t)].concat(e.map(function(e){return n.map(function(t){return h(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(c).join("\n")}}},c=l(","),h=c.parse,f=c.parseRows,d=c.format,p=c.formatRows,v=l("\t"),y=v.parse,g=v.parseRows,_=v.format,m=v.formatRows;t.dsvFormat=l,t.csvParse=h,t.csvParseRows=f,t.csvFormat=d,t.csvFormatRows=p,t.tsvParse=y,t.tsvParseRows=g,t.tsvFormat=_,t.tsvFormatRows=m,Object.defineProperty(t,"__esModule",{value:!0})})},{}],17:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function r(t){return(1-Math.cos(c*t))/2}function i(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function o(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function a(t){return(t=+t)<f?x*t*t:t<p?x*(t-=d)*t+v:t<g?x*(t-=y)*t+_:x*(t-=m)*t+b}var s=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),u=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),l=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),c=Math.PI,h=c/2,f=4/11,d=6/11,p=8/11,v=.75,y=9/11,g=10/11,_=.9375,m=21/22,b=63/64,x=1/f/f,w=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),T=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),E=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),M=2*Math.PI,S=function t(e,n){function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=M);return r.amplitude=function(e){return t(e,n*M)},r.period=function(n){return t(e,n)},r}(1,.3),O=function t(e,n){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=M);return r.amplitude=function(e){return t(e,n*M)},r.period=function(n){return t(e,n)},r}(1,.3),C=function t(e,n){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=M);return r.amplitude=function(e){return t(e,n*M)},r.period=function(n){return t(e,n)},r}(1,.3);t.easeLinear=function(t){return+t},t.easeQuad=e,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=e,t.easeCubic=n,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=n,t.easePoly=l,t.easePolyIn=s,t.easePolyOut=u,t.easePolyInOut=l,t.easeSin=r,t.easeSinIn=function(t){return 1-Math.cos(t*h)},t.easeSinOut=function(t){return Math.sin(t*h)},t.easeSinInOut=r,t.easeExp=i,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=i,t.easeCircle=o,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=o,t.easeBounce=a,t.easeBounceIn=function(t){return 1-a(1-t)},t.easeBounceOut=a,t.easeBounceInOut=function(t){return((t*=2)<=1?1-a(1-t):a(t-1)+1)/2},t.easeBack=E,t.easeBackIn=w,t.easeBackOut=T,t.easeBackInOut=E,t.easeElastic=O,t.easeElasticIn=S,t.easeElasticOut=O,t.easeElasticInOut=C,Object.defineProperty(t,"__esModule",{value:!0})})},{}],18:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-quadtree"),t("d3-collection"),t("d3-dispatch"),t("d3-timer")):"function"==typeof define&&define.amd?define(["exports","d3-quadtree","d3-collection","d3-dispatch","d3-timer"],i):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i){"use strict";function o(t){return t.x+t.vx}function a(t){return t.y+t.vy}function s(t){return t.index}function u(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function l(t){return t.x}function c(t){return t.y}var h=function(t){return function(){return t}},f=function(){return 1e-6*(Math.random()-.5)},d=10,p=Math.PI*(3-Math.sqrt(5));t.forceCenter=function(t,e){function n(){var n,i,o=r.length,a=0,s=0;for(n=0;n<o;++n)a+=(i=r[n]).x,s+=i.y;for(a=a/o-t,s=s/o-e,n=0;n<o;++n)(i=r[n]).x-=a,i.y-=s}var r;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},t.forceCollide=function(t){function n(){for(var t,n,i,h,d,p,v,y=s.length,g=0;g<c;++g)for(n=e.quadtree(s,o,a).visitAfter(r),t=0;t<y;++t)i=s[t],p=u[i.index],v=p*p,h=i.x+i.vx,d=i.y+i.vy,n.visit(function(t,e,n,r,o){var a=t.data,s=t.r,u=p+s;if(!a)return e>h+u||r<h-u||n>d+u||o<d-u;if(a.index>i.index){var c=h-a.x-a.vx,y=d-a.y-a.vy,g=c*c+y*y;g<u*u&&(0===c&&(c=f(),g+=c*c),0===y&&(y=f(),g+=y*y),g=(u-(g=Math.sqrt(g)))/g*l,i.vx+=(c*=g)*(u=(s*=s)/(v+s)),i.vy+=(y*=g)*u,a.vx-=c*(u=1-u),a.vy-=y*u)}})}function r(t){if(t.data)return t.r=u[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function i(){if(s){var e,n,r=s.length;for(u=new Array(r),e=0;e<r;++e)n=s[e],u[n.index]=+t(n,e,s)}}var s,u,l=1,c=1;return"function"!=typeof t&&(t=h(null==t?1:+t)),n.initialize=function(t){s=t,i()},n.iterations=function(t){return arguments.length?(c=+t,n):c},n.strength=function(t){return arguments.length?(l=+t,n):l},n.radius=function(e){return arguments.length?(t="function"==typeof e?e:h(+e),i(),n):t},n},t.forceLink=function(t){function e(e){for(var n=0,r=t.length;n<_;++n)for(var i,o,s,u,c,h,d,v=0;v<r;++v)o=(i=t[v]).source,u=(s=i.target).x+s.vx-o.x-o.vx||f(),c=s.y+s.vy-o.y-o.vy||f(),u*=h=((h=Math.sqrt(u*u+c*c))-l[v])/h*e*a[v],c*=h,s.vx-=u*(d=p[v]),s.vy-=c*d,o.vx+=u*(d=1-d),o.vy+=c*d}function r(){if(c){var e,r,s=c.length,h=t.length,f=n.map(c,v);for(e=0,d=new Array(s);e<h;++e)(r=t[e]).index=e,"object"!=typeof r.source&&(r.source=u(f,r.source)),"object"!=typeof r.target&&(r.target=u(f,r.target)),d[r.source.index]=(d[r.source.index]||0)+1,d[r.target.index]=(d[r.target.index]||0)+1;for(e=0,p=new Array(h);e<h;++e)r=t[e],p[e]=d[r.source.index]/(d[r.source.index]+d[r.target.index]);a=new Array(h),i(),l=new Array(h),o()}}function i(){if(c)for(var e=0,n=t.length;e<n;++e)a[e]=+y(t[e],e,t)}function o(){if(c)for(var e=0,n=t.length;e<n;++e)l[e]=+g(t[e],e,t)}var a,l,c,d,p,v=s,y=function(t){return 1/Math.min(d[t.source.index],d[t.target.index])},g=h(30),_=1;return null==t&&(t=[]),e.initialize=function(t){c=t,r()},e.links=function(n){return arguments.length?(t=n,r(),e):t},e.id=function(t){return arguments.length?(v=t,e):v},e.iterations=function(t){return arguments.length?(_=+t,e):_},e.strength=function(t){return arguments.length?(y="function"==typeof t?t:h(+t),i(),e):y},e.distance=function(t){return arguments.length?(g="function"==typeof t?t:h(+t),o(),e):g},e},t.forceManyBody=function(){function t(t){var n,u=o.length,h=e.quadtree(o,l,c).visitAfter(r);for(s=t,n=0;n<u;++n)a=o[n],h.visit(i)}function n(){if(o){var t,e,n=o.length;for(u=new Array(n),t=0;t<n;++t)e=o[t],u[e.index]=+d(e,t,o)}}function r(t){var e,n,r,i,o,a=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(a+=n,r+=n*e.x,i+=n*e.y);t.x=r/a,t.y=i/a}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=u[e.data.index]}while(e=e.next)}t.value=a}function i(t,e,n,r){if(!t.value)return!0;var i=t.x-a.x,o=t.y-a.y,l=r-e,c=i*i+o*o;if(l*l/y<c)return c<v&&(0===i&&(i=f(),c+=i*i),0===o&&(o=f(),c+=o*o),c<p&&(c=Math.sqrt(p*c)),a.vx+=i*t.value*s/c,a.vy+=o*t.value*s/c),!0;if(!(t.length||c>=v)){(t.data!==a||t.next)&&(0===i&&(i=f(),c+=i*i),0===o&&(o=f(),c+=o*o),c<p&&(c=Math.sqrt(p*c)));do{t.data!==a&&(l=u[t.data.index]*s/c,a.vx+=i*l,a.vy+=o*l)}while(t=t.next)}}var o,a,s,u,d=h(-30),p=1,v=1/0,y=.81;return t.initialize=function(t){o=t,n()},t.strength=function(e){return arguments.length?(d="function"==typeof e?e:h(+e),n(),t):d},t.distanceMin=function(e){return arguments.length?(p=e*e,t):Math.sqrt(p)},t.distanceMax=function(e){return arguments.length?(v=e*e,t):Math.sqrt(v)},t.theta=function(e){return arguments.length?(y=e*e,t):Math.sqrt(y)},t},t.forceSimulation=function(t){function e(){o(),_.call("tick",u),l<c&&(g.stop(),_.call("end",u))}function o(){var e,n,r=t.length;for(l+=(f-l)*h,y.each(function(t){t(l)}),e=0;e<r;++e)null==(n=t[e]).fx?n.x+=n.vx*=v:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=v:(n.y=n.fy,n.vy=0)}function a(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=d*Math.sqrt(n),o=n*p;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function s(e){return e.initialize&&e.initialize(t),e}var u,l=1,c=.001,h=1-Math.pow(c,1/300),f=0,v=.6,y=n.map(),g=i.timer(e),_=r.dispatch("tick","end");return null==t&&(t=[]),a(),u={tick:o,restart:function(){return g.restart(e),u},stop:function(){return g.stop(),u},nodes:function(e){return arguments.length?(t=e,a(),y.each(s),u):t},alpha:function(t){return arguments.length?(l=+t,u):l},alphaMin:function(t){return arguments.length?(c=+t,u):c},alphaDecay:function(t){return arguments.length?(h=+t,u):+h},alphaTarget:function(t){return arguments.length?(f=+t,u):f},velocityDecay:function(t){return arguments.length?(v=1-t,u):1-v},force:function(t,e){return arguments.length>1?(null==e?y.remove(t):y.set(t,s(e)),u):y.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(a=(i=e-(s=t[l]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,e){return arguments.length>1?(_.on(t,e),u):_.on(t)}}},t.forceX=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)(e=r[n]).vx+=(o[n]-e.x)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=h(.1);return"function"!=typeof t&&(t=h(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:h(+t),n(),e):a},e.x=function(r){return arguments.length?(t="function"==typeof r?r:h(+r),n(),e):t},e},t.forceY=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)(e=r[n]).vy+=(o[n]-e.y)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=h(.1);return"function"!=typeof t&&(t=h(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:h(+t),n(),e):a},e.y=function(r){return arguments.length?(t="function"==typeof r?r:h(+r),n(),e):t},e},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-collection":12,"d3-dispatch":14,"d3-quadtree":25,"d3-timer":34}],19:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return new n(t)}function n(t){if(!(e=h.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),f=e[9]||"";"n"===f?(u=!0,f="g"):c[f]||(f=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=f}function r(e){return f=v(e),t.format=f.format,t.formatPrefix=f.formatPrefix,f}var i,o=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},a=function(t){return(t=o(Math.abs(t)))?t[1]:NaN},s=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}},u=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},l=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},c={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return l(100*t,e)},r:l,s:function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+o(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},h=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;e.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var f,d=function(t){return t},p=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],v=function(t){function n(t){function n(t){var e,n,o,c=b,f=x;if("c"===m)f=w(t)+f,t="";else{var d=(t=+t)<0;if(t=w(Math.abs(t),_),d&&0==+t&&(d=!1),c=(d?"("===u?u:"-":"-"===u||"("===u?"":u)+c,f=f+("s"===m?p[8+i/3]:"")+(d&&"("===u?")":""),T)for(e=-1,n=t.length;++e<n;)if(48>(o=t.charCodeAt(e))||o>57){f=(46===o?l+t.slice(e+1):t.slice(e))+f,t=t.slice(0,e);break}}g&&!v&&(t=r(t,1/0));var E=c.length+t.length+f.length,M=E<y?new Array(y-E+1).join(a):"";switch(g&&v&&(t=r(M+t,M.length?y-f.length:1/0),M=""),s){case"<":t=c+t+f+M;break;case"=":t=c+M+t+f;break;case"^":t=M.slice(0,E=M.length>>1)+c+t+f+M.slice(E);break;default:t=M+c+t+f}return h(t)}var a=(t=e(t)).fill,s=t.align,u=t.sign,d=t.symbol,v=t.zero,y=t.width,g=t.comma,_=t.precision,m=t.type,b="$"===d?o[0]:"#"===d&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",x="$"===d?o[1]:/[%p]/.test(m)?f:"",w=c[m],T=!m||/[defgprs%]/.test(m);return _=null==_?m?6:12:/[gprs]/.test(m)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),n.toString=function(){return t+""},n}var r=t.grouping&&t.thousands?s(t.grouping,t.thousands):d,o=t.currency,l=t.decimal,h=t.numerals?u(t.numerals):d,f=t.percent||"%";return{format:n,formatPrefix:function(t,r){var i=n((t=e(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(a(r)/3))),s=Math.pow(10,-o),u=p[8+o/3];return function(t){return i(s*t)+u}}}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});t.formatDefaultLocale=r,t.formatLocale=v,t.formatSpecifier=e,t.precisionFixed=function(t){return Math.max(0,-a(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(a(e)/3)))-a(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,a(e)-a(t))+1},Object.defineProperty(t,"__esModule",{value:!0})})},{}],20:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-array"],i):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(){this.reset()}function r(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function i(t){return t>1?0:t<-1?Ne:Math.acos(t)}function o(t){return t>1?je:t<-1?-je:Math.asin(t)}function a(t){return(t=Ze(t/2))*t}function s(){}function u(t,e){t&&en.hasOwnProperty(t.type)&&en[t.type](t,e)}function l(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function c(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)l(t[n],e,1);e.polygonEnd()}function h(){an.point=d}function f(){p(re,ie)}function d(t,e){an.point=p,re=t,ie=e,oe=t*=Xe,ae=Ge(e=(e*=Xe)/2+Be),se=Ze(e)}function p(t,e){e=(e*=Xe)/2+Be;var n=(t*=Xe)-oe,r=n>=0?1:-1,i=r*n,o=Ge(e),a=Ze(e),s=se*a,u=ae*o+s*Ge(i),l=s*r*Ze(i);rn.add(He(l,u)),oe=t,ae=o,se=a}function v(t){return[He(t[1],t[0]),o(t[2])]}function y(t){var e=t[0],n=t[1],r=Ge(n);return[r*Ge(e),r*Ze(e),Ze(n)]}function g(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function m(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function b(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function x(t){var e=Je(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function w(t,e){ye.push(ge=[ue=t,ce=t]),e<le&&(le=e),e>he&&(he=e)}function T(t,e){var n=y([t*Xe,e*Xe]);if(ve){var r=_(ve,n),i=_([r[1],-r[0],0],r);x(i),i=v(i);var o,a=t-fe,s=a>0?1:-1,u=i[0]*Ue*s,l=We(a)>180;l^(s*fe<u&&u<s*t)?(o=i[1]*Ue)>he&&(he=o):(u=(u+360)%360-180,l^(s*fe<u&&u<s*t)?(o=-i[1]*Ue)<le&&(le=o):(e<le&&(le=e),e>he&&(he=e))),l?t<fe?A(ue,t)>A(ue,ce)&&(ce=t):A(t,ce)>A(ue,ce)&&(ue=t):ce>=ue?(t<ue&&(ue=t),t>ce&&(ce=t)):t>fe?A(ue,t)>A(ue,ce)&&(ce=t):A(t,ce)>A(ue,ce)&&(ue=t)}else ye.push(ge=[ue=t,ce=t]);e<le&&(le=e),e>he&&(he=e),ve=n,fe=t}function E(){un.point=T}function M(){ge[0]=ue,ge[1]=ce,un.point=w,ve=null}function S(t,e){if(ve){var n=t-fe;sn.add(We(n)>180?n+(n>0?360:-360):n)}else de=t,pe=e;an.point(t,e),T(t,e)}function O(){an.lineStart()}function C(){S(de,pe),an.lineEnd(),We(sn)>ke&&(ue=-(ce=180)),ge[0]=ue,ge[1]=ce,ve=null}function A(t,e){return(e-=t)<0?e+360:e}function P(t,e){return t[0]-e[0]}function R(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function I(t,e){t*=Xe;var n=Ge(e*=Xe);D(n*Ge(t),n*Ze(t),Ze(e))}function D(t,e,n){be+=(t-be)/++_e,xe+=(e-xe)/_e,we+=(n-we)/_e}function L(){ln.point=k}function k(t,e){t*=Xe;var n=Ge(e*=Xe);Re=n*Ge(t),Ie=n*Ze(t),De=Ze(e),ln.point=N,D(Re,Ie,De)}function N(t,e){t*=Xe;var n=Ge(e*=Xe),r=n*Ge(t),i=n*Ze(t),o=Ze(e),a=He(Je((a=Ie*o-De*i)*a+(a=De*r-Re*o)*a+(a=Re*i-Ie*r)*a),Re*r+Ie*i+De*o);me+=a,Te+=a*(Re+(Re=r)),Ee+=a*(Ie+(Ie=i)),Me+=a*(De+(De=o)),D(Re,Ie,De)}function j(){ln.point=I}function B(){ln.point=U}function F(){X(Ae,Pe),ln.point=I}function U(t,e){Ae=t,Pe=e,t*=Xe,e*=Xe,ln.point=X;var n=Ge(e);Re=n*Ge(t),Ie=n*Ze(t),De=Ze(e),D(Re,Ie,De)}function X(t,e){t*=Xe;var n=Ge(e*=Xe),r=n*Ge(t),i=n*Ze(t),a=Ze(e),s=Ie*a-De*i,u=De*r-Re*a,l=Re*i-Ie*r,c=Je(s*s+u*u+l*l),h=o(c),f=c&&-h/c;Se+=f*s,Oe+=f*u,Ce+=f*l,me+=h,Te+=h*(Re+(Re=r)),Ee+=h*(Ie+(Ie=i)),Me+=h*(De+(De=a)),D(Re,Ie,De)}function W(t,e){return[t>Ne?t-Fe:t<-Ne?t+Fe:t,e]}function z(t,e,n){return(t%=Fe)?e||n?hn(G(t),q(e,n)):G(t):e||n?q(e,n):W}function H(t){return function(e,n){return e+=t,[e>Ne?e-Fe:e<-Ne?e+Fe:e,n]}}function G(t){var e=H(t);return e.invert=H(-t),e}function q(t,e){function n(t,e){var n=Ge(e),u=Ge(t)*n,l=Ze(t)*n,c=Ze(e),h=c*r+u*i;return[He(l*a-h*s,u*r-c*i),o(h*a+l*s)]}var r=Ge(t),i=Ze(t),a=Ge(e),s=Ze(e);return n.invert=function(t,e){var n=Ge(e),u=Ge(t)*n,l=Ze(t)*n,c=Ze(e),h=c*a-l*s;return[He(l*a+c*s,u*r+h*i),o(h*r-u*i)]},n}function Y(t,e,n,r,i,o){if(n){var a=Ge(e),s=Ze(e),u=r*n;null==i?(i=e+r*Fe,o=e-u/2):(i=V(a,i),o=V(a,o),(r>0?i<o:i>o)&&(i+=r*Fe));for(var l,c=i;r>0?c>o:c<o;c-=u)l=v([a,-s*Ge(c),-s*Ze(c)]),t.point(l[0],l[1])}}function V(t,e){(e=y(e))[0]-=t,x(e);var n=i(-e[1]);return((-e[2]<0?-n:n)+Fe-ke)%Fe}function K(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Z(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function $(t,n,r,i){function o(e,o){return t<=e&&e<=r&&n<=o&&o<=i}function a(e,o,a,u){var c=0,h=0;if(null==e||(c=s(e,a))!==(h=s(o,a))||l(e,o)<0^a>0)do{u.point(0===c||3===c?t:r,c>1?i:n)}while((c=(c+a+4)%4)!==h);else u.point(o[0],o[1])}function s(e,i){return We(e[0]-t)<ke?i>0?0:3:We(e[0]-r)<ke?i>0?2:1:We(e[1]-n)<ke?i>0?1:0:i>0?3:2}function u(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t,e){o(t,e)&&T.point(t,e)}function c(){for(var e=0,n=0,r=d.length;n<r;++n)for(var o,a,s=d[n],u=1,l=s.length,c=s[0],h=c[0],f=c[1];u<l;++u)o=h,a=f,h=(c=s[u])[0],f=c[1],a<=i?f>i&&(h-o)*(i-a)>(f-a)*(t-o)&&++e:f<=i&&(h-o)*(i-a)<(f-a)*(t-o)&&--e;return e}function h(e,a){var s=o(e,a);if(d&&p.push([e,a]),x)v=e,y=a,g=s,x=!1,s&&(T.lineStart(),T.point(e,a));else if(s&&b)T.point(e,a);else{var u=[_=Math.max(An,Math.min(Cn,_)),m=Math.max(An,Math.min(Cn,m))],l=[e=Math.max(An,Math.min(Cn,e)),a=Math.max(An,Math.min(Cn,a))];Mn(u,l,t,n,r,i)?(b||(T.lineStart(),T.point(u[0],u[1])),T.point(l[0],l[1]),s||T.lineEnd(),w=!1):s&&(T.lineStart(),T.point(e,a),w=!1)}_=e,m=a,b=s}var f,d,p,v,y,g,_,m,b,x,w,T=s,E=En(),M={point:l,lineStart:function(){M.point=h,d&&d.push(p=[]),x=!0,b=!1,_=m=NaN},lineEnd:function(){f&&(h(v,y),g&&b&&E.rejoin(),f.push(E.result())),M.point=l,b&&T.lineEnd()},polygonStart:function(){T=E,f=[],d=[],w=!0},polygonEnd:function(){var t=c(),n=w&&t,r=(f=e.merge(f)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),a(null,null,1,s),s.lineEnd()),r&&On(f,u,t,a,s),s.polygonEnd()),T=s,f=d=p=null}};return M}}function J(){Dn.point=Dn.lineEnd=s}function Q(t,e){fn=t*=Xe,dn=Ze(e*=Xe),pn=Ge(e),Dn.point=tt}function tt(t,e){t*=Xe;var n=Ze(e*=Xe),r=Ge(e),i=We(t-fn),o=Ge(i),a=r*Ze(i),s=pn*n-dn*r*o,u=dn*n+pn*r*o;In.add(He(Je(a*a+s*s),u)),fn=t,dn=n,pn=r}function et(t,e){return!(!t||!Fn.hasOwnProperty(t.type))&&Fn[t.type](t,e)}function nt(t,e){return 0===jn(t,e)}function rt(t,e){var n=jn(t[0],t[1]);return jn(t[0],e)+jn(e,t[1])<=n+ke}function it(t,e){return!!Rn(t.map(ot),at(e))}function ot(t){return(t=t.map(at)).pop(),t}function at(t){return[t[0]*Xe,t[1]*Xe]}function st(t,n,r){var i=e.range(t,n-ke,r).concat(n);return function(t){return i.map(function(e){return[t,e]})}}function ut(t,n,r){var i=e.range(t,n-ke,r).concat(n);return function(t){return i.map(function(e){return[e,t]})}}function lt(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return e.range(qe(a/g)*g,o,g).map(d).concat(e.range(qe(c/_)*_,l,_).map(p)).concat(e.range(qe(i/v)*v,r,v).filter(function(t){return We(t%g)>ke}).map(h)).concat(e.range(qe(u/y)*y,s,y).filter(function(t){return We(t%_)>ke}).map(f))}var r,i,o,a,s,u,l,c,h,f,d,p,v=10,y=v,g=90,_=360,m=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(p(l).slice(1),d(o).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(a=+e[0][0],o=+e[1][0],c=+e[0][1],l=+e[1][1],a>o&&(e=a,a=o,o=e),c>l&&(e=c,c=l,l=e),t.precision(m)):[[a,c],[o,l]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],r=+e[1][0],u=+e[0][1],s=+e[1][1],i>r&&(e=i,i=r,r=e),u>s&&(e=u,u=s,s=e),t.precision(m)):[[i,u],[r,s]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(g=+e[0],_=+e[1],t):[g,_]},t.stepMinor=function(e){return arguments.length?(v=+e[0],y=+e[1],t):[v,y]},t.precision=function(e){return arguments.length?(m=+e,h=st(u,s,90),f=ut(i,r,m),d=st(c,l,90),p=ut(a,o,m),t):m},t.extentMajor([[-180,-90+ke],[180,90-ke]]).extentMinor([[-180,-80-ke],[180,80+ke]])}function ct(){zn.point=ht}function ht(t,e){zn.point=ft,vn=gn=t,yn=_n=e}function ft(t,e){Wn.add(_n*t-gn*e),gn=t,_n=e}function dt(){ft(vn,yn)}function pt(t,e){Kn+=t,Zn+=e,++$n}function vt(){ir.point=yt}function yt(t,e){ir.point=gt,pt(xn=t,wn=e)}function gt(t,e){var n=t-xn,r=e-wn,i=Je(n*n+r*r);Jn+=i*(xn+t)/2,Qn+=i*(wn+e)/2,tr+=i,pt(xn=t,wn=e)}function _t(){ir.point=pt}function mt(){ir.point=xt}function bt(){wt(mn,bn)}function xt(t,e){ir.point=wt,pt(mn=xn=t,bn=wn=e)}function wt(t,e){var n=t-xn,r=e-wn,i=Je(n*n+r*r);Jn+=i*(xn+t)/2,Qn+=i*(wn+e)/2,tr+=i,er+=(i=wn*t-xn*e)*(xn+t),nr+=i*(wn+e),rr+=3*i,pt(xn=t,wn=e)}function Tt(t){this._context=t}function Et(t,e){hr.point=Mt,ar=ur=t,sr=lr=e}function Mt(t,e){ur-=t,lr-=e,cr.add(Je(ur*ur+lr*lr)),ur=t,lr=e}function St(){this._string=[]}function Ot(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ct(t){return t.length>1}function At(t,e){return((t=t.x)[0]<0?t[1]-je-ke:je-t[1])-((e=e.x)[0]<0?e[1]-je-ke:je-e[1])}function Pt(t,e,n,r){var i,o,a=Ze(t-n);return We(a)>ke?ze((Ze(e)*(o=Ge(r))*Ze(n)-Ze(r)*(i=Ge(e))*Ze(t))/(i*o*a)):(e+r)/2}function Rt(t){return function(e){var n=new It;for(var r in t)n[r]=t[r];return n.stream=e,n}}function It(){}function Dt(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),nn(n,t.stream(Vn));var a=Vn.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function Lt(t,e,n){return Dt(t,[[0,0],e],n)}function kt(t){return Rt({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function Nt(t,e){function n(r,i,a,s,u,l,c,h,f,d,p,v,y,g){var _=c-r,m=h-i,b=_*_+m*m;if(b>4*e&&y--){var x=s+d,w=u+p,T=l+v,E=Je(x*x+w*w+T*T),M=o(T/=E),S=We(We(T)-1)<ke||We(a-f)<ke?(a+f)/2:He(w,x),O=t(S,M),C=O[0],A=O[1],P=C-r,R=A-i,I=m*P-_*R;(I*I/b>e||We((_*P+m*R)/b-.5)>.3||s*d+u*p+l*v<yr)&&(n(r,i,a,s,u,l,C,A,S,x/=E,w/=E,T,y,g),g.point(C,A),n(C,A,S,x,w,T,c,h,f,d,p,v,y,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){_=NaN,T.point=o,e.lineStart()}function o(r,i){var o=y([r,i]),a=t(r,i);n(_,m,g,b,x,w,_=a[0],m=a[1],g=r,b=o[0],x=o[1],w=o[2],vr,e),e.point(_,m)}function a(){T.point=r,e.lineEnd()}function s(){i(),T.point=u,T.lineEnd=l}function u(t,e){o(c=t,e),h=_,f=m,d=b,p=x,v=w,T.point=o}function l(){n(_,m,g,b,x,w,h,f,c,d,p,v,vr,e),T.lineEnd=a,a()}var c,h,f,d,p,v,g,_,m,b,x,w,T={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),T.lineStart=s},polygonEnd:function(){e.polygonEnd(),T.lineStart=i}};return T}}function jt(t){return Bt(function(){return t})()}function Bt(t){function e(t){return t=c(t[0]*Xe,t[1]*Xe),[t[0]*y+s,u-t[1]*y]}function n(t){return(t=c.invert((t[0]-s)/y,(u-t[1])/y))&&[t[0]*Ue,t[1]*Ue]}function r(t,e){return t=a(t,e),[t[0]*y+s,u-t[1]*y]}function i(){c=hn(l=z(x,w,T),a);var t=a(m,b);return s=g-t[0]*y,u=_+t[1]*y,o()}function o(){return p=v=null,e}var a,s,u,l,c,h,f,d,p,v,y=150,g=480,_=250,m=0,b=0,x=0,w=0,T=0,E=null,M=dr,S=null,O=Un,C=.5,A=gr(r,C);return e.stream=function(t){return p&&v===t?p:p=_r(M(l,A(O(v=t))))},e.clipAngle=function(t){return arguments.length?(M=+t?pr(E=t*Xe,6*Xe):(E=null,dr),o()):E*Ue},e.clipExtent=function(t){return arguments.length?(O=null==t?(S=h=f=d=null,Un):$(S=+t[0][0],h=+t[0][1],f=+t[1][0],d=+t[1][1]),o()):null==S?null:[[S,h],[f,d]]},e.scale=function(t){return arguments.length?(y=+t,i()):y},e.translate=function(t){return arguments.length?(g=+t[0],_=+t[1],i()):[g,_]},e.center=function(t){return arguments.length?(m=t[0]%360*Xe,b=t[1]%360*Xe,i()):[m*Ue,b*Ue]},e.rotate=function(t){return arguments.length?(x=t[0]%360*Xe,w=t[1]%360*Xe,T=t.length>2?t[2]%360*Xe:0,i()):[x*Ue,w*Ue,T*Ue]},e.precision=function(t){return arguments.length?(A=gr(r,C=t*t),o()):Je(C)},e.fitExtent=function(t,n){return Dt(e,t,n)},e.fitSize=function(t,n){return Lt(e,t,n)},function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function Ft(t){var e=0,n=Ne/3,r=Bt(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Xe,n=t[1]*Xe):[e*Ue,n*Ue]},i}function Ut(t){function e(t,e){return[t*n,Ze(e)/n]}var n=Ge(t);return e.invert=function(t,e){return[t/n,o(e*n)]},e}function Xt(t,e){function n(t,e){var n=Je(a-2*i*Ze(e))/i;return[n*Ze(t*=i),s-n*Ge(t)]}var r=Ze(t),i=(r+Ze(e))/2;if(We(i)<ke)return Ut(t);var a=1+r*(2*i-r),s=Je(a)/i;return n.invert=function(t,e){var n=s-e;return[He(t,We(n))/i*$e(n),o((a-(t*t+n*n)*i*i)/(2*i))]},n}function Wt(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function zt(t){return function(e,n){var r=Ge(e),i=Ge(n),o=t(r*i);return[o*i*Ze(e),o*Ze(n)]}}function Ht(t){return function(e,n){var r=Je(e*e+n*n),i=t(r),a=Ze(i),s=Ge(i);return[He(e*a,r*s),o(r&&n*a/r)]}}function Gt(t,e){return[t,Ve(Qe((je+e)/2))]}function qt(t){function e(){var e=Ne*s(),a=o(Tn(o.rotate()).invert([0,0]));return l(null==c?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===Gt?[[Math.max(a[0]-e,c),n],[Math.min(a[0]+e,r),i]]:[[c,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=jt(t),a=o.center,s=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}function Yt(t){return Qe((je+t)/2)}function Vt(t,e){function n(t,e){o>0?e<-je+ke&&(e=-je+ke):e>je-ke&&(e=je-ke);var n=o/Ke(Yt(e),i);return[n*Ze(i*t),o-n*Ge(i*t)]}var r=Ge(t),i=t===e?Ze(t):Ve(r/Ge(e))/Ve(Yt(e)/Yt(t)),o=r*Ke(Yt(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=$e(i)*Je(t*t+n*n);return[He(t,We(n))/i*$e(n),2*ze(Ke(o/r,1/i))-je]},n):Gt}function Kt(t,e){return[t,e]}function Zt(t,e){function n(t,e){var n=o-e,r=i*t;return[n*Ze(r),o-n*Ge(r)]}var r=Ge(t),i=t===e?Ze(t):(r-Ge(e))/(e-t),o=r/i+t;return We(i)<ke?Kt:(n.invert=function(t,e){var n=o-e;return[He(t,We(n))/i*$e(n),o-$e(i)*Je(t*t+n*n)]},n)}function $t(t,e){var n=Ge(e),r=Ge(t)*n;return[n*Ze(t)/r,Ze(e)/r]}function Jt(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Un:Rt({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}function Qt(t,e){return[Ge(e)*Ze(t),Ze(e)]}function te(t,e){var n=Ge(e),r=1+Ge(t)*n;return[n*Ze(t)/r,Ze(e)/r]}function ee(t,e){return[Ve(Qe((je+e)/2)),-t]}var ne=function(){return new n};n.prototype={constructor:n,reset:function(){this.s=this.t=0},add:function(t){r(Le,t,this.t),r(this,Le.s,this.s),this.s?this.t+=Le.t:this.s=Le.t},valueOf:function(){return this.s}};var re,ie,oe,ae,se,ue,le,ce,he,fe,de,pe,ve,ye,ge,_e,me,be,xe,we,Te,Ee,Me,Se,Oe,Ce,Ae,Pe,Re,Ie,De,Le=new n,ke=1e-6,Ne=Math.PI,je=Ne/2,Be=Ne/4,Fe=2*Ne,Ue=180/Ne,Xe=Ne/180,We=Math.abs,ze=Math.atan,He=Math.atan2,Ge=Math.cos,qe=Math.ceil,Ye=Math.exp,Ve=Math.log,Ke=Math.pow,Ze=Math.sin,$e=Math.sign||function(t){return t>0?1:t<0?-1:0},Je=Math.sqrt,Qe=Math.tan,tn={Feature:function(t,e){u(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)u(n[r].geometry,e)}},en={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){l(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)l(n[r],e,0)},Polygon:function(t,e){c(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)c(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)u(n[r],e)}},nn=function(t,e){t&&tn.hasOwnProperty(t.type)?tn[t.type](t,e):u(t,e)},rn=ne(),on=ne(),an={point:s,lineStart:s,lineEnd:s,polygonStart:function(){rn.reset(),an.lineStart=h,an.lineEnd=f},polygonEnd:function(){var t=+rn;on.add(t<0?Fe+t:t),this.lineStart=this.lineEnd=this.point=s},sphere:function(){on.add(Fe)}},sn=ne(),un={point:w,lineStart:E,lineEnd:M,polygonStart:function(){un.point=S,un.lineStart=O,un.lineEnd=C,sn.reset(),an.polygonStart()},polygonEnd:function(){an.polygonEnd(),un.point=w,un.lineStart=E,un.lineEnd=M,rn<0?(ue=-(ce=180),le=-(he=90)):sn>ke?he=90:sn<-ke&&(le=-90),ge[0]=ue,ge[1]=ce}},ln={sphere:s,point:I,lineStart:L,lineEnd:j,polygonStart:function(){ln.lineStart=B,ln.lineEnd=F},polygonEnd:function(){ln.lineStart=L,ln.lineEnd=j}},cn=function(t){return function(){return t}},hn=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};W.invert=W;var fn,dn,pn,vn,yn,gn,_n,mn,bn,xn,wn,Tn=function(t){function e(e){return e=t(e[0]*Xe,e[1]*Xe),e[0]*=Ue,e[1]*=Ue,e}return t=z(t[0]*Xe,t[1]*Xe,t.length>2?t[2]*Xe:0),e.invert=function(e){return e=t.invert(e[0]*Xe,e[1]*Xe),e[0]*=Ue,e[1]*=Ue,e},e},En=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:s,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Mn=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*h,t[1]=u+l*f),c<1&&(e[0]=s+c*h,e[1]=u+c*f),!0}}}}},Sn=function(t,e){return We(t[0]-e[0])<ke&&We(t[1]-e[1])<ke},On=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Sn(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new K(r,t,null,!0)),u.push(n.o=new K(r,null,n,!1)),s.push(n=new K(a,t,null,!1)),u.push(n.o=new K(a,null,n,!0))}}),s.length){for(u.sort(e),Z(s),Z(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}},Cn=1e9,An=-Cn,Pn=ne(),Rn=function(t,e){var n=e[0],r=e[1],i=[Ze(n),-Ge(n),0],a=0,s=0;Pn.reset();for(var u=0,l=t.length;u<l;++u)if(h=(c=t[u]).length)for(var c,h,f=c[h-1],d=f[0],p=f[1]/2+Be,v=Ze(p),g=Ge(p),m=0;m<h;++m,d=w,v=E,g=M,f=b){var b=c[m],w=b[0],T=b[1]/2+Be,E=Ze(T),M=Ge(T),S=w-d,O=S>=0?1:-1,C=O*S,A=C>Ne,P=v*E;if(Pn.add(He(P*O*Ze(C),g*M+P*Ge(C))),a+=A?S+O*Fe:S,A^d>=n^w>=n){var R=_(y(f),y(b));x(R);var I=_(i,R);x(I);var D=(A^S>=0?-1:1)*o(I[2]);(r>D||r===D&&(R[0]||R[1]))&&(s+=A^S>=0?1:-1)}}return(a<-ke||a<ke&&Pn<-ke)^1&s},In=ne(),Dn={sphere:s,point:s,lineStart:function(){Dn.point=Q,Dn.lineEnd=J},lineEnd:s,polygonStart:s,polygonEnd:s},Ln=function(t){return In.reset(),nn(t,Dn),+In},kn=[null,null],Nn={type:"LineString",coordinates:kn},jn=function(t,e){return kn[0]=t,kn[1]=e,Ln(Nn)},Bn={Feature:function(t,e){return et(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(et(n[r].geometry,e))return!0;return!1}},Fn={Sphere:function(){return!0},Point:function(t,e){return nt(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(nt(n[r],e))return!0;return!1},LineString:function(t,e){return rt(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(rt(n[r],e))return!0;return!1},Polygon:function(t,e){return it(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(it(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(et(n[r],e))return!0;return!1}},Un=function(t){return t},Xn=ne(),Wn=ne(),zn={point:s,lineStart:s,lineEnd:s,polygonStart:function(){zn.lineStart=ct,zn.lineEnd=dt},polygonEnd:function(){zn.lineStart=zn.lineEnd=zn.point=s,Xn.add(We(Wn)),Wn.reset()},result:function(){var t=Xn/2;return Xn.reset(),t}},Hn=1/0,Gn=Hn,qn=-Hn,Yn=qn,Vn={point:function(t,e){t<Hn&&(Hn=t),t>qn&&(qn=t),e<Gn&&(Gn=e),e>Yn&&(Yn=e)},lineStart:s,lineEnd:s,polygonStart:s,polygonEnd:s,result:function(){var t=[[Hn,Gn],[qn,Yn]];return qn=Yn=-(Gn=Hn=1/0),t}},Kn=0,Zn=0,$n=0,Jn=0,Qn=0,tr=0,er=0,nr=0,rr=0,ir={point:pt,lineStart:vt,lineEnd:_t,polygonStart:function(){ir.lineStart=mt,ir.lineEnd=bt},polygonEnd:function(){ir.point=pt,ir.lineStart=vt,ir.lineEnd=_t},result:function(){var t=rr?[er/rr,nr/rr]:tr?[Jn/tr,Qn/tr]:$n?[Kn/$n,Zn/$n]:[NaN,NaN];return Kn=Zn=$n=Jn=Qn=tr=er=nr=rr=0,t}};Tt.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Fe)}},result:s};var or,ar,sr,ur,lr,cr=ne(),hr={point:s,lineStart:function(){hr.point=Et},lineEnd:function(){or&&Mt(ar,sr),hr.point=s},polygonStart:function(){or=!0},polygonEnd:function(){or=null},result:function(){var t=+cr;return cr.reset(),t}};St.prototype={_radius:4.5,_circle:Ot(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Ot(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var fr=function(t,n,r,i){return function(o,a){function s(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function u(t,e){var n=o(t,e);g.point(n[0],n[1])}function l(){w.point=u,g.lineStart()}function c(){w.point=s,g.lineEnd()}function h(t,e){y.push([t,e]);var n=o(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),y=[]}function d(){h(y[0][0],y[0][1]),b.lineEnd();var t,e,n,r,i=b.clean(),o=m.result(),s=o.length;if(y.pop(),p.push(y),y=null,s)if(1&i){if(n=o[0],(e=n.length-1)>0){for(x||(a.polygonStart(),x=!0),a.lineStart(),t=0;t<e;++t)a.point((r=n[t])[0],r[1]);a.lineEnd()}}else s>1&&2&i&&o.push(o.pop().concat(o.shift())),v.push(o.filter(Ct))}var p,v,y,g=n(a),_=o.invert(i[0],i[1]),m=En(),b=n(m),x=!1,w={point:s,lineStart:l,lineEnd:c,polygonStart:function(){w.point=h,w.lineStart=f,w.lineEnd=d,v=[],p=[]},polygonEnd:function(){w.point=s,w.lineStart=l,w.lineEnd=c,v=e.merge(v);var t=Rn(p,_);v.length?(x||(a.polygonStart(),x=!0),On(v,At,t,r,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),v=p=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};return w}},dr=fr(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ne:-Ne,u=We(o-n);We(u-Ne)<ke?(t.point(n,r=(r+a)/2>0?je:-je),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Ne&&(We(n-i)<ke&&(n-=i*ke),We(o-s)<ke&&(o-=s*ke),r=Pt(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*je,r.point(-Ne,i),r.point(0,i),r.point(Ne,i),r.point(Ne,0),r.point(Ne,-i),r.point(0,-i),r.point(-Ne,-i),r.point(-Ne,0),r.point(-Ne,i);else if(We(t[0]-e[0])>ke){var o=t[0]<e[0]?Ne:-Ne;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Ne,-je]),pr=function(t,e){function n(t,e){return Ge(t)*Ge(e)>o}function r(t,e,n){var r=[1,0,0],i=_(y(t),y(e)),a=g(i,i),s=i[0],u=a-s*s;if(!u)return!n&&t;var l=o*a/u,c=-o*s/u,h=_(r,i),f=b(r,l);m(f,b(i,c));var d=h,p=g(f,d),x=g(d,d),w=p*p-x*(g(f,f)-1);if(!(w<0)){var T=Je(w),E=b(d,(-p-T)/x);if(m(E,f),E=v(E),!n)return E;var M,S=t[0],O=e[0],C=t[1],A=e[1];O<S&&(M=S,S=O,O=M);var P=O-S,R=We(P-Ne)<ke,I=R||P<ke;if(!R&&A<C&&(M=C,C=A,A=M),I?R?C+A>0^E[1]<(We(E[0]-S)<ke?C:A):C<=E[1]&&E[1]<=A:P>Ne^(S<=E[0]&&E[0]<=O)){var D=b(d,(-p+T)/x);return m(D,f),[E,v(D)]}}}function i(e,n){var r=a?t:Ne-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Ge(t),a=o>0,s=We(o)>ke;return fr(n,function(t){var e,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],v=n(h,f),y=a?v?0:i(h,f):v?i(h+(h<0?Ne:-Ne),f):0;if(!e&&(l=u=v)&&t.lineStart(),v!==u&&(!(d=r(e,p))||Sn(e,d)||Sn(p,d))&&(p[0]+=ke,p[1]+=ke,v=n(p[0],p[1])),v!==u)c=0,v?(t.lineStart(),d=r(p,e),t.point(d[0],d[1])):(d=r(e,p),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(s&&e&&a^v){var g;y&o||!(g=r(p,e,!0))||(c=0,a?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!v||e&&Sn(e,p)||t.point(p[0],p[1]),e=p,u=v,o=y},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},function(n,r,i,o){Y(o,t,e,i,n,r)},a?[0,-t]:[-Ne,t-Ne])};It.prototype={constructor:It,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var vr=16,yr=Ge(30*Xe),gr=function(t,e){return+e?Nt(t,e):kt(t)},_r=Rt({point:function(t,e){this.stream.point(t*Xe,e*Xe)}}),mr=function(){return Ft(Xt).scale(155.424).center([0,33.6442])},br=function(){return mr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},xr=zt(function(t){return Je(2/(1+t))});xr.invert=Ht(function(t){return 2*o(t/2)});var wr=zt(function(t){return(t=i(t))&&t/Ze(t)});wr.invert=Ht(function(t){return t});Gt.invert=function(t,e){return[t,2*ze(Ye(e))-je]};Kt.invert=Kt;$t.invert=Ht(ze);Qt.invert=Ht(o);te.invert=Ht(function(t){return 2*ze(t)});ee.invert=function(t,e){return[-e,2*ze(Ye(t))-je]};t.geoArea=function(t){return on.reset(),nn(t,an),2*on},t.geoBounds=function(t){var e,n,r,i,o,a,s;if(he=ce=-(ue=le=1/0),ye=[],nn(t,un),n=ye.length){for(ye.sort(P),e=1,o=[r=ye[0]];e<n;++e)R(r,(i=ye[e])[0])||R(r,i[1])?(A(r[0],i[1])>A(r[0],r[1])&&(r[1]=i[1]),A(i[0],r[1])>A(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=A(r[1],i[0]))>a&&(a=s,ue=i[0],ce=r[1])}return ye=ge=null,ue===1/0||le===1/0?[[NaN,NaN],[NaN,NaN]]:[[ue,le],[ce,he]]},t.geoCentroid=function(t){_e=me=be=xe=we=Te=Ee=Me=Se=Oe=Ce=0,nn(t,ln);var e=Se,n=Oe,r=Ce,i=e*e+n*n+r*r;return i<1e-12&&(e=Te,n=Ee,r=Me,me<ke&&(e=be,n=xe,r=we),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[He(n,e)*Ue,o(r/Je(i))*Ue]},t.geoCircle=function(){function t(){var t=r.apply(this,arguments),s=i.apply(this,arguments)*Xe,u=o.apply(this,arguments)*Xe;return e=[],n=z(-t[0]*Xe,-t[1]*Xe,0).invert,Y(a,s,u,1),t={type:"Polygon",coordinates:[e]},e=n=null,t}var e,n,r=cn([0,0]),i=cn(90),o=cn(6),a={point:function(t,r){e.push(t=n(t,r)),t[0]*=Ue,t[1]*=Ue}};return t.center=function(e){return arguments.length?(r="function"==typeof e?e:cn([+e[0],+e[1]]),t):r},t.radius=function(e){return arguments.length?(i="function"==typeof e?e:cn(+e),t):i},t.precision=function(e){return arguments.length?(o="function"==typeof e?e:cn(+e),t):o},t},t.geoClipExtent=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=$(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},t.geoContains=function(t,e){return(t&&Bn.hasOwnProperty(t.type)?Bn[t.type]:et)(t,e)},t.geoDistance=jn,t.geoGraticule=lt,t.geoGraticule10=function(){return lt()()},t.geoInterpolate=function(t,e){var n=t[0]*Xe,r=t[1]*Xe,i=e[0]*Xe,s=e[1]*Xe,u=Ge(r),l=Ze(r),c=Ge(s),h=Ze(s),f=u*Ge(n),d=u*Ze(n),p=c*Ge(i),v=c*Ze(i),y=2*o(Je(a(s-r)+u*c*a(i-n))),g=Ze(y),_=y?function(t){var e=Ze(t*=y)/g,n=Ze(y-t)/g,r=n*f+e*p,i=n*d+e*v,o=n*l+e*h;return[He(i,r)*Ue,He(o,Je(r*r+i*i))*Ue]}:function(){return[n*Ue,r*Ue]};return _.distance=y,_},t.geoLength=Ln,t.geoPath=function(t,e){function n(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),nn(t,r(i))),i.result()}var r,i,o=4.5;return n.area=function(t){return nn(t,r(zn)),zn.result()},n.measure=function(t){return nn(t,r(hr)),hr.result()},n.bounds=function(t){return nn(t,r(Vn)),Vn.result()},n.centroid=function(t){return nn(t,r(ir)),ir.result()},n.projection=function(e){return arguments.length?(r=null==e?(t=null,Un):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new St):new Tt(e=t),"function"!=typeof o&&i.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(t).context(e)},t.geoAlbers=br,t.geoAlbersUsa=function(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(o.point(e,n),s)||(a.point(e,n),s)}function e(){return n=r=null,t}var n,r,i,o,a,s,u=br(),l=mr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=mr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?l:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(t)},t.stream=function(t){return n&&r===t?n:n=Wt([u.stream(r=t),l.stream(t),c.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),l.precision(t),c.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),l.scale(.35*e),c.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),r=+t[0],s=+t[1];return i=u.translate(t).clipExtent([[r-.455*n,s-.238*n],[r+.455*n,s+.238*n]]).stream(h),o=l.translate([r-.307*n,s+.201*n]).clipExtent([[r-.425*n+ke,s+.12*n+ke],[r-.214*n-ke,s+.234*n-ke]]).stream(h),a=c.translate([r-.205*n,s+.212*n]).clipExtent([[r-.214*n+ke,s+.166*n+ke],[r-.115*n-ke,s+.234*n-ke]]).stream(h),e()},t.fitExtent=function(e,n){return Dt(t,e,n)},t.fitSize=function(e,n){return Lt(t,e,n)},t.scale(1070)},t.geoAzimuthalEqualArea=function(){return jt(xr).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=xr,t.geoAzimuthalEquidistant=function(){return jt(wr).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=wr,t.geoConicConformal=function(){return Ft(Vt).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=Vt,t.geoConicEqualArea=mr,t.geoConicEqualAreaRaw=Xt,t.geoConicEquidistant=function(){return Ft(Zt).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=Zt,t.geoEquirectangular=function(){return jt(Kt).scale(152.63)},t.geoEquirectangularRaw=Kt,t.geoGnomonic=function(){return jt($t).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=$t,t.geoIdentity=function(){function t(){return i=o=null,a}var e,n,r,i,o,a,s=1,u=0,l=0,c=1,h=1,f=Un,d=null,p=Un;return a={stream:function(t){return i&&o===t?i:i=f(p(o=t))},clipExtent:function(i){return arguments.length?(p=null==i?(d=e=n=r=null,Un):$(d=+i[0][0],e=+i[0][1],n=+i[1][0],r=+i[1][1]),t()):null==d?null:[[d,e],[n,r]]},scale:function(e){return arguments.length?(f=Jt((s=+e)*c,s*h,u,l),t()):s},translate:function(e){return arguments.length?(f=Jt(s*c,s*h,u=+e[0],l=+e[1]),t()):[u,l]},reflectX:function(e){return arguments.length?(f=Jt(s*(c=e?-1:1),s*h,u,l),t()):c<0},reflectY:function(e){return arguments.length?(f=Jt(s*c,s*(h=e?-1:1),u,l),t()):h<0},fitExtent:function(t,e){return Dt(a,t,e)},fitSize:function(t,e){return Lt(a,t,e)}}},t.geoProjection=jt,t.geoProjectionMutator=Bt,t.geoMercator=function(){return qt(Gt).scale(961/Fe)},t.geoMercatorRaw=Gt,t.geoOrthographic=function(){return jt(Qt).scale(249.5).clipAngle(90+ke)},t.geoOrthographicRaw=Qt,t.geoStereographic=function(){return jt(te).scale(250).clipAngle(142)},t.geoStereographicRaw=te,t.geoTransverseMercator=function(){var t=qt(ee),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=ee,t.geoRotation=Tn,t.geoStream=nn,t.geoTransform=function(t){return{stream:Rt(t)}},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-array":8}],21:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t.parent===e.parent?1:2}function n(t){return t.reduce(r,0)/t.length}function r(t,e){return t+e.x}function i(t){return 1+t.reduce(o,0)}function o(t,e){return Math.max(t,e.y)}function a(t){for(var e;e=t.children;)t=e[0];return t}function s(t){for(var e;e=t.children;)t=e[e.length-1];return t}function u(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function l(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function c(t,e){var n,r,i,o,a,s=new p(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=h);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)l.push(r=n.children[o]=new p(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(d)}function h(t){return t.children}function f(t){t.data=t.data.data}function d(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function p(t){this.data=t,this.depth=this.height=0,this.parent=null}function v(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}function y(t,e){var n,r;if(m(e,t))return[e];for(n=0;n<t.length;++n)if(g(e,t[n])&&m(w(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(g(w(t[n],t[r]),e)&&g(w(t[n],e),t[r])&&g(w(t[r],e),t[n])&&m(T(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function g(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function _(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function m(t,e){for(var n=0;n<e.length;++n)if(!_(t,e[n]))return!1;return!0}function b(t){switch(t.length){case 1:return x(t[0]);case 2:return w(t[0],t[1]);case 3:return T(t[0],t[1],t[2])}}function x(t){return{x:t.x,y:t.y,r:t.r}}function w(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,h=Math.sqrt(u*u+l*l);return{x:(n+o+u/h*c)/2,y:(r+a+l/h*c)/2,r:(h+i+s)/2}}function T(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,h=n.r,f=r-a,d=r-l,p=i-s,v=i-c,y=u-o,g=h-o,_=r*r+i*i-o*o,m=_-a*a-s*s+u*u,b=_-l*l-c*c+h*h,x=d*p-f*v,w=(p*b-v*m)/(2*x)-r,T=(v*y-p*g)/x,E=(d*m-f*b)/(2*x)-i,M=(f*g-d*y)/x,S=T*T+M*M-1,O=2*(o+w*T+E*M),C=w*w+E*E-o*o,A=-(S?(O+Math.sqrt(O*O-4*S*C))/(2*S):C/O);return{x:r+w+T*A,y:i+E+M*A,r:A}}function E(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,l=s*s+u*u;if(l){var c=.5+((a*=a)-(o*=o))/(2*l),h=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=r+c*s+h*u,n.y=i+c*u-h*s}else n.x=r+a,n.y=i}function M(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+r*r}function S(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function O(t){this._=t,this.next=null,this.previous=null}function C(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,l,c,h;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;E(n,e,r=t[2]),e=new O(e),n=new O(n),r=new O(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){E(e._,n._,r=t[s]),r=new O(r),u=n.next,l=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(M(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(M(l._,r._)){(e=l).next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=S(e);(r=r.next)!==n;)(a=S(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=V(e),s=0;s<i;++s)e=t[s],e.x-=r.x,e.y-=r.y;return r.r}function A(t){return null==t?null:P(t)}function P(t){if("function"!=typeof t)throw new Error;return t}function R(){return 0}function I(t){return Math.sqrt(t.value)}function D(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function L(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=C(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function k(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function N(t){return t.id}function j(t){return t.parentId}function B(t,e){return t.parent===e.parent?1:2}function F(t){var e=t.children;return e?e[0]:t.t}function U(t){var e=t.children;return e?e[e.length-1]:t.t}function X(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function W(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}function z(t,e,n){return t.a.parent===e.parent?t.a:n}function H(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function G(t){for(var e,n,r,i,o,a=new H(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new H(r[i],i)),n.parent=e;return(a.parent=new H(null,0)).children=[a],a}function q(t,e,n,r,i,o){for(var a,s,u,l,c,h,f,d,p,v,y,g=[],_=e.children,m=0,b=0,x=_.length,w=e.value;m<x;){u=i-n,l=o-r;do{c=_[b++].value}while(!c&&b<x);for(h=f=c,y=c*c*(v=Math.max(l/u,u/l)/(w*t)),p=Math.max(f/y,y/h);b<x;++b){if(c+=s=_[b].value,s<h&&(h=s),s>f&&(f=s),y=c*c*v,(d=Math.max(f/y,y/h))>p){c-=s;break}p=d}g.push(a={value:c,dice:u<l,children:_.slice(m,b)}),a.dice?$(a,n,r,i,w?r+=l*c/w:o):et(a,n,r,w?n+=u*c/w:i,o),w-=c,m=b}return g}p.prototype=c.prototype={constructor:p,count:function(){return this.eachAfter(u)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=l(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return c(this).eachBefore(f)}};var Y=Array.prototype.slice,V=function(t){for(var e,n,r=0,i=(t=v(Y.call(t))).length,o=[];r<i;)e=t[r],n&&_(n,e)?++r:(n=b(o=y(o,e)),r=0);return n},K=function(t){return function(){return t}},Z=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},$=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l},J="$",Q={depth:-1},tt={};H.prototype=Object.create(p.prototype);var et=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l},nt=(1+Math.sqrt(5))/2,rt=function t(e){function n(t,n,r,i,o){q(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(nt),it=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,l,c,h=-1,f=a.length,d=t.value;++h<f;){for(u=(s=a[h]).children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?$(s,n,r,i,r+=(o-r)*s.value/d):et(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=q(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(nt);t.cluster=function(){function t(t){var e,c=0;t.eachAfter(function(t){var o=t.children;o?(t.x=n(o),t.y=i(o)):(t.x=e?c+=r(t,e):0,t.y=0,e=t)});var h=a(t),f=s(t),d=h.x-r(h,f)/2,p=f.x+r(f,h)/2;return t.eachAfter(l?function(e){e.x=(e.x-t.x)*o,e.y=(t.y-e.y)*u}:function(e){e.x=(e.x-d)/(p-d)*o,e.y=(1-(t.y?e.y/t.y:1))*u})}var r=e,o=1,u=1,l=!1;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(l=!1,o=+e[0],u=+e[1],t):l?null:[o,u]},t.nodeSize=function(e){return arguments.length?(l=!0,o=+e[0],u=+e[1],t):l?[o,u]:null},t},t.hierarchy=c,t.pack=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore(D(e)).eachAfter(L(i,.5)).eachBefore(k(1)):t.eachBefore(D(I)).eachAfter(L(R,1)).eachAfter(L(i,t.r/Math.min(n,r))).eachBefore(k(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=R;return t.radius=function(n){return arguments.length?(e=A(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:K(+e),t):i},t},t.packSiblings=function(t){return C(t),t},t.packEnclose=V,t.partition=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=r/a,t.eachBefore(e(r,a)),o&&t.eachBefore(Z),t}function e(t,e){return function(n){n.children&&$(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var r=n.x0,o=n.y0,a=n.x1-i,s=n.y1-i;a<r&&(r=a=(r+a)/2),s<o&&(o=s=(o+s)/2),n.x0=r,n.y0=o,n.x1=a,n.y1=s}}var n=1,r=1,i=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},t.stratify=function(){function t(t){var r,i,o,a,s,u,l,c=t.length,h=new Array(c),f={};for(i=0;i<c;++i)r=t[i],s=h[i]=new p(r),null!=(u=e(r,i,t))&&(u+="")&&(f[l=J+(s.id=u)]=l in f?tt:s);for(i=0;i<c;++i)if(s=h[i],null!=(u=n(t[i],i,t))&&(u+="")){if(!(a=f[J+u]))throw new Error("missing: "+u);if(a===tt)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Q,o.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(d),o.parent=null,c>0)throw new Error("cycle");return o}var e=N,n=j;return t.id=function(n){return arguments.length?(e=P(n),t):e},t.parentId=function(e){return arguments.length?(n=P(e),t):n},t},t.tree=function(){function t(t){var r=G(t);if(r.eachAfter(e),r.parent.m=-r.z,r.eachBefore(n),u)t.eachBefore(i);else{var l=t,c=t,h=t;t.eachBefore(function(t){t.x<l.x&&(l=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var f=l===c?1:o(l,c)/2,d=f-l.x,p=a/(c.x+f+d),v=s/(h.depth||1);t.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*v})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){W(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+o(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+o(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var r,i=t,a=t,s=e,u=i.parent.children[0],l=i.m,c=a.m,h=s.m,f=u.m;s=U(s),i=F(i),s&&i;)u=F(u),(a=U(a)).a=t,(r=s.z+h-i.z-l+o(s._,i._))>0&&(X(z(s,t,n),t,r),l+=r,c+=r),h+=s.m,l+=i.m,f+=u.m,c+=a.m;s&&!U(a)&&(a.t=s,a.m+=h-c),i&&!F(u)&&(u.t=i,u.m+=l-f,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*s}var o=B,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(Z),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,f=t.y1-e;o<r&&(r=o=(r+o)/2),f<i&&(i=f=(i+f)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=f,t.children&&(e=a[t.depth+1]=s(t)/2,r+=h(t)-e,i+=u(t)-e,o-=l(t)-e,f-=c(t)-e,o<r&&(r=o=(r+o)/2),f<i&&(i=f=(i+f)/2),n(t,r,i,o,f))}var n=rt,r=!1,i=1,o=1,a=[0],s=R,u=R,l=R,c=R,h=R;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=P(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:K(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:K(+e),t):u},t.paddingRight=function(e){return arguments.length?(l="function"==typeof e?e:K(+e),t):l},t.paddingBottom=function(e){return arguments.length?(c="function"==typeof e?e:K(+e),t):c},t.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:K(+e),t):h},t},t.treemapBinary=function(t,e,n,r,i){function o(t,e,n,r,i,a,s){if(t>=e-1){var l=u[t];return l.x0=r,l.y0=i,l.x1=a,void(l.y1=s)}for(var h=c[t],f=n/2+h,d=t+1,p=e-1;d<p;){var v=d+p>>>1;c[v]<f?d=v+1:p=v}f-c[d-1]<c[d]-f&&t+1<d&&--d;var y=c[d]-h,g=n-y;if(a-r>s-i){var _=(r*g+a*y)/n;o(t,d,y,r,i,_,s),o(d,e,g,_,i,a,s)}else{var m=(i*g+s*y)/n;o(t,d,y,r,i,a,m),o(d,e,g,r,m,a,s)}}var a,s,u=t.children,l=u.length,c=new Array(l+1);for(c[0]=s=a=0;a<l;++a)c[a+1]=s+=u[a].value;o(0,l,t.value,e,n,r,i)},t.treemapDice=$,t.treemapSlice=et,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?et:$)(t,e,n,r,i)},t.treemapSquarify=rt,t.treemapResquarify=it,Object.defineProperty(t,"__esModule",{value:!0})})},{}],22:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-color"],i):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function r(t,e){return function(n){return t+n*e}}function i(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):E(isNaN(t)?e:t)}function a(t){return 1==(t=+t)?s:function(e,n){return n-e?i(e,n,t):E(isNaN(e)?n:e)}}function s(t,e){var n=e-t;return n?r(t,n):E(isNaN(t)?e:t)}function u(t){return function(n){var r,i,o=n.length,a=new Array(o),s=new Array(o),u=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,s[r]=i.g||0,u[r]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}function l(t){return function(){return t}}function c(t){return function(e){return t(e)+""}}function h(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:P(t,i)},{i:u-2,x:P(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:P(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:P(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:P(t,n)},{i:s-2,x:P(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function f(t){return((t=Math.exp(t))+1/t)/2}function d(t){return((t=Math.exp(t))-1/t)/2}function p(t){return((t=Math.exp(2*t))-1)/(t+1)}function v(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=s(n.s,r.s),a=s(n.l,r.l),u=s(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=u(t),n+""}}}function y(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=s(n.c,r.c),a=s(n.l,r.l),u=s(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=u(t),n+""}}}function g(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=s(n.s,i.s),u=s(n.l,i.l),l=s(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=u(Math.pow(t,r)),n.opacity=l(t),n+""}}return r=+r,i.gamma=n,i}(1)}var _,m,b,x,w=function(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,s,o,a,u)}},T=function(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return n((r-i/e)*e,o,a,s,u)}},E=function(t){return function(){return t}},M=function t(n){function r(t,n){var r=i((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=i(t.g,n.g),a=i(t.b,n.b),u=s(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=a(e),t.opacity=u(e),t+""}}var i=a(n);return r.gamma=t,r}(1),S=u(w),O=u(T),C=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=k(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},A=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},P=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},R=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=k(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},I=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D=new RegExp(I.source,"g"),L=function(t,e){var n,r,i,o=I.lastIndex=D.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=I.exec(t))&&(r=D.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:P(n,r)})),o=D.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?c(u[0].x):l(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},k=function(t,n){var r,i=typeof n;return null==n||"boolean"===i?E(n):("number"===i?P:"string"===i?(r=e.color(n))?(n=r,M):L:n instanceof e.color?M:n instanceof Date?A:Array.isArray(n)?C:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?R:P)(t,n)},N=180/Math.PI,j={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},B=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*N,skewX:Math.atan(u)*N,scaleX:a,scaleY:s}},F=h(function(t){return"none"===t?j:(_||(_=document.createElement("DIV"),m=document.documentElement,b=document.defaultView),_.style.transform=t,t=b.getComputedStyle(m.appendChild(_),null).getPropertyValue("transform"),m.removeChild(_),t=t.slice(7,-1).split(","),B(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),U=h(function(t){return null==t?j:(x||(x=document.createElementNS("http://www.w3.org/2000/svg","g")),x.setAttribute("transform",t),(t=x.transform.baseVal.consolidate())?(t=t.matrix,B(t.a,t.b,t.c,t.d,t.e,t.f)):j)},", ",")",")"),X=Math.SQRT2,W=v(o),z=v(s),H=y(o),G=y(s),q=g(o),Y=g(s);t.interpolate=k,t.interpolateArray=C,t.interpolateBasis=w,t.interpolateBasisClosed=T,t.interpolateDate=A,t.interpolateNumber=P,t.interpolateObject=R,t.interpolateRound=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},t.interpolateString=L,t.interpolateTransformCss=F,t.interpolateTransformSvg=U,t.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,h=u-o,v=c*c+h*h;if(v<1e-12)r=Math.log(l/a)/X,n=function(t){return[i+t*c,o+t*h,a*Math.exp(X*t*r)]};else{var y=Math.sqrt(v),g=(l*l-a*a+4*v)/(2*a*2*y),_=(l*l-a*a-4*v)/(2*l*2*y),m=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(_*_+1)-_);r=(b-m)/X,n=function(t){var e=t*r,n=f(m),s=a/(2*y)*(n*p(X*e+m)-d(m));return[i+s*c,o+s*h,a*n/f(X*e+m)]}}return n.duration=1e3*r,n},t.interpolateRgb=M,t.interpolateRgbBasis=S,t.interpolateRgbBasisClosed=O,t.interpolateHsl=W,t.interpolateHslLong=z,t.interpolateLab=function(t,n){var r=s((t=e.lab(t)).l,(n=e.lab(n)).l),i=s(t.a,n.a),o=s(t.b,n.b),a=s(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}},t.interpolateHcl=H,t.interpolateHclLong=G,t.interpolateCubehelix=q,t.interpolateCubehelixLong=Y,t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":13}],23:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function n(){return new e}var r=Math.PI,i=2*r,o=i-1e-6;e.prototype=n.prototype={constructor:e,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var a=this._x1,s=this._y1,u=n-t,l=i-e,c=a-t,h=s-e,f=c*c+h*h;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*u-l*c)>1e-6&&o){var d=n-a,p=i-s,v=u*u+l*l,y=d*d+p*p,g=Math.sqrt(v),_=Math.sqrt(f),m=o*Math.tan((r-Math.acos((v+f-y)/(2*g*_)))/2),b=m/_,x=m/g;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*c)+","+(e+b*h)),this._+="A"+o+","+o+",0,0,"+ +(h*d>c*p)+","+(this._x1=t+x*u)+","+(this._y1=e+x*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,a,s,u){t=+t,e=+e;var l=(n=+n)*Math.cos(a),c=n*Math.sin(a),h=t+l,f=e+c,d=1^u,p=u?a-s:s-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(p<0&&(p=p%i+i),p>o?this._+="A"+n+","+n+",0,1,"+d+","+(t-l)+","+(e-c)+"A"+n+","+n+",0,1,"+d+","+(this._x1=h)+","+(this._y1=f):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=r)+","+d+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},t.path=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}],24:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e){return t[0]-e[0]||t[1]-e[1]}function n(t){for(var e=t.length,n=[0,1],i=2,o=2;o<e;++o){for(;i>1&&r(t[n[i-2]],t[n[i-1]],t[o])<=0;)--i;n[i++]=o}return n.slice(0,i)}var r=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};t.polygonArea=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return u*=3,[o/u,a/u]},t.polygonHull=function(t){if((i=t.length)<3)return null;var r,i,o=new Array(i),a=new Array(i);for(r=0;r<i;++r)o[r]=[+t[r][0],+t[r][1],r];for(o.sort(e),r=0;r<i;++r)a[r]=[o[r][0],-o[r][1]];var s=n(o),u=n(a),l=u[0]===s[0],c=u[u.length-1]===s[s.length-1],h=[];for(r=s.length-1;r>=0;--r)h.push(t[o[s[r]][2]]);for(r=+l;r<u.length-c;++r)h.push(t[o[u[r]][2]]);return h},t.polygonContains=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=l>s&&a<(u-n)*(s-r)/(l-r)+n&&(c=!c),u=n,l=r;return c},t.polygonLength=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},Object.defineProperty(t,"__esModule",{value:!0})})},{}],25:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,f,d=t._root,p={data:r},v=t._x0,y=t._y0,g=t._x1,_=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(v+g)/2))?v=o:g=o,(c=n>=(a=(y+_)/2))?y=a:_=a,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(v+g)/2))?v=o:g=o,(c=n>=(a=(y+_)/2))?y=a:_=a}while((h=c<<1|l)==(f=(u>=a)<<1|s>=o));return i[f]=d,i[h]=p,t}function n(t){return t[0]}function r(t){return t[1]}function i(t,e,i){var a=new o(null==e?n:e,null==i?r:i,NaN,NaN,NaN,NaN);return null==t?a:a.addAll(t)}function o(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function a(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var s=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},u=i.prototype=o.prototype;u.copy=function(){var t,e,n=new o(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=a(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=a(e));return n},u.add=function(t){var n=+this._x.call(null,t),r=+this._y.call(null,t);return e(this.cover(n,r),n,r,t)},u.addAll=function(t){var n,r,i,o,a=t.length,s=new Array(a),u=new Array(a),l=1/0,c=1/0,h=-1/0,f=-1/0;for(r=0;r<a;++r)isNaN(i=+this._x.call(null,n=t[r]))||isNaN(o=+this._y.call(null,n))||(s[r]=i,u[r]=o,i<l&&(l=i),i>h&&(h=i),o<c&&(c=o),o>f&&(f=o));for(h<l&&(l=this._x0,h=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(l,c).cover(h,f),r=0;r<a;++r)e(this,s[r],u[r],t[r]);return this},u.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,l=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{a=new Array(4),a[s]=l,l=a}while(u*=2,i=n+u,o=r+u,t>i||e>o);break;case 1:do{a=new Array(4),a[s]=l,l=a}while(u*=2,n=i-u,o=r+u,n>t||e>o);break;case 2:do{a=new Array(4),a[s]=l,l=a}while(u*=2,i=n+u,r=o-u,t>i||r>e);break;case 3:do{a=new Array(4),a[s]=l,l=a}while(u*=2,n=i-u,r=o-u,n>t||r>e)}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},u.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},u.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},u.find=function(t,e,n){var r,i,o,a,u,l,c,h=this._x0,f=this._y0,d=this._x1,p=this._y1,v=[],y=this._root;for(y&&v.push(new s(y,h,f,d,p)),null==n?n=1/0:(h=t-n,f=e-n,d=t+n,p=e+n,n*=n);l=v.pop();)if(!(!(y=l.node)||(i=l.x0)>d||(o=l.y0)>p||(a=l.x1)<h||(u=l.y1)<f))if(y.length){var g=(i+a)/2,_=(o+u)/2;v.push(new s(y[3],g,_,a,u),new s(y[2],i,_,g,u),new s(y[1],g,o,a,_),new s(y[0],i,o,g,_)),(c=(e>=_)<<1|t>=g)&&(l=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=l)}else{var m=t-+this._x.call(null,y.data),b=e-+this._y.call(null,y.data),x=m*m+b*b;if(x<n){var w=Math.sqrt(n=x);h=t-w,f=e-w,d=t+w,p=e+w,r=y.data}}return r},u.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,f,d=this._root,p=this._x0,v=this._y0,y=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+y)/2))?p=s:y=s,(c=a>=(u=(v+g)/2))?v=u:g=u,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},u.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},u.root=function(){return this._root},u.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},u.visit=function(t){var e,n,r,i,o,a,u=[],l=this._root;for(l&&u.push(new s(l,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,h=(i+a)/2;(n=l[3])&&u.push(new s(n,c,h,o,a)),(n=l[2])&&u.push(new s(n,r,h,c,a)),(n=l[1])&&u.push(new s(n,c,i,o,h)),(n=l[0])&&u.push(new s(n,r,i,c,h))}return this},u.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,l=e.x1,c=e.y1,h=(a+l)/2,f=(u+c)/2;(o=i[0])&&n.push(new s(o,a,u,h,f)),(o=i[1])&&n.push(new s(o,h,u,l,f)),(o=i[2])&&n.push(new s(o,a,f,h,c)),(o=i[3])&&n.push(new s(o,h,f,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},u.x=function(t){return arguments.length?(this._x=t,this):this._x},u.y=function(t){return arguments.length?(this._y=t,this):this._y},t.quadtree=i,Object.defineProperty(t,"__esModule",{value:!0})})},{}],26:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function n(t){if(!t._start)try{r(t)}catch(e){if(t._tasks[t._ended+t._active-1])o(t,e);else if(!t._data)throw e}}function r(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,o=n[r];n[r]=i(t,e),--t._waiting,++t._active,n=o.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||l)}}function i(t,e){return function(r,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=r?o(t,r):(t._data[e]=i,t._waiting?n(t):a(t))))}}function o(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,a(t)}function a(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function s(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new e(t)}var u=[].slice,l={};e.prototype=s.prototype={constructor:e,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=u.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),n(this),this},abort:function(){return null==this._error&&o(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},a(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,a(this),this}},t.queue=s,Object.defineProperty(t,"__esModule",{value:!0})})},{}],27:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";var e=function(){return Math.random()},n=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(e),r=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(e),i=function t(e){function n(){var t=r.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(e),o=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(e),a=function t(e){function n(t){var n=o.source(e)(t);return function(){return n()/t}}return n.source=t,n}(e),s=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(e);t.randomUniform=n,t.randomNormal=r,t.randomLogNormal=i,t.randomBates=a,t.randomIrwinHall=o,t.randomExponential=s,Object.defineProperty(t,"__esModule",{value:!0})})},{}],28:[function(t,e,n){"use strict";function r(t){return function(e,n){t(null==e?n:null)}}function i(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function o(t,e){return function(n){return t(n.responseText,e)}}var a=t("xmlhttprequest").XMLHttpRequest;Object.defineProperty(n,"__esModule",{value:!0});var s=t("d3-collection"),u=t("d3-dispatch"),l=t("d3-dsv"),c=function(t,e){function n(t){var e,n=p.status;if(!n&&i(p)||n>=200&&n<300||304===n){if(c)try{e=c.call(o,p)}catch(t){return void f.call("error",o,t)}else e=p;f.call("load",o,e)}else f.call("error",o,t)}var o,l,c,h,f=u.dispatch("beforesend","progress","load","error"),d=s.map(),p=new a,v=null,y=null,g=0;if("undefined"==typeof XDomainRequest||"withCredentials"in p||!/^(http(s)?:)?\/\//.test(t)||(p=new XDomainRequest),"onload"in p?p.onload=p.onerror=p.ontimeout=n:p.onreadystatechange=function(t){p.readyState>3&&n(t)},p.onprogress=function(t){f.call("progress",o,t)},o={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?d.get(t):(null==e?d.remove(t):d.set(t,e+""),o)},mimeType:function(t){return arguments.length?(l=null==t?null:t+"",o):l},responseType:function(t){return arguments.length?(h=t,o):h},timeout:function(t){return arguments.length?(g=+t,o):g},user:function(t){return arguments.length<1?v:(v=null==t?null:t+"",o)},password:function(t){return arguments.length<1?y:(y=null==t?null:t+"",o)},response:function(t){return c=t,o},get:function(t,e){return o.send("GET",t,e)},post:function(t,e){return o.send("POST",t,e)},send:function(e,n,i){return p.open(e,t,!0,v,y),null==l||d.has("accept")||d.set("accept",l+",*/*"),p.setRequestHeader&&d.each(function(t,e){p.setRequestHeader(e,t)}),null!=l&&p.overrideMimeType&&p.overrideMimeType(l),null!=h&&(p.responseType=h),g>0&&(p.timeout=g),null==i&&"function"==typeof n&&(i=n,n=null),null!=i&&1===i.length&&(i=r(i)),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),f.call("beforesend",o,p),p.send(null==n?null:n),o},abort:function(){return p.abort(),o},on:function(){var t=f.on.apply(f,arguments);return t===f?o:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return o.get(e)}return o},h=function(t,e){return function(n,r){var i=c(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},f=h("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),d=h("application/json",function(t){return JSON.parse(t.responseText)}),p=h("text/plain",function(t){return t.responseText}),v=h("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),y=function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=c(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(o(e,r=t)):r},a.row(r),i?a.get(i):a}},g=y("text/csv",l.csvParse),_=y("text/tab-separated-values",l.tsvParse);n.request=c,n.html=f,n.json=d,n.text=p,n.xml=v,n.csv=g,n.tsv=_},{"d3-collection":12,"d3-dispatch":14,"d3-dsv":16,xmlhttprequest:248}],29:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-array"),t("d3-collection"),t("d3-interpolate"),t("d3-format"),t("d3-time"),t("d3-time-format"),t("d3-color")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],i):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i,o,a,s){"use strict";function u(t){function e(e){var n=e+"",a=r.get(n);if(!a){if(o!==X)return o;r.set(n,a=i.push(e))}return t[(a-1)%t.length]}var r=n.map(),i=[],o=X;return t=null==t?[]:U.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],r=n.map();for(var o,a,s=-1,u=t.length;++s<u;)r.has(a=(o=t[s])+"")||r.set(a,i.push(o));return e},e.range=function(n){return arguments.length?(t=U.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return u().domain(i).range(t).unknown(o)},e}function l(){function t(){var t=o().length,i=s[1]<s[0],u=s[i-0],l=s[1-i];n=(l-u)/Math.max(1,t-h+2*f),c&&(n=Math.floor(n)),u+=(l-u-n*(t-h))*d,r=n*(1-h),c&&(u=Math.round(u),r=Math.round(r));var p=e.range(t).map(function(t){return u+n*t});return a(i?p.reverse():p)}var n,r,i=u().unknown(void 0),o=i.domain,a=i.range,s=[0,1],c=!1,h=0,f=0,d=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(o(e),t()):o()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],c=!0,t()},i.bandwidth=function(){return r},i.step=function(){return n},i.round=function(e){return arguments.length?(c=!!e,t()):c},i.padding=function(e){return arguments.length?(h=f=Math.max(0,Math.min(1,e)),t()):h},i.paddingInner=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.paddingOuter=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},i.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),t()):d},i.copy=function(){return l().domain(o()).range(s).round(c).paddingInner(h).paddingOuter(f).align(d)},t()}function c(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return c(e())},t}function h(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:W(e)}function f(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function d(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function p(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function v(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<o;)a[u]=r(t[u],t[u+1]),s[u]=i(n[u],n[u+1]);return function(n){var r=e.bisect(t,n,1,o)-1;return s[r](a[r](n))}}function y(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function g(t,e){function n(){return o=Math.min(u.length,l.length)>2?v:p,a=s=null,i}function i(e){return(a||(a=o(u,l,y?f(t):t,c)))(+e)}var o,a,s,u=H,l=H,c=r.interpolate,y=!1;return i.invert=function(t){return(s||(s=o(l,u,h,y?d(e):e)))(+t)},i.domain=function(t){return arguments.length?(u=F.call(t,z),n()):u.slice()},i.range=function(t){return arguments.length?(l=U.call(t),n()):l.slice()},i.rangeRound=function(t){return l=U.call(t),c=r.interpolateRound,n()},i.clamp=function(t){return arguments.length?(y=!!t,n()):y},i.interpolate=function(t){return arguments.length?(c=t,n()):c},n()}function _(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,e){return G(n(),t,e)},t.nice=function(r){null==r&&(r=10);var i,o=n(),a=0,s=o.length-1,u=o[a],l=o[s];return l<u&&(i=u,u=l,l=i,i=a,a=s,s=i),(i=e.tickIncrement(u,l,r))>0?(u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i,i=e.tickIncrement(u,l,r)):i<0&&(u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i,i=e.tickIncrement(u,l,r)),i>0?(o[a]=Math.floor(u/i)*i,o[s]=Math.ceil(l/i)*i,n(o)):i<0&&(o[a]=Math.ceil(u*i)/i,o[s]=Math.floor(l*i)/i,n(o)),t},t}function m(){var t=g(h,r.interpolateNumber);return t.copy=function(){return y(t,m())},_(t)}function b(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=F.call(n,z),t):e.slice()},t.copy=function(){return b().domain(e)},_(t)}function x(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:W(e)}function w(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function T(t){return isFinite(t)?+("1e"+t):t<0?0:t}function E(t){return 10===t?T:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function M(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function S(t){return function(e){return-t(-e)}}function O(){function t(){return a=M(o),s=E(o),r()[0]<0&&(a=S(a),s=S(s)),n}var n=g(x,w).domain([1,10]),r=n.domain,o=10,a=M(10),s=E(10);return n.base=function(e){return arguments.length?(o=+e,t()):o},n.domain=function(e){return arguments.length?(r(e),t()):r()},n.ticks=function(t){var n,i=r(),u=i[0],l=i[i.length-1];(n=l<u)&&(d=u,u=l,l=d);var c,h,f,d=a(u),p=a(l),v=null==t?10:+t,y=[];if(!(o%1)&&p-d<v){if(d=Math.round(d)-1,p=Math.round(p)+1,u>0){for(;d<p;++d)for(h=1,c=s(d);h<o;++h)if(!((f=c*h)<u)){if(f>l)break;y.push(f)}}else for(;d<p;++d)for(h=o-1,c=s(d);h>=1;--h)if(!((f=c*h)<u)){if(f>l)break;y.push(f)}}else y=e.ticks(d,p,Math.min(p-d,v)).map(s);return n?y.reverse():y},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/s(Math.round(a(t)));return n*o<o-.5&&(n*=o),n<=r?e(t):""}},n.nice=function(){return r(q(r(),{floor:function(t){return s(Math.floor(a(t)))},ceil:function(t){return s(Math.ceil(a(t)))}}))},n.copy=function(){return y(n,O().base(o))},n}function C(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function A(){var t=1,e=g(function(e,n){return(n=C(n,t)-(e=C(e,t)))?function(r){return(C(r,t)-e)/n}:W(n)},function(e,n){return n=C(n,t)-(e=C(e,t)),function(r){return C(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return y(e,A().exponent(t))},_(e)}function P(){function t(){var t=0,a=Math.max(1,i.length);for(o=new Array(a-1);++t<a;)o[t-1]=e.quantile(r,t/a);return n}function n(t){if(!isNaN(t=+t))return i[e.bisect(o,t)]}var r=[],i=[],o=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:r[0],e<o.length?o[e]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var i,o=0,a=n.length;o<a;++o)null==(i=n[o])||isNaN(i=+i)||r.push(i);return r.sort(e.ascending),t()},n.range=function(e){return arguments.length?(i=U.call(e),t()):i.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return P().domain(r).range(i)},n}function R(){function t(t){if(t<=t)return s[e.bisect(a,t,0,o)]}function n(){var e=-1;for(a=new Array(o);++e<o;)a[e]=((e+1)*i-(e-o)*r)/(o+1);return t}var r=0,i=1,o=1,a=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},t.range=function(t){return arguments.length?(o=(s=U.call(t)).length-1,n()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:e>=o?[a[o-1],i]:[a[e-1],a[e]]},t.copy=function(){return R().domain([r,i]).range(s)},_(t)}function I(){function t(t){if(t<=t)return r[e.bisect(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return t.domain=function(e){return arguments.length?(n=U.call(e),i=Math.min(n.length,r.length-1),t):n.slice()},t.range=function(e){return arguments.length?(r=U.call(e),i=Math.min(n.length,r.length-1),t):r.slice()},t.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return I().domain(n).range(r)},t}function D(t){return new Date(t)}function L(t){return t instanceof Date?+t:+new Date(+t)}function k(t,n,i,o,a,s,u,l,c){function f(e){return(u(e)<e?m:s(e)<e?b:a(e)<e?x:o(e)<e?w:n(e)<e?i(e)<e?T:E:t(e)<e?M:S)(e)}function d(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,s=e.bisector(function(t){return t[2]}).right(O,a);s===O.length?(o=e.tickStep(r/Q,i/Q,n),n=t):s?(o=(s=O[a/O[s-1][2]<O[s][2]/a?s-1:s])[1],n=s[0]):(o=e.tickStep(r,i,n),n=l)}return null==o?n:n.every(o)}var p=g(h,r.interpolateNumber),v=p.invert,_=p.domain,m=c(".%L"),b=c(":%S"),x=c("%I:%M"),w=c("%I %p"),T=c("%a %d"),E=c("%b %d"),M=c("%B"),S=c("%Y"),O=[[u,1,Y],[u,5,5*Y],[u,15,15*Y],[u,30,30*Y],[s,1,V],[s,5,5*V],[s,15,15*V],[s,30,30*V],[a,1,K],[a,3,3*K],[a,6,6*K],[a,12,12*K],[o,1,Z],[o,2,2*Z],[i,1,$],[n,1,J],[n,3,3*J],[t,1,Q]];return p.invert=function(t){return new Date(v(t))},p.domain=function(t){return arguments.length?_(F.call(t,L)):_().map(D)},p.ticks=function(t,e){var n,r=_(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=d(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},p.tickFormat=function(t,e){return null==e?f:c(e)},p.nice=function(t,e){var n=_();return(t=d(t,n[0],n[n.length-1],e))?_(q(n,t)):p},p.copy=function(){return y(p,k(t,n,i,o,a,s,u,l,c))},p}function N(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function j(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return j(t).domain([n,r]).clamp(i)},_(e)}var B=Array.prototype,F=B.map,U=B.slice,X={name:"implicit"},W=function(t){return function(){return t}},z=function(t){return+t},H=[0,1],G=function(t,n,r){var o,a=t[0],s=t[t.length-1],u=e.tickStep(a,s,null==n?10:n);switch((r=i.formatSpecifier(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(a),Math.abs(s));return null!=r.precision||isNaN(o=i.precisionPrefix(u,l))||(r.precision=o),i.formatPrefix(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=i.precisionRound(u,Math.max(Math.abs(a),Math.abs(s))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=i.precisionFixed(u))||(r.precision=o-2*("%"===r.type))}return i.format(r)},q=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},Y=1e3,V=60*Y,K=60*V,Z=24*K,$=7*Z,J=30*Z,Q=365*Z,tt=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},et=tt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),nt=tt("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),rt=tt("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),it=tt("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ot=r.interpolateCubehelixLong(s.cubehelix(300,.5,0),s.cubehelix(-240,.5,1)),at=r.interpolateCubehelixLong(s.cubehelix(-100,.75,.35),s.cubehelix(80,1.5,.8)),st=r.interpolateCubehelixLong(s.cubehelix(260,.75,.35),s.cubehelix(80,1.5,.8)),ut=s.cubehelix(),lt=N(tt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ct=N(tt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ht=N(tt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ft=N(tt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=l,t.scalePoint=function(){return c(l().paddingInner(1))},t.scaleIdentity=b,t.scaleLinear=m,t.scaleLog=O,t.scaleOrdinal=u,t.scaleImplicit=X,t.scalePow=A,t.scaleSqrt=function(){return A().exponent(.5)},t.scaleQuantile=P,t.scaleQuantize=R,t.scaleThreshold=I,t.scaleTime=function(){return k(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return k(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=et,t.schemeCategory20b=nt,t.schemeCategory20c=rt,t.schemeCategory20=it,t.interpolateCubehelixDefault=ot,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ut.h=360*t-100,ut.s=1.5-1.5*e,ut.l=.8-.9*e,ut+""},t.interpolateWarm=at,t.interpolateCool=st,t.interpolateViridis=lt,t.interpolateMagma=ct,t.interpolateInferno=ht,t.interpolatePlasma=ft,t.scaleSequential=j,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-array":8,"d3-collection":12,"d3-color":13,"d3-format":19,"d3-interpolate":22,"d3-time":33,"d3-time-format":32}],30:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===J&&e.documentElement.namespaceURI===J?e.createElement(t):e.createElementNS(n,t)}}function n(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function r(){return new i}function i(){this._="@"+(++nt).toString(36)}function o(t,e,n){return t=a(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function a(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function s(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function u(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function l(t,e,n){var r=st.hasOwnProperty(t.type)?o:a;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function c(){}function h(){return[]}function f(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function d(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new f(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function p(t,e,n,r,i,o,a){var s,u,l,c={},h=e.length,d=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l=pt+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<d;++s)(u=c[l=pt+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new f(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[p[s]]===u&&(i[s]=u)}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function y(t){return function(){this.removeAttribute(t)}}function g(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _(t,e){return function(){this.setAttribute(t,e)}}function m(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function b(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function w(t){return function(){this.style.removeProperty(t)}}function T(t,e,n){return function(){this.style.setProperty(t,e,n)}}function E(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function M(t,e){return t.style.getPropertyValue(e)||vt(t).getComputedStyle(t,null).getPropertyValue(e)}function S(t){return function(){delete this[t]}}function O(t,e){return function(){this[t]=e}}function C(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function A(t){return t.trim().split(/^|\s+/)}function P(t){return t.classList||new R(t)}function R(t){this._node=t,this._names=A(t.getAttribute("class")||"")}function I(t,e){for(var n=P(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function D(t,e){for(var n=P(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function L(t){return function(){I(this,t)}}function k(t){return function(){D(this,t)}}function N(t,e){return function(){(e.apply(this,arguments)?I:D)(this,t)}}function j(){this.textContent=""}function B(t){return function(){this.textContent=t}}function F(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function U(){this.innerHTML=""}function X(t){return function(){this.innerHTML=t}}function W(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function z(){this.nextSibling&&this.parentNode.appendChild(this)}function H(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function G(){return null}function q(){var t=this.parentNode;t&&t.removeChild(this)}function Y(t,e,n){var r=vt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function V(t,e){return function(){return Y(this,t,e)}}function K(t,e){return function(){return Y(this,t,e.apply(this,arguments))}}function Z(t,e){this._groups=t,this._parents=e}function $(){return new Z([[document.documentElement]],yt)}var J="http://www.w3.org/1999/xhtml",Q={svg:"http://www.w3.org/2000/svg",xhtml:J,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Q.hasOwnProperty(e)?{space:Q[e],local:t}:t},et=function(t){var r=tt(t);return(r.local?n:e)(r)},nt=0;i.prototype=r.prototype={constructor:i,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var rt=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var it=document.documentElement;if(!it.matches){var ot=it.webkitMatchesSelector||it.msMatchesSelector||it.mozMatchesSelector||it.oMatchesSelector;rt=function(t){return function(){return ot.call(this,t)}}}}var at=rt,st={};t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(st={mouseenter:"mouseover",mouseleave:"mouseout"}));var ut=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},lt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},ct=function(t){return null==t?c:function(){return this.querySelector(t)}},ht=function(t){return null==t?h:function(){return this.querySelectorAll(t)}},ft=function(t){return new Array(t.length)};f.prototype={constructor:f,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var dt=function(t){return function(){return t}},pt="$",vt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};R.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var yt=[null];Z.prototype=$.prototype={constructor:Z,select:function(t){"function"!=typeof t&&(t=ct(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Z(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=ht(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new Z(r,i)},filter:function(t){"function"!=typeof t&&(t=at(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Z(r,this._parents)},data:function(t,e){if(!t)return v=new Array(this.size()),l=-1,this.each(function(t){v[++l]=t}),v;var n=e?p:d,r=this._parents,i=this._groups;"function"!=typeof t&&(t=dt(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,v=t.call(c,c&&c.__data__,l,r),y=v.length,g=s[l]=new Array(y),_=a[l]=new Array(y);n(c,h,g,_,u[l]=new Array(f),v,e);for(var m,b,x=0,w=0;x<y;++x)if(m=g[x]){for(x>=w&&(w=x+1);!(b=_[w])&&++w<y;);m._next=b||null}}return a=new Z(a,r),a._enter=s,a._exit=u,a},enter:function(){return new Z(this._enter||this._groups.map(ft),this._parents)},exit:function(){return new Z(this._exit||this._groups.map(ft),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new Z(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){t||(t=v);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var o,a=e[i],s=a.length,u=r[i]=new Array(s),l=0;l<s;++l)(o=a[l])&&(u[l]=o);u.sort(function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n})}return new Z(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=tt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?g:y:"function"==typeof e?n.local?x:b:n.local?m:_)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?w:"function"==typeof e?E:T)(t,e,null==n?"":n)):M(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?S:"function"==typeof e?C:O)(t,e)):this.node()[t]},classed:function(t,e){var n=A(t+"");if(arguments.length<2){for(var r=P(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?N:e?L:k)(n,e))},text:function(t){return arguments.length?this.each(null==t?j:("function"==typeof t?F:B)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?U:("function"==typeof t?W:X)(t)):this.node().innerHTML},raise:function(){return this.each(z)},lower:function(){return this.each(H)},append:function(t){var e="function"==typeof t?t:et(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:et(t),r=null==e?G:"function"==typeof e?e:ct(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(q)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=s(t+""),a=o.length;{if(!(arguments.length<2)){for(c=e?l:u,null==n&&(n=!1),r=0;r<a;++r)this.each(c(o[r],e,n));return this}var c=this.node().__on;if(c)for(var h,f=0,d=c.length;f<d;++f)for(r=0,h=c[f];r<a;++r)if((i=o[r]).type===h.type&&i.name===h.name)return h.value}},dispatch:function(t,e){return this.each(("function"==typeof e?K:V)(t,e))}};t.creator=et,t.local=r,t.matcher=at,t.mouse=function(t){var e=ut();return e.changedTouches&&(e=e.changedTouches[0]),lt(t,e)},t.namespace=tt,t.namespaces=Q,t.select=function(t){return"string"==typeof t?new Z([[document.querySelector(t)]],[document.documentElement]):new Z([[t]],yt)},t.selectAll=function(t){return"string"==typeof t?new Z([document.querySelectorAll(t)],[document.documentElement]):new Z([null==t?[]:t],yt)},t.selection=$,t.selector=ct,t.selectorAll=ht,t.style=M,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=ut().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return lt(t,r);return null},t.touches=function(t,e){null==e&&(e=ut().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=lt(t,e[n]);return i},t.window=vt,t.customEvent=function(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}},Object.defineProperty(t,"__esModule",{value:!0})})},{}],31:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-path")):"function"==typeof define&&define.amd?define(["exports","d3-path"],i):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t){return t>1?0:t<-1?it:Math.acos(t)}function r(t){return t>=1?ot:t<=-1?-ot:Math.asin(t)}function i(t){return t.innerRadius}function o(t){return t.outerRadius}function a(t){return t.startAngle}function s(t){return t.endAngle}function u(t){return t&&t.padAngle}function l(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=a-i,h=s-o,f=(c*(e-o)-h*(t-i))/(h*u-c*l);return[t+f*u,e+f*l]}function c(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/nt(s*s+u*u),c=l*u,h=-l*s,f=t+c,d=e+h,p=n+c,v=r+h,y=(f+p)/2,g=(d+v)/2,_=p-f,m=v-d,b=_*_+m*m,x=i-o,w=f*v-p*d,T=(m<0?-1:1)*nt(Q(0,x*x*b-w*w)),E=(w*m-_*T)/b,M=(-w*_-m*T)/b,S=(w*m+_*T)/b,O=(-w*_+m*T)/b,C=E-y,A=M-g,P=S-y,R=O-g;return C*C+A*A>P*P+R*R&&(E=S,M=O),{cx:E,cy:M,x01:-c,y01:-h,x11:E*(i/x-1),y11:M*(i/x-1)}}function h(t){this._context=t}function f(t){return t[0]}function d(t){return t[1]}function p(t){this._curve=t}function v(t){function e(e){return new p(t(e))}return e._curve=t,e}function y(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(v(t)):e()._curve},t}function g(t){return t.source}function _(t){return t.target}function m(t){function n(){var n,u=yt.call(arguments),l=r.apply(this,u),c=i.apply(this,u);if(s||(s=n=e.path()),t(s,+o.apply(this,(u[0]=l,u)),+a.apply(this,u),+o.apply(this,(u[0]=c,u)),+a.apply(this,u)),n)return s=null,n+""||null}var r=g,i=_,o=f,a=d,s=null;return n.source=function(t){return arguments.length?(r=t,n):r},n.target=function(t){return arguments.length?(i=t,n):i},n.x=function(t){return arguments.length?(o="function"==typeof t?t:K(+t),n):o},n.y=function(t){return arguments.length?(a="function"==typeof t?t:K(+t),n):a},n.context=function(t){return arguments.length?(s=null==t?null:t,n):s},n}function b(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function x(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function w(t,e,n,r,i){var o=vt(e,n),a=vt(e,n=(n+i)/2),s=vt(r,n),u=vt(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function T(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function E(t){this._context=t}function M(t){this._context=t}function S(t){this._context=t}function O(t,e){this._basis=new E(t),this._beta=e}function C(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function A(t,e){this._context=t,this._k=(1-e)/6}function P(t,e){this._context=t,this._k=(1-e)/6}function R(t,e){this._context=t,this._k=(1-e)/6}function I(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>rt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>rt){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function D(t,e){this._context=t,this._alpha=e}function L(t,e){this._context=t,this._alpha=e}function k(t,e){this._context=t,this._alpha=e}function N(t){this._context=t}function j(t){return t<0?-1:1}function B(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(j(o)+j(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function F(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function U(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function X(t){this._context=t}function W(t){this._context=new z(t)}function z(t){this._context=t}function H(t){this._context=t}function G(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function q(t,e){this._context=t,this._t=e}function Y(t,e){return t[e]}function V(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var K=function(t){return function(){return t}},Z=Math.abs,$=Math.atan2,J=Math.cos,Q=Math.max,tt=Math.min,et=Math.sin,nt=Math.sqrt,rt=1e-12,it=Math.PI,ot=it/2,at=2*it;h.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var st=function(t){return new h(t)},ut=function(){function t(t){var u,l,c,h=t.length,f=!1;for(null==o&&(s=a(c=e.path())),u=0;u<=h;++u)!(u<h&&i(l=t[u],u,t))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+n(l,u,t),+r(l,u,t));if(c)return s=null,c+""||null}var n=f,r=d,i=K(!0),o=null,a=st,s=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:K(+e),t):n},t.y=function(e){return arguments.length?(r="function"==typeof e?e:K(+e),t):r},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:K(!!e),t):i},t.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),t):a},t.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),t):o},t},lt=function(){function t(t){var n,h,f,d,p,v=t.length,y=!1,g=new Array(v),_=new Array(v);for(null==u&&(c=l(p=e.path())),n=0;n<=v;++n){if(!(n<v&&s(d=t[n],n,t))===y)if(y=!y)h=n,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),f=n-1;f>=h;--f)c.point(g[f],_[f]);c.lineEnd(),c.areaEnd()}y&&(g[n]=+r(d,n,t),_[n]=+o(d,n,t),c.point(i?+i(d,n,t):g[n],a?+a(d,n,t):_[n]))}if(p)return c=null,p+""||null}function n(){return ut().defined(s).curve(l).context(u)}var r=f,i=null,o=K(0),a=d,s=K(!0),u=null,l=st,c=null;return t.x=function(e){return arguments.length?(r="function"==typeof e?e:K(+e),i=null,t):r},t.x0=function(e){return arguments.length?(r="function"==typeof e?e:K(+e),t):r},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:K(+e),t):i},t.y=function(e){return arguments.length?(o="function"==typeof e?e:K(+e),a=null,t):o},t.y0=function(e){return arguments.length?(o="function"==typeof e?e:K(+e),t):o},t.y1=function(e){return arguments.length?(a=null==e?null:"function"==typeof e?e:K(+e),t):a},t.lineX0=t.lineY0=function(){return n().x(r).y(o)},t.lineY1=function(){return n().x(r).y(a)},t.lineX1=function(){return n().x(i).y(o)},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:K(!!e),t):s},t.curve=function(e){return arguments.length?(l=e,null!=u&&(c=l(u)),t):l},t.context=function(e){return arguments.length?(null==e?u=c=null:c=l(u=e),t):u},t},ct=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ht=function(t){return t},ft=v(st);p.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var dt=function(){return y(ut().curve(ft))},pt=function(){var t=lt().curve(ft),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return y(n())},delete t.lineX0,t.lineEndAngle=function(){return y(r())},delete t.lineX1,t.lineInnerRadius=function(){return y(i())},delete t.lineY0,t.lineOuterRadius=function(){return y(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(v(t)):e()._curve},t},vt=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},yt=Array.prototype.slice,gt={draw:function(t,e){var n=Math.sqrt(e/it);t.moveTo(n,0),t.arc(0,0,n,0,at)}},_t={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},mt=Math.sqrt(1/3),bt=2*mt,xt={draw:function(t,e){var n=Math.sqrt(e/bt),r=n*mt;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},wt=Math.sin(it/10)/Math.sin(7*it/10),Tt=Math.sin(at/10)*wt,Et=-Math.cos(at/10)*wt,Mt={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Tt*n,i=Et*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=at*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},St={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Ot=Math.sqrt(3),Ct={draw:function(t,e){var n=-Math.sqrt(e/(3*Ot));t.moveTo(0,2*n),t.lineTo(-Ot*n,-n),t.lineTo(Ot*n,-n),t.closePath()}},At=-.5,Pt=Math.sqrt(3)/2,Rt=1/Math.sqrt(12),It=3*(Rt/2+1),Dt={draw:function(t,e){var n=Math.sqrt(e/It),r=n/2,i=n*Rt,o=r,a=n*Rt+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(At*r-Pt*i,Pt*r+At*i),t.lineTo(At*o-Pt*a,Pt*o+At*a),t.lineTo(At*s-Pt*u,Pt*s+At*u),t.lineTo(At*r+Pt*i,At*i-Pt*r),t.lineTo(At*o+Pt*a,At*a-Pt*o),t.lineTo(At*s+Pt*u,At*u-Pt*s),t.closePath()}},Lt=[gt,_t,xt,St,Mt,Ct,Dt],kt=function(){};E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:T(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:T(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};M.prototype={areaStart:kt,areaEnd:kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:T(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:T(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};O.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Nt=function t(e){function n(t){return 1===e?new E(t):new O(t,e)}return n.beta=function(e){return t(+e)},n}(.85);A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:C(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:C(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var jt=function t(e){function n(t){return new A(t,e)}return n.tension=function(e){return t(+e)},n}(0);P.prototype={areaStart:kt,areaEnd:kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:C(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bt=function t(e){function n(t){return new P(t,e)}return n.tension=function(e){return t(+e)},n}(0);R.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:C(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ft=function t(e){function n(t){return new R(t,e)}return n.tension=function(e){return t(+e)},n}(0);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:I(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ut=function t(e){function n(t){return e?new D(t,e):new A(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);L.prototype={areaStart:kt,areaEnd:kt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:I(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Xt=function t(e){function n(t){return e?new L(t,e):new P(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:I(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Wt=function t(e){function n(t){return e?new k(t,e):new R(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);N.prototype={areaStart:kt,areaEnd:kt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};X.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:U(this,this._t0,F(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,U(this,F(this,n=B(this,t,e)),n);break;default:U(this,this._t0,n=B(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(W.prototype=Object.create(X.prototype)).point=function(t,e){X.prototype.point.call(this,e,t)},z.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=G(t),i=G(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var zt=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},Ht=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},Gt=function(t){var e=t.map(V);return Ht(t).sort(function(t,n){return e[t]-e[n]})};t.arc=function(){function t(){var t,i,o=+h.apply(this,arguments),a=+f.apply(this,arguments),s=v.apply(this,arguments)-ot,u=y.apply(this,arguments)-ot,m=Z(u-s),b=u>s;if(_||(_=t=e.path()),a<o&&(i=a,a=o,o=i),a>rt)if(m>at-rt)_.moveTo(a*J(s),a*et(s)),_.arc(0,0,a,s,u,!b),o>rt&&(_.moveTo(o*J(u),o*et(u)),_.arc(0,0,o,u,s,b));else{var x,w,T=s,E=u,M=s,S=u,O=m,C=m,A=g.apply(this,arguments)/2,P=A>rt&&(p?+p.apply(this,arguments):nt(o*o+a*a)),R=tt(Z(a-o)/2,+d.apply(this,arguments)),I=R,D=R;if(P>rt){var L=r(P/o*et(A)),k=r(P/a*et(A));(O-=2*L)>rt?(L*=b?1:-1,M+=L,S-=L):(O=0,M=S=(s+u)/2),(C-=2*k)>rt?(k*=b?1:-1,T+=k,E-=k):(C=0,T=E=(s+u)/2)}var N=a*J(T),j=a*et(T),B=o*J(S),F=o*et(S);if(R>rt){var U=a*J(E),X=a*et(E),W=o*J(M),z=o*et(M);if(m<it){var H=O>rt?l(N,j,W,z,U,X,B,F):[B,F],G=N-H[0],q=j-H[1],Y=U-H[0],V=X-H[1],K=1/et(n((G*Y+q*V)/(nt(G*G+q*q)*nt(Y*Y+V*V)))/2),Q=nt(H[0]*H[0]+H[1]*H[1]);I=tt(R,(o-Q)/(K-1)),D=tt(R,(a-Q)/(K+1))}}C>rt?D>rt?(x=c(W,z,N,j,a,D,b),w=c(U,X,B,F,a,D,b),_.moveTo(x.cx+x.x01,x.cy+x.y01),D<R?_.arc(x.cx,x.cy,D,$(x.y01,x.x01),$(w.y01,w.x01),!b):(_.arc(x.cx,x.cy,D,$(x.y01,x.x01),$(x.y11,x.x11),!b),_.arc(0,0,a,$(x.cy+x.y11,x.cx+x.x11),$(w.cy+w.y11,w.cx+w.x11),!b),_.arc(w.cx,w.cy,D,$(w.y11,w.x11),$(w.y01,w.x01),!b))):(_.moveTo(N,j),_.arc(0,0,a,T,E,!b)):_.moveTo(N,j),o>rt&&O>rt?I>rt?(x=c(B,F,U,X,o,-I,b),w=c(N,j,W,z,o,-I,b),_.lineTo(x.cx+x.x01,x.cy+x.y01),I<R?_.arc(x.cx,x.cy,I,$(x.y01,x.x01),$(w.y01,w.x01),!b):(_.arc(x.cx,x.cy,I,$(x.y01,x.x01),$(x.y11,x.x11),!b),_.arc(0,0,o,$(x.cy+x.y11,x.cx+x.x11),$(w.cy+w.y11,w.cx+w.x11),b),_.arc(w.cx,w.cy,I,$(w.y11,w.x11),$(w.y01,w.x01),!b))):_.arc(0,0,o,S,M,b):_.lineTo(B,F)}else _.moveTo(0,0);if(_.closePath(),t)return _=null,t+""||null}var h=i,f=o,d=K(0),p=null,v=a,y=s,g=u,_=null;return t.centroid=function(){var t=(+h.apply(this,arguments)+ +f.apply(this,arguments))/2,e=(+v.apply(this,arguments)+ +y.apply(this,arguments))/2-it/2;return[J(e)*t,et(e)*t]},t.innerRadius=function(e){return arguments.length?(h="function"==typeof e?e:K(+e),t):h},t.outerRadius=function(e){return arguments.length?(f="function"==typeof e?e:K(+e),t):f},t.cornerRadius=function(e){return arguments.length?(d="function"==typeof e?e:K(+e),t):d},t.padRadius=function(e){return arguments.length?(p=null==e?null:"function"==typeof e?e:K(+e),t):p},t.startAngle=function(e){return arguments.length?(v="function"==typeof e?e:K(+e),t):v},t.endAngle=function(e){return arguments.length?(y="function"==typeof e?e:K(+e),t):y},t.padAngle=function(e){return arguments.length?(g="function"==typeof e?e:K(+e),t):g},t.context=function(e){return arguments.length?(_=null==e?null:e,t):_},t},t.area=lt,t.line=ut,t.pie=function(){function t(t){var s,u,l,c,h,f=t.length,d=0,p=new Array(f),v=new Array(f),y=+i.apply(this,arguments),g=Math.min(at,Math.max(-at,o.apply(this,arguments)-y)),_=Math.min(Math.abs(g)/f,a.apply(this,arguments)),m=_*(g<0?-1:1);for(s=0;s<f;++s)(h=v[p[s]=s]=+e(t[s],s,t))>0&&(d+=h);for(null!=n?p.sort(function(t,e){return n(v[t],v[e])}):null!=r&&p.sort(function(e,n){return r(t[e],t[n])}),s=0,l=d?(g-f*m)/d:0;s<f;++s,y=c)u=p[s],c=y+((h=v[u])>0?h*l:0)+m,v[u]={data:t[u],index:s,value:h,startAngle:y,endAngle:c,padAngle:_};return v}var e=ht,n=ct,r=null,i=K(0),o=K(at),a=K(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:K(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,r=null,t):n},t.sort=function(e){return arguments.length?(r=e,n=null,t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:K(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:K(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:K(+e),t):a},t},t.areaRadial=pt,t.radialArea=pt,t.lineRadial=dt,t.radialLine=dt,t.pointRadial=vt,t.linkHorizontal=function(){return m(b)},t.linkVertical=function(){return m(x)},t.linkRadial=function(){var t=m(w);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(i||(i=t=e.path()),n.apply(this,arguments).draw(i,+r.apply(this,arguments)),t)return i=null,t+""||null}var n=K(gt),r=K(64),i=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:K(e),t):n},t.size=function(e){return arguments.length?(r="function"==typeof e?e:K(+e),t):r},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},t.symbols=Lt,t.symbolCircle=gt,t.symbolCross=_t,t.symbolDiamond=xt,t.symbolSquare=St,t.symbolStar=Mt,t.symbolTriangle=Ct,t.symbolWye=Dt,t.curveBasisClosed=function(t){return new M(t)},t.curveBasisOpen=function(t){return new S(t)},t.curveBasis=function(t){return new E(t)},t.curveBundle=Nt,t.curveCardinalClosed=Bt,t.curveCardinalOpen=Ft,t.curveCardinal=jt,t.curveCatmullRomClosed=Xt,t.curveCatmullRomOpen=Wt,t.curveCatmullRom=Ut,t.curveLinearClosed=function(t){return new N(t)},t.curveLinear=st,t.curveMonotoneX=function(t){return new X(t)},t.curveMonotoneY=function(t){return new W(t)},t.curveNatural=function(t){return new H(t)},t.curveStep=function(t){return new q(t,.5)},t.curveStepAfter=function(t){return new q(t,1)},t.curveStepBefore=function(t){return new q(t,0)},t.stack=function(){function t(t){var o,a,s=e.apply(this,arguments),u=t.length,l=s.length,c=new Array(l);for(o=0;o<l;++o){for(var h,f=s[o],d=c[o]=new Array(u),p=0;p<u;++p)d[p]=h=[0,+i(t[p],f,p,t)],h.data=t[p];d.key=f}for(o=0,a=n(c);o<l;++o)c[a[o]].index=o;return r(c,a),c}var e=K([]),n=Ht,r=zt,i=Y;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:K(yt.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:K(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?Ht:"function"==typeof e?e:K(yt.call(e)),t):n},t.offset=function(e){return arguments.length?(r=null==e?zt:e,t):r},t},t.stackOffsetExpand=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}zt(t,e)}},t.stackOffsetDiverging=function(t,e){if((s=t.length)>1)for(var n,r,i,o,a,s,u=0,l=t[e[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},t.stackOffsetNone=zt,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}zt(t,e)}},t.stackOffsetWiggle=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=t[e[s]],h=c[a][1]||0,f=(h-(c[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];f+=(p[a][1]||0)-(p[a-1][1]||0)}u+=h,l+=f*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,zt(t,e)}},t.stackOrderAscending=Gt,t.stackOrderDescending=function(t){return Gt(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(V),o=Ht(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],l=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},t.stackOrderNone=Ht,t.stackOrderReverse=function(t){return Ht(t).reverse()},Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-path":23}],32:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-time")):"function"==typeof define&&define.amd?define(["exports","d3-time"],i):i(r.d3=r.d3||{},r.d3)}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=et[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function o(t,e){return function(n){var o=i(1900);if(a(o,t,n+="",0)!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var s="Z"in o?r(i(o.y)).getUTCDay():e(i(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(s+5)%7:o.w+7*o.U-(s+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,r(o)):e(o)}}function a(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=mt[i in et?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var s=t.dateTime,Q=t.date,tt=t.time,nt=t.periods,rt=t.days,it=t.shortDays,ot=t.months,at=t.shortMonths,st=u(nt),ut=l(nt),lt=u(rt),ct=l(rt),ht=u(it),ft=l(it),dt=u(ot),pt=l(ot),vt=u(at),yt=l(at),gt={a:function(t){return it[t.getDay()]},A:function(t){return rt[t.getDay()]},b:function(t){return at[t.getMonth()]},B:function(t){return ot[t.getMonth()]},c:null,d:E,e:E,H:M,I:S,j:O,L:C,m:A,M:P,p:function(t){return nt[+(t.getHours()>=12)]},S:R,U:I,w:D,W:L,x:null,X:null,y:k,Y:N,Z:j,"%":J},_t={a:function(t){return it[t.getUTCDay()]},A:function(t){return rt[t.getUTCDay()]},b:function(t){return at[t.getUTCMonth()]},B:function(t){return ot[t.getUTCMonth()]},c:null,d:B,e:B,H:F,I:U,j:X,L:W,m:z,M:H,p:function(t){return nt[+(t.getUTCHours()>=12)]},S:G,U:q,w:Y,W:V,x:null,X:null,y:K,Y:Z,Z:$,"%":J},mt={a:function(t,e,n){var r=ht.exec(e.slice(n));return r?(t.w=ft[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=lt.exec(e.slice(n));return r?(t.w=ct[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=vt.exec(e.slice(n));return r?(t.m=yt[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=dt.exec(e.slice(n));return r?(t.m=pt[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return a(t,s,e,n)},d:g,e:g,H:m,I:m,j:_,L:w,m:y,M:b,p:function(t,e,n){var r=st.exec(e.slice(n));return r?(t.p=ut[r[0].toLowerCase()],n+r[0].length):-1},S:x,U:h,w:c,W:f,x:function(t,e,n){return a(t,Q,e,n)},X:function(t,e,n){return a(t,tt,e,n)},y:p,Y:d,Z:v,"%":T};return gt.x=e(Q,gt),gt.X=e(tt,gt),gt.c=e(s,gt),_t.x=e(Q,_t),_t.X=e(tt,_t),_t.c=e(s,_t),{format:function(t){var n=e(t+="",gt);return n.toString=function(){return t},n},parse:function(t){var e=o(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",_t);return n.toString=function(){return t},n},utcParse:function(t){var e=o(t,r);return e.toString=function(){return t},e}}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(it,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function l(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function c(t,e,n){var r=nt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function h(t,e,n){var r=nt.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function f(t,e,n){var r=nt.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function d(t,e,n){var r=nt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function p(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function v(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function y(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function g(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _(t,e,n){var r=nt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function m(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function b(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function x(t,e,n){var r=nt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function w(t,e,n){var r=nt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function T(t,e,n){var r=rt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function E(t,e){return a(t.getDate(),e,2)}function M(t,e){return a(t.getHours(),e,2)}function S(t,e){return a(t.getHours()%12||12,e,2)}function O(t,n){return a(1+e.timeDay.count(e.timeYear(t),t),n,3)}function C(t,e){return a(t.getMilliseconds(),e,3)}function A(t,e){return a(t.getMonth()+1,e,2)}function P(t,e){return a(t.getMinutes(),e,2)}function R(t,e){return a(t.getSeconds(),e,2)}function I(t,n){return a(e.timeSunday.count(e.timeYear(t),t),n,2)}function D(t){return t.getDay()}function L(t,n){return a(e.timeMonday.count(e.timeYear(t),t),n,2)}function k(t,e){return a(t.getFullYear()%100,e,2)}function N(t,e){return a(t.getFullYear()%1e4,e,4)}function j(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function B(t,e){return a(t.getUTCDate(),e,2)}function F(t,e){return a(t.getUTCHours(),e,2)}function U(t,e){return a(t.getUTCHours()%12||12,e,2)}function X(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function W(t,e){return a(t.getUTCMilliseconds(),e,3)}function z(t,e){return a(t.getUTCMonth()+1,e,2)}function H(t,e){return a(t.getUTCMinutes(),e,2)}function G(t,e){return a(t.getUTCSeconds(),e,2)}function q(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function Y(t){return t.getUTCDay()}function V(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function K(t,e){return a(t.getUTCFullYear()%100,e,2)}function Z(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function $(){return"+0000"}function J(){return"%"}function Q(e){return tt=o(e),t.timeFormat=tt.format,t.timeParse=tt.parse,t.utcFormat=tt.utcFormat,t.utcParse=tt.utcParse,tt}var tt,et={"-":"",_:" ",0:"0"},nt=/^\s*\d+/,rt=/^%/,it=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Q({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ot=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),at=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");t.timeFormatDefaultLocale=Q,t.timeFormatLocale=o,t.isoFormat=ot,t.isoParse=at,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-time":33}],33:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t,n,r,a){function s(e){return t(e=new Date(+e)),e}return s.floor=s,s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(e,r,i){var o=[];if(e=s.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do{o.push(new Date(+e))}while(n(e,i),t(e),e<r);return o},s.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(s.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/l})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/l})}var i=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=a.range,u=6e4,l=6048e5,c=e(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),h=c.range,f=e(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getMinutes()}),d=f.range,p=e(function(t){var e=t.getTimezoneOffset()*u%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),v=p.range,y=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*u)/864e5},function(t){return t.getDate()-1}),g=y.range,_=n(0),m=n(1),b=n(2),x=n(3),w=n(4),T=n(5),E=n(6),M=_.range,S=m.range,O=b.range,C=x.range,A=w.range,P=T.range,R=E.range,I=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),D=I.range,L=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});L.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var k=L.range,N=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCMinutes()}),j=N.range,B=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),F=B.range,U=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),X=U.range,W=r(0),z=r(1),H=r(2),G=r(3),q=r(4),Y=r(5),V=r(6),K=W.range,Z=z.range,$=H.range,J=G.range,Q=q.range,tt=Y.range,et=V.range,nt=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),rt=nt.range,it=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});it.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ot=it.range;t.timeInterval=e,t.timeMillisecond=a,t.timeMilliseconds=s,t.utcMillisecond=a,t.utcMilliseconds=s,t.timeSecond=c,t.timeSeconds=h,t.utcSecond=c,t.utcSeconds=h,t.timeMinute=f,t.timeMinutes=d,t.timeHour=p,t.timeHours=v,t.timeDay=y,t.timeDays=g,t.timeWeek=_,t.timeWeeks=M,t.timeSunday=_,t.timeSundays=M,t.timeMonday=m,t.timeMondays=S,t.timeTuesday=b,t.timeTuesdays=O,t.timeWednesday=x,t.timeWednesdays=C,t.timeThursday=w,t.timeThursdays=A,t.timeFriday=T,t.timeFridays=P,t.timeSaturday=E,t.timeSaturdays=R,t.timeMonth=I,t.timeMonths=D,t.timeYear=L,t.timeYears=k,t.utcMinute=N,t.utcMinutes=j,t.utcHour=B,t.utcHours=F,t.utcDay=U,t.utcDays=X,t.utcWeek=W,t.utcWeeks=K,t.utcSunday=W,t.utcSundays=K,t.utcMonday=z,t.utcMondays=Z,t.utcTuesday=H,t.utcTuesdays=$,t.utcWednesday=G,t.utcWednesdays=J,t.utcThursday=q,t.utcThursdays=Q,t.utcFriday=Y,t.utcFridays=tt,t.utcSaturday=V,t.utcSaturdays=et,t.utcMonth=nt,t.utcMonths=rt,t.utcYear=it,t.utcYears=ot,Object.defineProperty(t,"__esModule",{value:!0})})},{}],34:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){return g||(b(n),g=m.now()+_)}function n(){g=0}function r(){this._call=this._time=this._next=null}function i(t,e,n){var i=new r;return i.restart(t,e,n),i}function o(){e(),++f;for(var t,n=c;n;)(t=g-n._time)>=0&&n._call.call(null,t),n=n._next;--f}function a(){g=(y=m.now())+_,f=d=0;try{o()}finally{f=0,u(),g=0}}function s(){var t=m.now(),e=t-y;e>v&&(_-=e,y=t)}function u(){for(var t,e,n=c,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:c=e);h=t,l(r)}function l(t){f||(d&&(d=clearTimeout(d)),t-g>24?(t<1/0&&(d=setTimeout(a,t-m.now()-_)),p&&(p=clearInterval(p))):(p||(y=m.now(),p=setInterval(s,v)),f=1,b(a)))}var c,h,f=0,d=0,p=0,v=1e3,y=0,g=0,_=0,m="object"==typeof performance&&performance.now?performance:Date,b="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};r.prototype=i.prototype={constructor:r,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?e():+r)+(null==n?0:+n),this._next||h===this||(h?h._next=this:c=this,h=this),this._call=t,this._time=r,l()},stop:function(){this._call&&(this._call=null,this._time=1/0,l())}};t.now=e,t.timer=i,t.timerFlush=o,t.timeout=function(t,e,n){var i=new r;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},t.interval=function(t,n,i){var o=new r,a=n;return null==n?(o.restart(t,n,i),o):(n=+n,i=null==i?e():+i,o.restart(function e(r){r+=a,o.restart(e,a+=n,i),t(r)},n,i),o)},Object.defineProperty(t,"__esModule",{value:!0})})},{}],35:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-selection"),t("d3-dispatch"),t("d3-timer"),t("d3-interpolate"),t("d3-color"),t("d3-ease")):"function"==typeof define&&define.amd?define(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],i):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i,o,a){"use strict";function s(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>z)throw new Error("too late");return n}function u(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>G)throw new Error("too late");return n}function l(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function c(t,e,n){function i(l){var c,h,f,d;if(n.state!==H)return a();for(c in u)if((d=u[c]).name===n.name){if(d.state===q)return r.timeout(i);d.state===Y?(d.state=K,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete u[c]):+c<e&&(d.state=K,d.timer.stop(),delete u[c])}if(r.timeout(function(){n.state===q&&(n.state=Y,n.timer.restart(o,n.delay,n.time),o(l))}),n.state=G,n.on.call("start",t,t.__data__,n.index,n.group),n.state===G){for(n.state=q,s=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(s[++h]=d);s.length=h+1}}function o(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=V,1),i=-1,o=s.length;++i<o;)s[i].call(null,r);n.state===V&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=K,n.timer.stop(),delete u[e];for(var r in u)return;delete t.__transition}var s,u=t.__transition;u[e]=n,n.timer=r.timer(function(t){n.state=H,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)},0,n.time)}function h(t,e){var n,r;return function(){var i=u(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function f(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=u(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function d(t,e,n){var r=t._id;return t.each(function(){var t=u(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return l(t,r).value[e]}}function p(t){return function(){this.removeAttribute(t)}}function v(t){return function(){this.removeAttributeNS(t.space,t.local)}}function y(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function g(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function _(t,e,n){var r,i,o;return function(){var a,s=n(this);{if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}}}function m(t,e,n){var r,i,o;return function(){var a,s=n(this);{if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}}function b(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function x(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function w(t,e){return function(){s(this,t).delay=+e.apply(this,arguments)}}function T(t,e){return e=+e,function(){s(this,t).delay=e}}function E(t,e){return function(){u(this,t).duration=+e.apply(this,arguments)}}function M(t,e){return e=+e,function(){u(this,t).duration=e}}function S(t,e){if("function"!=typeof e)throw new Error;return function(){u(this,t).ease=e}}function O(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function C(t,e,n){var r,i,o=O(e)?s:u;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function A(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function P(t,n){var r,i,o;return function(){var a=e.style(this,t),s=(this.style.removeProperty(t),e.style(this,t));return a===s?null:a===r&&s===i?o:o=n(r=a,i=s)}}function R(t){return function(){this.style.removeProperty(t)}}function I(t,n,r){var i,o;return function(){var a=e.style(this,t);return a===r?null:a===i?o:o=n(i=a,r)}}function D(t,n,r){var i,o,a;return function(){var s=e.style(this,t),u=r(this);return null==u&&(this.style.removeProperty(t),u=e.style(this,t)),s===u?null:s===i&&u===o?a:a=n(i=s,o=u)}}function L(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}function k(t){return function(){this.textContent=t}}function N(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function j(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function B(t){return e.selection().transition(t)}function F(){return++tt}function U(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return nt.time=r.now(),nt;return n}var X=n.dispatch("start","end","interrupt"),W=[],z=0,H=1,G=2,q=3,Y=4,V=5,K=6,Z=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};c(t,n,{name:e,index:r,group:i,on:X,tween:W,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:z})},$=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){e=null==e?null:e+"";for(i in o)(n=o[i]).name===e?(r=n.state>G&&n.state<V,n.state=K,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},J=function(t,e){var n;return("number"==typeof e?i.interpolateNumber:e instanceof o.color?i.interpolateRgb:(n=o.color(e))?(e=n,i.interpolateRgb):i.interpolateString)(t,e)},Q=e.selection.prototype.constructor,tt=0,et=e.selection.prototype;j.prototype=B.prototype={constructor:j,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selector(t));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var u,c,h=i[s],f=h.length,d=a[s]=new Array(f),p=0;p<f;++p)(u=h[p])&&(c=t.call(u,u.__data__,p,h))&&("__data__"in u&&(c.__data__=u.__data__),d[p]=c,Z(d[p],n,r,p,d,l(u,r)));return new j(a,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=e.selectorAll(t));for(var i=this._groups,o=i.length,a=[],s=[],u=0;u<o;++u)for(var c,h=i[u],f=h.length,d=0;d<f;++d)if(c=h[d]){for(var p,v=t.call(c,c.__data__,d,h),y=l(c,r),g=0,_=v.length;g<_;++g)(p=v[g])&&Z(p,n,r,g,v,y);a.push(v),s.push(c)}return new j(a,s,n,r)},filter:function(t){"function"!=typeof t&&(t=e.matcher(t));for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o)for(var a,s=n[o],u=s.length,l=i[o]=[],c=0;c<u;++c)(a=s[c])&&t.call(a,a.__data__,c,s)&&l.push(a);return new j(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new j(a,this._parents,this._name,this._id)},selection:function(){return new Q(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=F(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var h=l(a,e);Z(a,t,n,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new j(r,this._parents,t,n)},call:et.call,nodes:et.nodes,node:et.node,size:et.size,empty:et.empty,each:et.each,on:function(t,e){var n=this._id;return arguments.length<2?l(this.node(),n).on.on(t):this.each(C(n,t,e))},attr:function(t,n){var r=e.namespace(t),o="transform"===r?i.interpolateTransformSvg:J;return this.attrTween(t,"function"==typeof n?(r.local?m:_)(r,o,d(this,"attr."+t,n)):null==n?(r.local?v:p)(r):(r.local?g:y)(r,o,n+""))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=e.namespace(t);return this.tween(r,(i.local?b:x)(i,n))},style:function(t,e,n){var r="transform"==(t+="")?i.interpolateTransformCss:J;return null==e?this.styleTween(t,P(t,r)).on("end.style."+t,R(t)):this.styleTween(t,"function"==typeof e?D(t,r,d(this,"style."+t,e)):I(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,L(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?N(d(this,"text",t)):k(null==t?"":t+""))},remove:function(){return this.on("end.remove",A(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=l(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?h:f)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?w:T)(e,t)):l(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?E:M)(e,t)):l(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(S(e,t)):l(this.node(),e).ease}};var nt={time:null,delay:0,duration:250,ease:a.easeCubicInOut};e.selection.prototype.interrupt=function(t){return this.each(function(){$(this,t)})},e.selection.prototype.transition=function(t){var e,n;t instanceof j?(e=t._id,t=t._name):(e=F(),(n=nt).time=r.now(),t=null==t?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s,u=i[a],l=u.length,c=0;c<l;++c)(s=u[c])&&Z(s,t,e,c,u,n||U(s,e));return new j(i,this._parents,t,e)};var rt=[null];t.transition=B,t.active=function(t,e){var n,r,i=t.__transition;if(i){e=null==e?null:e+"";for(r in i)if((n=i[r]).state>H&&n.name===e)return new j([[t]],rt,e,+r)}return null},t.interrupt=$,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-color":13,"d3-dispatch":14,"d3-ease":17,"d3-interpolate":22,"d3-selection":30,"d3-timer":34}],36:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){return t[0]}function n(t){return t[1]}function r(){this._=null}function i(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function o(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function a(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function s(t){for(;t.L;)t=t.L;return t}function u(t,e,n,r){var i=[null,null],o=B.push(i)-1;return i.left=t,i.right=e,n&&c(i,t,e,n),r&&c(i,e,t,r),N[t.index].halfedges.push(o),N[e.index].halfedges.push(o),i}function l(t,e,n){var r=[e,n];return r.left=t,r}function c(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function h(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,f=s[0]-u,d=s[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*d]),h<1&&(t[1]=[u+h*f,l+h*d]),!0)}}}}}function f(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],d=c[0],p=c[1],v=(h+d)/2,y=(f+p)/2;if(p===f){if(v<e||v>=r)return;if(h>d){if(u){if(u[1]>=i)return}else u=[v,n];o=[v,i]}else{if(u){if(u[1]<n)return}else u=[v,i];o=[v,n]}}else if(a=(h-d)/(p-f),s=y-a*v,a<-1||a>1)if(h>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function d(t,e,n,r){for(var i,o=B.length;o--;)f(i=B[o],t,e,n,r)&&h(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>X||Math.abs(i[0][1]-i[1][1])>X)||delete B[o]}function p(t){return N[t.index]={site:t,halfedges:[]}}function v(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function y(t,e){return e[+(e.left!==t.site)]}function g(t,e){return e[+(e.left===t.site)]}function _(){for(var t,e,n,r,i=0,o=N.length;i<o;++i)if((t=N[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=v(t,B[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}function m(t,e,n,r){var i,o,a,s,u,c,h,f,d,p,v,_,m=N.length,b=!0;for(i=0;i<m;++i)if(o=N[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)B[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)v=(p=g(o,B[u[s]]))[0],_=p[1],f=(h=y(o,B[u[++s%c]]))[0],d=h[1],(Math.abs(v-f)>X||Math.abs(_-d)>X)&&(u.splice(s,0,B.push(l(a,p,Math.abs(v-t)<X&&r-_>X?[t,Math.abs(f-t)<X?d:r]:Math.abs(_-r)<X&&n-v>X?[Math.abs(d-r)<X?f:n,r]:Math.abs(v-n)<X&&_-e>X?[n,Math.abs(f-n)<X?d:e]:Math.abs(_-e)<X&&v-t>X?[Math.abs(d-e)<X?f:t,e]:null))-1),++c);c&&(b=!1)}if(b){var x,w,T,E=1/0;for(i=0,b=null;i<m;++i)(o=N[i])&&(T=(x=(a=o.site)[0]-t)*x+(w=a[1]-e)*w)<E&&(E=T,b=o);if(b){var M=[t,e],S=[t,r],O=[n,r],C=[n,e];b.halfedges.push(B.push(l(a=b.site,M,S))-1,B.push(l(a,S,O))-1,B.push(l(a,O,C))-1,B.push(l(a,C,M))-1)}}for(i=0;i<m;++i)(o=N[i])&&(o.halfedges.length||delete N[i])}function b(){i(this),this.x=this.y=this.arc=this.site=this.cy=null}function x(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,h=o[1]-s,f=2*(u*h-l*c);if(!(f>=-W)){var d=u*u+l*l,p=c*c+h*h,v=(h*d-l*p)/f,y=(u*p-c*d)/f,g=F.pop()||new b;g.arc=t,g.site=i,g.x=v+a,g.y=(g.cy=y+s)+Math.sqrt(v*v+y*y),t.circle=g;for(var _=null,m=j._;m;)if(g.y<m.y||g.y===m.y&&g.x<=m.x){if(!m.L){_=m.P;break}m=m.L}else{if(!m.R){_=m;break}m=m.R}j.insert(_,g),_||(L=g)}}}}function w(t){var e=t.circle;e&&(e.P||(L=e.N),j.remove(e),F.push(e),i(e),t.circle=null)}function T(){i(this),this.edge=this.site=this.circle=null}function E(t){var e=U.pop()||new T;return e.site=t,e}function M(t){w(t),k.remove(t),U.push(t),i(t)}function S(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];M(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<X&&Math.abs(r-l.circle.cy)<X;)o=l.P,s.unshift(l),M(l),l=o;s.unshift(l),w(l);for(var h=a;h.circle&&Math.abs(n-h.circle.x)<X&&Math.abs(r-h.circle.cy)<X;)a=h.N,s.push(h),M(h),h=a;s.push(h),w(h);var f,d=s.length;for(f=1;f<d;++f)h=s[f],l=s[f-1],c(h.edge,l.site,h.site,i);l=s[0],(h=s[d-1]).edge=u(l.site,h.site,null,i),x(l),x(h)}function O(t){for(var e,n,r,i,o=t[0],a=t[1],s=k._;s;)if((r=C(s,a)-o)>X)s=s.L;else{if(!((i=o-A(s,a))>X)){r>-X?(e=s.P,n=s):i>-X?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}p(t);var l=E(t);if(k.insert(e,l),e||n){if(e===n)return w(e),n=E(e.site),k.insert(l,n),l.edge=n.edge=u(e.site,l.site),x(e),void x(n);if(n){w(e),w(n);var h=e.site,f=h[0],d=h[1],v=t[0]-f,y=t[1]-d,g=n.site,_=g[0]-f,m=g[1]-d,b=2*(v*m-y*_),T=v*v+y*y,M=_*_+m*m,S=[(m*T-y*M)/b+f,(v*M-_*T)/b+d];c(n.edge,h,g,S),l.edge=u(h,t,null,S),n.edge=u(t,g,null,S),x(e),x(n)}else l.edge=u(e.site,l.site)}}function C(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function A(t,e){var n=t.N;if(n)return C(n,e);var r=t.site;return r[1]===e?r[0]:1/0}function P(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function R(t,e){return e[1]-t[1]||e[0]-t[0]}function I(t,e){var n,i,o,a=t.sort(R).pop();for(B=[],N=new Array(t.length),k=new r,j=new r;;)if(o=L,a&&(!o||a[1]<o.y||a[1]===o.y&&a[0]<o.x))a[0]===n&&a[1]===i||(O(a),n=a[0],i=a[1]),a=t.pop();else{if(!o)break;S(o.arc)}if(_(),e){var s=+e[0][0],u=+e[0][1],l=+e[1][0],c=+e[1][1];d(s,u,l,c),m(s,u,l,c)}this.edges=B,this.cells=N,k=j=B=N=null}var D=function(t){return function(){return t}};r.prototype={constructor:r,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=s(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(o(this,n),n=(t=n).U),n.C=!1,r.C=!0,a(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(a(this,n),n=(t=n).U),n.C=!1,r.C=!0,o(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,u=t.L,l=t.R;if(n=u?l?s(l):u:l,i?i.L===t?i.L=n:i.R=n:this._=n,u&&l?(r=n.C,n.C=t.C,n.L=u,u.U=n,n!==l?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=l,l.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,o(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,a(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,o(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,a(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,o(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,a(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var L,k,N,j,B,F=[],U=[],X=1e-6,W=1e-12;I.prototype={constructor:I,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return y(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,l=e[i[o-1]],c=l.left===s?l.right:l.left;++u<o;)a=c,c=(l=e[i[u]]).left===s?l.right:l.left,a&&c&&r<a.index&&r<c.index&&P(s,a,c)<0&&t.push([s.data,a.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}};t.voronoi=function(){function t(t){return new I(t.map(function(e,n){var o=[Math.round(r(e,n,t)/X)*X,Math.round(i(e,n,t)/X)*X];return o.index=n,o.data=e,o}),o)}var r=e,i=n,o=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(e){return arguments.length?(r="function"==typeof e?e:D(+e),t):r},t.y=function(e){return arguments.length?(i="function"==typeof e?e:D(+e),t):i},t.extent=function(e){return arguments.length?(o=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},t.size=function(e){return arguments.length?(o=null==e?null:[[0,0],[+e[0],+e[1]]],t):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]},t},Object.defineProperty(t,"__esModule",{value:!0})})},{}],37:[function(t,e,n){!function(r,i){"object"==typeof n&&void 0!==e?i(n,t("d3-dispatch"),t("d3-drag"),t("d3-interpolate"),t("d3-selection"),t("d3-transition")):"function"==typeof define&&define.amd?define(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],i):i(r.d3=r.d3||{},r.d3,r.d3,r.d3,r.d3,r.d3)}(this,function(t,e,n,r,i,o){"use strict";function a(t,e,n){this.target=t,this.type=e,this.transform=n}function s(t,e,n){this.k=t,this.x=e,this.y=n}function u(t){return t.__zoom||y}function l(){i.event.stopImmediatePropagation()}function c(){return!i.event.button}function h(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function f(){return this.__zoom||y}function d(){return-i.event.deltaY*(i.event.deltaMode?120:1)/500}function p(){return"ontouchstart"in this}var v=function(t){return function(){return t}};s.prototype={constructor:s,scale:function(t){return 1===t?this:new s(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new s(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var y=new s(1,0,0);u.prototype=s.prototype;var g=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()};t.zoom=function(){function t(t){t.property("__zoom",f).on("wheel.zoom",E).on("mousedown.zoom",M).on("dblclick.zoom",S).filter(p).on("touchstart.zoom",O).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(t,e){return(e=Math.max(k,Math.min(N,e)))===t.k?t:new s(e,t.x,t.y)}function _(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new s(t.k,r,i)}function m(t,e){var n=t.invertX(e[0][0])-j,r=t.invertX(e[1][0])-B,i=t.invertY(e[0][1])-F,o=t.invertY(e[1][1])-U;return t.translate(r>n?(n+r)/2:Math.min(0,n)||Math.max(0,r),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=this,r=arguments,i=w(t,r),o=D.apply(t,r),a=n||b(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=t.__zoom,c="function"==typeof e?e.apply(t,r):e,h=W(l.invert(a).concat(u/l.k),c.invert(a).concat(u/c.k));return function(t){if(1===t)t=c;else{var e=h(t),n=u/e[2];t=new s(n,a[0]-e[0]*n,a[1]-e[1]*n)}i.zoom(null,t)}})}function w(t,e){for(var n,r=0,i=z.length;r<i;++r)if((n=z[r]).that===t)return n;return new T(t,e)}function T(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=D.apply(t,e)}function E(){if(I.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,n=Math.max(k,Math.min(N,e.k*Math.pow(2,L.apply(this,arguments)))),r=i.mouse(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[r,e.invert(r)],o.interrupt(this),t.start()}g(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},q),t.zoom("mouse",m(_(u(e,n),t.mouse[0],t.mouse[1]),t.extent))}}function M(){if(!R&&I.apply(this,arguments)){var t=w(this,arguments),e=i.select(i.event.view).on("mousemove.zoom",function(){if(g(),!t.moved){var e=i.event.clientX-a,n=i.event.clientY-s;t.moved=e*e+n*n>Y}t.zoom("mouse",m(_(t.that.__zoom,t.mouse[0]=i.mouse(t.that),t.mouse[1]),t.extent))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),n.dragEnable(i.event.view,t.moved),g(),t.end()},!0),r=i.mouse(this),a=i.event.clientX,s=i.event.clientY;n.dragDisable(i.event.view),l(),t.mouse=[r,this.__zoom.invert(r)],o.interrupt(this),t.start()}}function S(){if(I.apply(this,arguments)){var e=this.__zoom,n=i.mouse(this),r=e.invert(n),o=m(_(u(e,e.k*(i.event.shiftKey?.5:2)),n,r),D.apply(this,arguments));g(),X>0?i.select(this).transition().duration(X).call(x,o,n):i.select(this).call(t.transform,o)}}function O(){if(I.apply(this,arguments)){var t,e,n,r,a=w(this,arguments),s=i.event.changedTouches,u=s.length;for(l(),e=0;e<u;++e)n=s[e],r=[r=i.touch(this,s,n.identifier),this.__zoom.invert(r),n.identifier],a.touch0?a.touch1||(a.touch1=r):(a.touch0=r,t=!0);if(P&&(P=clearTimeout(P),!a.touch1))return a.end(),void((r=i.select(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(P=setTimeout(function(){P=null},G),o.interrupt(this),a.start())}}function C(){var t,e,n,r,o=w(this,arguments),a=i.event.changedTouches,s=a.length;for(g(),P&&(P=clearTimeout(P)),t=0;t<s;++t)e=a[t],n=i.touch(this,a,e.identifier),o.touch0&&o.touch0[2]===e.identifier?o.touch0[0]=n:o.touch1&&o.touch1[2]===e.identifier&&(o.touch1[0]=n);if(e=o.that.__zoom,o.touch1){var l=o.touch0[0],c=o.touch0[1],h=o.touch1[0],f=o.touch1[1],d=(d=h[0]-l[0])*d+(d=h[1]-l[1])*d,p=(p=f[0]-c[0])*p+(p=f[1]-c[1])*p;e=u(e,Math.sqrt(d/p)),n=[(l[0]+h[0])/2,(l[1]+h[1])/2],r=[(c[0]+f[0])/2,(c[1]+f[1])/2]}else{if(!o.touch0)return;n=o.touch0[0],r=o.touch0[1]}o.zoom("touch",m(_(e,n,r),o.extent))}function A(){var t,e,n=w(this,arguments),r=i.event.changedTouches,o=r.length;for(l(),R&&clearTimeout(R),R=setTimeout(function(){R=null},G),t=0;t<o;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}var P,R,I=c,D=h,L=d,k=0,N=1/0,j=-N,B=N,F=j,U=B,X=250,W=r.interpolateZoom,z=[],H=e.dispatch("start","zoom","end"),G=500,q=150,Y=0;return t.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",f),t!==n?x(t,e):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},t.scaleBy=function(e,n){t.scaleTo(e,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},t.scaleTo=function(e,n){t.transform(e,function(){var t=D.apply(this,arguments),e=this.__zoom,r=b(t),i=e.invert(r);return m(_(u(e,"function"==typeof n?n.apply(this,arguments):n),r,i),t)})},t.translateBy=function(e,n,r){t.transform(e,function(){return m(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),D.apply(this,arguments))})},t.translateTo=function(e,n,r){t.transform(e,function(){var t=D.apply(this,arguments),e=this.__zoom,i=b(t);return m(y.translate(i[0],i[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),t)})},T.prototype={start:function(){return 1==++this.active&&(this.index=z.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(z.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){i.customEvent(new a(t,e,this.that.__zoom),H.apply,H,[e,this.that,this.args])}},t.wheelDelta=function(e){return arguments.length?(L="function"==typeof e?e:v(+e),t):L},t.filter=function(e){return arguments.length?(I="function"==typeof e?e:v(!!e),t):I},t.extent=function(e){return arguments.length?(D="function"==typeof e?e:v([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),t):D},t.scaleExtent=function(e){return arguments.length?(k=+e[0],N=+e[1],t):[k,N]},t.translateExtent=function(e){return arguments.length?(j=+e[0][0],B=+e[1][0],F=+e[0][1],U=+e[1][1],t):[[j,F],[B,U]]},t.duration=function(e){return arguments.length?(X=+e,t):X},t.interpolate=function(e){return arguments.length?(W=e,t):W},t.on=function(){var e=H.on.apply(H,arguments);return e===H?t:e},t.clickDistance=function(e){return arguments.length?(Y=(e=+e)*e,t):Math.sqrt(Y)},t},t.zoomTransform=u,t.zoomIdentity=y,Object.defineProperty(t,"__esModule",{value:!0})})},{"d3-dispatch":14,"d3-drag":15,"d3-interpolate":22,"d3-selection":30,"d3-transition":35}],38:[function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r=e&&e.length,o=r?e[0]*n:t.length,s=i(t,0,o,n,!0),u=[];if(!s)return u;var l,c,f,d,p,v,y;if(r&&(s=h(t,e,s,n)),t.length>80*n){l=f=t[0],c=d=t[1];for(var g=n;g<o;g+=n)p=t[g],v=t[g+1],p<l&&(l=p),v<c&&(c=v),p>f&&(f=p),v>d&&(d=v);y=Math.max(f-l,d-c)}return a(s,u,n,l,c,y),u}function i(t,e,n,r,i){var o,a;if(i===R(t,e,n,r)>0)for(o=e;o<n;o+=r)a=C(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=C(o,t[o],t[o+1],a);return a&&w(a,a.next)&&(A(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!w(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(A(r),(r=e=r.prev)===r.next)return null;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,h,f){if(t){!f&&h&&v(t,r,i,h);for(var d,p,y=t;t.prev!==t.next;)if(d=t.prev,p=t.next,h?u(t,r,i,h):s(t))e.push(d.i/n),e.push(t.i/n),e.push(p.i/n),A(t),t=p.next,y=p.next;else if((t=p)===y){f?1===f?a(t=l(t,e,n),e,n,r,i,h,2):2===f&&c(t,e,n,r,i,h):a(o(t),e,n,r,i,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(x(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(x(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=g(s,u,e,n,r),f=g(l,c,e,n,r),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!w(i,o)&&T(i,r,r.next,o)&&M(i,o)&&M(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),A(r),A(r.next),r=t=o),r=r.next}while(r!==t);return r}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&b(u,l)){var c=O(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function h(t,e,n,r){var a,s,u,l=[];for(a=0,s=e.length;a<s;a++)(u=i(t,e[a]*r,a<s-1?e[a+1]*r:t.length,r,!1))===u.next&&(u.steiner=!0),l.push(_(u));for(l.sort(f),a=0;a<l.length;a++)d(l[a],n),n=o(n,n.next);return n}function f(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e)){var n=O(e,t);o(n,n.next)}}function p(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&m(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<f||u===f&&r.x>n.x)&&M(r,t)&&(n=r,f=u),r=r.next;return n}function v(t,e,n,r){var i=t;do{null===i.z&&(i.z=g(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,y(i)}function y(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0===s?(i=r,r=r.nextZ,u--):0!==u&&r?n.z<=r.z?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,s--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1);return t}function g(t,e,n,r,i){return t=32767*(t-n)/i,e=32767*(e-r)/i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function _(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function m(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&M(t,e)&&M(e,t)&&S(t,e)}function x(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function T(t,e,n,r){return!!(w(t,e)&&w(n,r)||w(t,r)&&w(n,e))||x(t,e,n)>0!=x(t,e,r)>0&&x(n,r,t)>0!=x(n,r,e)>0}function E(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&T(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function M(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function S(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}function O(t,e){var n=new P(t.i,t.x,t.y),r=new P(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function C(t,e,n,r){var i=new P(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function R(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}e.exports=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(R(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(R(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,d=r[s+1]*n,p=r[s+2]*n;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},{}],39:[function(t,e,n){"use strict";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(s=!1)),o.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)a.call(t,e)&&n.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},o.prototype.listeners=function(t,e){var n=s?s+t:t,r=this._events[n];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},o.prototype.emit=function(t,e,n,r,i,o){var a=s?s+t:t;if(!this._events[a])return!1;var u,l,c=this._events[a],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,i),!0;case 6:return c.fn.call(c.context,e,n,r,i,o),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,d=c.length;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(t,e,n){var r=new i(e,n||this),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(t,e,n,i){var o=s?s+t:t;if(!this._events[o])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var u=0,l=[],c=a.length;u<c;u++)(a[u].fn!==e||i&&!a[u].once||n&&a[u].context!==n)&&l.push(a[u]);l.length?this._events[o]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,void 0!==e&&(e.exports=o)},{}],40:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(a(n))for(o=Array.prototype.slice.call(arguments,1),r=(l=n.slice()).length,u=0;u<r;u++)l[u].apply(this,o);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],41:[function(t,e,n){function r(t){if("string"==typeof t&&(t=o.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}var i=t("http"),o=t("url"),a=e.exports;for(var s in i)i.hasOwnProperty(s)&&(a[s]=i[s]);a.request=function(t,e){return t=r(t),i.request.call(this,t,e)},a.get=function(t,e){return t=r(t),i.get.call(this,t,e)}},{http:239,url:245}],42:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;t[n+d]=255&a,d+=p,a/=256,l-=8);t[n+d-p]|=128*v}},{}],43:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],44:[function(t,e,n){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}e.exports=function(t){return null!=t&&(r(t)||i(t)||!!t._isBuffer)}},{}],45:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],46:[function(t,e,n){!function(t){var n=/iPhone/i,r=/iPod/i,i=/iPad/i,o=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,a=/Android/i,s=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,u=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,l=/Windows Phone/i,c=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,h=/BlackBerry/i,f=/BB10/i,d=/Opera Mini/i,p=/(CriOS|Chrome)(?=.*\bMobile\b)/i,v=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,y=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),g=function(t,e){return t.test(e)},_=function(t){var e=t||navigator.userAgent,_=e.split("[FBAN");if(void 0!==_[1]&&(e=_[0]),void 0!==(_=e.split("Twitter"))[1]&&(e=_[0]),this.apple={phone:g(n,e),ipod:g(r,e),tablet:!g(n,e)&&g(i,e),device:g(n,e)||g(r,e)||g(i,e)},this.amazon={phone:g(s,e),tablet:!g(s,e)&&g(u,e),device:g(s,e)||g(u,e)},this.android={phone:g(s,e)||g(o,e),tablet:!g(s,e)&&!g(o,e)&&(g(u,e)||g(a,e)),device:g(s,e)||g(u,e)||g(o,e)||g(a,e)},this.windows={phone:g(l,e),tablet:g(c,e),device:g(l,e)||g(c,e)},this.other={blackberry:g(h,e),blackberry10:g(f,e),opera:g(d,e),firefox:g(v,e),chrome:g(p,e),device:g(h,e)||g(f,e)||g(d,e)||g(v,e)||g(p,e)},this.seven_inch=g(y,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},m=function(){var t=new _;return t.Class=_,t};void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=_:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=m():"function"==typeof define&&define.amd?define("isMobile",[],t.isMobile=m()):t.isMobile=m()}(this)},{}],47:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e,n,i){void 0===n&&(n=!1),r(this,t),this._fn=e,this._once=n,this._thisArg=i,this._next=this._prev=this._owner=null}return o(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),s=function(){function t(){r(this,t),this._head=this._tail=void 0}return o(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:"has",value:function(t){if(!(t instanceof a))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new a(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new a(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof a))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=a,n.default=s,e.exports=n.default},{}],48:[function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=r(t),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)o.call(n,c)&&(u[c]=n[c]);if(i){s=i(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},{}],49:[function(t,e,n){"use strict";e.exports=function(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,function(t,e,r){e&&(i[n.q.name][e]=r)}),i}},{}],50:[function(t,e,n){(function(t){function e(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return i.exec(t).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=e(r(n.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(t){var i=n.isAbsolute(t),o="/"===a(t,-1);return(t=e(r(t.split("/"),function(t){return!!t}),!i).join("/"))||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),a=Math.min(i.length,o.length),s=a,u=0;u<a;u++)if(i[u]!==o[u]){s=u;break}for(var l=[],u=s;u<i.length;u++)l.push("..");return(l=l.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],r=e[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:217}],51:[function(t,e,n){var r=new ArrayBuffer(0),i=function(t,e,n,i){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=i||t.STATIC_DRAW,this.data=r,n&&this.upload(n),this._updateID=0};i.prototype.upload=function(t,e,n){n||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},i.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},i.createVertexBuffer=function(t,e,n){return new i(t,t.ARRAY_BUFFER,e,n)},i.createIndexBuffer=function(t,e,n){return new i(t,t.ELEMENT_ARRAY_BUFFER,e,n)},i.create=function(t,e,n,r){return new i(t,e,n,r)},i.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=i},{}],52:[function(t,e,n){var r=t("./GLTexture"),i=function(t,e,n){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=n||100};i.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new r(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(t,e,n,r){this.bind();var i=this.gl;i.clearColor(t,e,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},i.prototype.resize=function(t,e){var n=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t,e))},i.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(t,e,n,o){var a=r.fromData(t,null,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(t,e,n,o){var a=new r.fromData(t,o,e,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(t,e,n);return s.enableTexture(a),s.unbind(),s},e.exports=i},{"./GLTexture":54}],53:[function(t,e,n){var r=t("./shader/compileProgram"),i=t("./shader/extractAttributes"),o=t("./shader/extractUniforms"),a=t("./shader/setPrecision"),s=t("./shader/generateUniformAccessObject"),u=function(t,e,n,u,l){this.gl=t,u&&(e=a(e,u),n=a(n,u)),this.program=r(t,e,n,l),this.attributes=i(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){this.gl.useProgram(this.program)},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=u},{"./shader/compileProgram":59,"./shader/extractAttributes":61,"./shader/extractUniforms":62,"./shader/generateUniformAccessObject":63,"./shader/setPrecision":67}],54:[function(t,e,n){var r=function(t,e,n,r,i){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=n||-1,this.format=r||t.RGBA,this.type=i||t.UNSIGNED_BYTE};r.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||n!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=n,this.height=r};var i=!1;r.prototype.uploadData=function(t,e,n){this.bind();var r=this.gl;if(t instanceof Float32Array){if(!i){if(!r.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||n!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,e,n,0,this.format,this.type,t||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e,n,this.format,this.type,t||null),this.width=e,this.height=n},r.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},r.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},r.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},r.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},r.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},r.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},r.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},r.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},r.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},r.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},r.fromSource=function(t,e,n){var i=new r(t);return i.premultiplyAlpha=n||!1,i.upload(e),i},r.fromData=function(t,e,n,i){var o=new r(t);return o.uploadData(e,n,i),o},e.exports=r},{}],55:[function(t,e,n){function r(t,e){if(this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var i=t("./setVertexAttribArrays");r.prototype.constructor=r,e.exports=r,r.FORCE_NATIVE=!1,r.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){for(var t=this.gl,e=null,n=0;n<this.attributes.length;n++){var r=this.attributes[n];e!==r.buffer&&(r.buffer.bind(),e=r.buffer),t.vertexAttribPointer(r.attribute.location,r.attribute.size,r.type||t.FLOAT,r.normalized||!1,r.stride||0,r.start||0)}return i(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(t,e,n,r,i,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},r.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(t,e,n){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(t,n,e||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},{"./setVertexAttribArrays":58}],56:[function(t,e,n){e.exports=function(t,e){var n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n}},{}],57:[function(t,e,n){var r={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},{"./GLBuffer":51,"./GLFramebuffer":52,"./GLShader":53,"./GLTexture":54,"./VertexArrayObject":55,"./createContext":56,"./setVertexAttribArrays":58,"./shader":64}],58:[function(t,e,n){e.exports=function(t,e,n){var r;if(n){var i=n.tempAttribState,o=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<e.length;r++)i[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++){var a=e[r];t.enableVertexAttribArray(a.attribute.location)}}},{}],59:[function(t,e,n){var r=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)};e.exports=function(t,e,n,i){var o=r(t,t.VERTEX_SHADER,e),a=r(t,t.FRAGMENT_SHADER,n),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),i)for(var u in i)t.bindAttribLocation(s,i[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s}},{}],60:[function(t,e,n){var r=function(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e};e.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],61:[function(t,e,n){var r=t("./mapType"),i=t("./mapSize"),o=function(t,e,n,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,n||0,r||0)};e.exports=function(t,e){for(var n={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var u=t.getActiveAttrib(e,s),l=r(t,u.type);n[u.name]={type:l,size:i(l),location:t.getAttribLocation(e,u.name),pointer:o}}return n}},{"./mapSize":65,"./mapType":66}],62:[function(t,e,n){var r=t("./mapType"),i=t("./defaultValue");e.exports=function(t,e){for(var n={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\[.*?\]/,""),l=r(t,s.type);n[u]={type:l,size:s.size,location:t.getUniformLocation(e,u),value:i(l,s.size)}}return n}},{"./defaultValue":60,"./mapType":66}],63:[function(t,e,n){var r=function(t){var e=a.replace("%%",t);return new Function(e)},i=function(t,e){var n,r=s.replace(/%%/g,t);return(n=1===e.size?u[e.type]:l[e.type])&&(r+="\nthis.gl."+n+";"),new Function("value",r)},o=function(t,e){for(var n=e,r=0;r<t.length-1;r++){var i=n[t[r]]||{data:{}};n[t[r]]=i,n=i}return n},a=["return this.data.%%.value;"].join("\n"),s=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),u={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},l={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};e.exports=function(t,e){var n={data:{}};n.gl=t;for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s],l=u.split("."),c=l[l.length-1],h=o(l,n),f=e[u];h.data[c]=f,h.gl=t,Object.defineProperty(h,c,{get:r(c),set:i(c,f)})}return n}},{}],64:[function(t,e,n){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),setPrecision:t("./setPrecision"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":59,"./defaultValue":60,"./extractAttributes":61,"./extractUniforms":62,"./generateUniformAccessObject":63,"./mapSize":65,"./mapType":66,"./setPrecision":67}],65:[function(t,e,n){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(t){return r[t]}},{}],66:[function(t,e,n){var r=null,i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(t,e){if(!r){var n=Object.keys(i);r={};for(var o=0;o<n.length;++o){var a=n[o];r[t[a]]=i[a]}}return r[e]}},{}],67:[function(t,e,n){e.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},{}],68:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),a=r(t("ismobilejs")),s=r(t("./accessibleTarget"));o.utils.mixins.delayMixin(o.DisplayObject.prototype,s.default);var u=100,l=0,c=0,h=2,f=function(){function t(e){i(this,t),!a.default.tablet&&!a.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement("div");n.style.width=u+"px",n.style.height=u+"px",n.style.position="absolute",n.style.top=l+"px",n.style.left=c+"px",n.style.zIndex=h,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=e.length-1;n>=0;n--)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,n=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var i=0;i<this.children.length;i++){var a=this.children[i];if(a.renderId!==this.renderId)a._accessibleActive=!1,o.utils.removeItems(this.children,i,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,i--,0===this.children.length&&this.deactivate();else{r=a._accessibleDiv;var s=a.hitArea,u=a.worldTransform;a.hitArea?(r.style.left=(u.tx+s.x*u.a)*e+"px",r.style.top=(u.ty+s.y*u.d)*n+"px",r.style.width=s.width*u.a*e+"px",r.style.height=s.height*u.d*n+"px"):(s=a.getBounds(),this.capHitArea(s),r.style.left=s.x*e+"px",r.style.top=s.y*n+"px",r.style.width=s.width*e+"px",r.style.height=s.height*n+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=u+"px",e.style.height=u+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=h,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();n.default=f,o.WebGLRenderer.registerPlugin("accessibility",f),o.CanvasRenderer.registerPlugin("accessibility",f)},{"../core":93,"./accessibleTarget":69,ismobilejs:46}],69:[function(t,e,n){"use strict";n.__esModule=!0,n.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],70:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("./accessibleTarget");Object.defineProperty(n,"accessibleTarget",{enumerable:!0,get:function(){return r(i).default}});var o=t("./AccessibilityManager");Object.defineProperty(n,"AccessibilityManager",{enumerable:!0,get:function(){return r(o).default}})},{"./AccessibilityManager":68,"./accessibleTarget":69}],71:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("./autoDetectRenderer"),s=r(t("./display/Container")),u=t("./ticker"),l=r(t("./settings")),c=t("./const"),h=function(){function t(e,n,r,o,c){i(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:n||l.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!c},r)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,a.autoDetectRenderer)(e),this.stage=new s.default,this._ticker=null,this.ticker=e.sharedTicker?u.shared:new u.Ticker,e.autoStart&&this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){var e=this._ticker;this.ticker=null,e.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},o(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,c.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();n.default=h},{"./autoDetectRenderer":73,"./const":74,"./display/Container":76,"./settings":129,"./ticker":148}],72:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var n=t.slice(0);return n.unshift("precision "+e+" float;"),n}}else if("precision"!==t.substring(0,9))return"precision "+e+" float;\n"+t;return t}n.__esModule=!0;var s=t("pixi-gl-core"),u=function(t){return t&&t.__esModule?t:{default:t}}(t("./settings")),l=function(t){function e(n,o,s){return r(this,e),i(this,t.call(this,n,a(o,u.default.PRECISION_VERTEX),a(s,u.default.PRECISION_FRAGMENT)))}return o(e,t),e}(s.GLShader);n.default=l},{"./settings":129,"pixi-gl-core":57}],73:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.autoDetectRenderer=function(t,e,n,r){var s=t&&t.forceCanvas;return void 0!==r&&(s=r),!s&&i.isWebGLSupported()?new a.default(t,e,n):new o.default(t,e,n)};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils")),o=r(t("./renderers/canvas/CanvasRenderer")),a=r(t("./renderers/webgl/WebGLRenderer"))},{"./renderers/canvas/CanvasRenderer":105,"./renderers/webgl/WebGLRenderer":112,"./utils":152}],74:[function(t,e,n){"use strict";n.__esModule=!0;n.VERSION="4.5.5",n.PI_2=2*Math.PI,n.RAD_TO_DEG=180/Math.PI,n.DEG_TO_RAD=Math.PI/180,n.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},n.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},n.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},n.SCALE_MODES={LINEAR:0,NEAREST:1},n.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},n.GC_MODES={AUTO:0,MANUAL:1},n.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,n.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,n.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,n.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},n.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},n.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},n.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},n.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],75:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=t("../math"),o=function(){function t(){r(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:(t=t||new i.Rectangle(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,o=t[2],a=t[3],e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,o=t[4],a=t[5],e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,o=t[6],a=t[7],e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,l=o.d,c=o.tx,h=o.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,y=a*e+u*n+c,g=s*e+l*n+h;f=y<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=s*r+l*n+h,f=(y=a*r+u*n+c)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=s*e+l*i+h,f=(y=a*e+u*i+c)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,g=s*r+l*i+h,f=(y=a*r+u*i+c)<f?y:f,d=g<d?g:d,p=y>p?y:p,v=g>v?g:v,this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertices=function(t,e,n,r){for(var i=t.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=n;v<r;v+=2){var y=e[v],g=e[v+1],_=o*y+s*g+l,m=u*g+a*y+c;h=_<h?_:h,f=m<f?m:f,d=_>d?_:d,p=m>p?m:p}this.minX=h,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t}();n.default=o},{"../math":98}],76:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../utils"),u=function(t){function e(){r(this,e);var n=i(this,t.call(this));return n.children=[],n}return o(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(t);(0,s.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.removeChild(arguments[n]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,s.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,s.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=t,r="number"==typeof e?e:this.children.length,i=r-n,o=void 0;if(i>0&&i<=r){o=this.children.splice(n,i);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}n&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var i=0,o=this.children.length;i<o;i++)this.children[i].renderWebGL(t);t.flush(),n&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var n="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},a(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./DisplayObject")).default);n.default=u,u.prototype.containerUpdateTransform=u.prototype.updateTransform},{"../utils":152,"./DisplayObject":77}],77:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(t("eventemitter3")),l=t("../const"),c=r(t("../settings")),h=r(t("./TransformStatic")),f=r(t("./Transform")),d=r(t("./Bounds")),p=t("../math"),v=function(t){function e(){i(this,e);var n=o(this,t.call(this)),r=c.default.TRANSFORM_MODE===l.TRANSFORM_MODE.STATIC?h.default:f.default;return n.tempDisplayObjectParent=null,n.transform=new r,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new d.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._destroyed=!1,n}return a(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new p.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new p.Rectangle),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=n,this.transform=e,r},e.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},s(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(u.default);n.default=v,v.prototype.displayObjectUpdateTransform=v.prototype.updateTransform},{"../const":74,"../math":98,"../settings":129,"./Bounds":75,"./Transform":78,"./TransformStatic":80,eventemitter3:39}],78:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../math"),u=function(t){function e(){r(this,e);var n=i(this,t.call(this));return n.position=new s.Point(0,0),n.scale=new s.Point(1,1),n.skew=new s.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new s.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return o(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},a(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./TransformBase")).default);n.default=u},{"../math":98,"./TransformBase":79}],79:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=t("../math"),o=function(){function t(){r(this,t),this.worldTransform=new i.Matrix,this.localTransform=new i.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,n=this.worldTransform,r=this.localTransform;n.a=r.a*e.a+r.b*e.c,n.b=r.a*e.b+r.b*e.d,n.c=r.c*e.a+r.d*e.c,n.d=r.c*e.b+r.d*e.d,n.tx=r.tx*e.a+r.ty*e.c+e.tx,n.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}();n.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},{"../math":98}],80:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=t("../math"),u=function(t){function e(){r(this,e);var n=i(this,t.call(this));return n.position=new s.ObservablePoint(n.onChange,n,0,0),n.scale=new s.ObservablePoint(n.onChange,n,1,1),n.pivot=new s.ObservablePoint(n.onChange,n,0,0),n.skew=new s.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return o(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},a(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./TransformBase")).default);n.default=u},{"../math":98,"./TransformBase":79}],81:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=r(t("../display/Container")),u=r(t("../textures/RenderTexture")),l=r(t("../textures/Texture")),c=r(t("./GraphicsData")),h=r(t("../sprites/Sprite")),f=t("../math"),d=t("../utils"),p=t("../const"),v=r(t("../display/Bounds")),y=r(t("./utils/bezierCurveTo")),g=r(t("../renderers/canvas/CanvasRenderer")),_=void 0,m=new f.Matrix,b=new f.Point,x=new Float32Array(4),w=new Float32Array(4),T=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,e);var r=o(this,t.call(this));return r.fillAlpha=1,r.lineWidth=0,r.nativeLines=n,r.lineColor=0,r.graphicsData=[],r.tint=16777215,r._prevTint=16777215,r.blendMode=p.BLEND_MODES.NORMAL,r.currentPath=null,r._webGL={},r.isMask=!1,r.boundsPadding=0,r._localBounds=new v.default,r.dirty=0,r.fastRectDirty=-1,r.clearDirty=0,r.boundsDirty=-1,r.cachedSpriteDirty=!1,r._spriteRect=null,r._fastRect=!1,r}return a(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var n=0;n<this.graphicsData.length;++n)t.graphicsData.push(this.graphicsData[n].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=n,this.currentPath)if(this.currentPath.shape.points.length){var r=new f.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var n=new f.Polygon([t,e]);return n.closed=!1,this.drawShape(n),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,n,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var i=this.currentPath.shape.points,o=0,a=0;0===i.length&&this.moveTo(0,0);for(var s=i[i.length-2],u=i[i.length-1],l=1;l<=20;++l){var c=l/20;o=s+(t-s)*c,a=u+(e-u)*c,i.push(o+(t+(n-t)*c-o)*c,a+(e+(r-e)*c-a)*c)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,s=a[a.length-2],u=a[a.length-1];return a.length-=2,(0,y.default)(s,u,t,e,n,r,i,o,a),this.dirty++,this},e.prototype.arcTo=function(t,e,n,r,i){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=r-e,c=n-t,h=Math.abs(s*c-u*l);if(h<1e-8||0===i)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var f=s*s+u*u,d=l*l+c*c,p=s*l+u*c,v=i*Math.sqrt(f)/h,y=i*Math.sqrt(d)/h,g=v*p/f,_=y*p/d,m=v*c+y*u,b=v*l+y*s,x=u*(y+g),w=s*(y+g),T=c*(v+_),E=l*(v+_),M=Math.atan2(w-b,x-m),S=Math.atan2(E-b,T-m);this.arc(m+t,b+e,i,M,S,u*l>c*s)}return this.dirty++,this},e.prototype.arc=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(r===i)return this;!o&&i<=r?i+=2*Math.PI:o&&r<=i&&(r+=2*Math.PI);var a=i-r,s=40*Math.ceil(Math.abs(a)/(2*Math.PI));if(0===a)return this;var u=t+Math.cos(r)*n,l=e+Math.sin(r)*n,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===u&&c[c.length-1]===l||c.push(u,l):(this.moveTo(u,l),c=this.currentPath.shape.points);for(var h=a/(2*s),f=2*h,d=Math.cos(h),p=Math.sin(h),v=s-1,y=v%1/v,g=0;g<=v;++g){var _=h+r+f*(g+y*g),m=Math.cos(_),b=-Math.sin(_);c.push((d*m+p*b)*n+t,(d*-b+p*m)*n+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new f.Rectangle(t,e,n,r)),this},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new f.RoundedRectangle(t,e,n,r,i)),this},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new f.Circle(t,e,n)),this},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new f.Ellipse(t,e,n,r)),this},e.prototype.drawPolygon=function(t){var e=t,n=!0;if(e instanceof f.Polygon&&(n=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var i=new f.Polygon(e);return i.closed=n,this.drawShape(i),this},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===p.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new h.default(new l.default(l.default.WHITE)));var n=this._spriteRect;if(16777215===this.tint)n.tint=this.graphicsData[0].fillColor;else{var r=x,i=w;(0,d.hex2rgb)(this.graphicsData[0].fillColor,r),(0,d.hex2rgb)(this.tint,i),r[0]*=i[0],r[1]*=i[1],r[2]*=i[2],n.tint=(0,d.rgb2hex)(r)}n.alpha=this.graphicsData[0].fillAlpha,n.worldAlpha=this.worldAlpha*n.alpha,n.blendMode=this.blendMode,n._texture._frame.width=e.width,n._texture._frame.height=e.height,n.transform.worldTransform=this.transform.worldTransform,n.anchor.set(-e.x/e.width,-e.y/e.height),n._onAnchorUpdate(),n._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,b);for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fill&&(r.shape&&r.shape.contains(b.x,b.y))){if(r.holes)for(var i=0;i<r.holes.length;i++)if(r.holes[i].contains(b.x,b.y))return!1;return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,n=1/0,r=-1/0;if(this.graphicsData.length)for(var i=0,o=0,a=0,s=0,u=0,l=0;l<this.graphicsData.length;l++){var c=this.graphicsData[l],h=c.type,f=c.lineWidth;if(i=c.shape,h===p.SHAPES.RECT||h===p.SHAPES.RREC)o=i.x-f/2,a=i.y-f/2,s=i.width+f,u=i.height+f,t=o<t?o:t,e=o+s>e?o+s:e,n=a<n?a:n,r=a+u>r?a+u:r;else if(h===p.SHAPES.CIRC)o=i.x,a=i.y,s=i.radius+f/2,u=i.radius+f/2,t=o-s<t?o-s:t,e=o+s>e?o+s:e,n=a-u<n?a-u:n,r=a+u>r?a+u:r;else if(h===p.SHAPES.ELIP)o=i.x,a=i.y,s=i.width+f/2,u=i.height+f/2,t=o-s<t?o-s:t,e=o+s>e?o+s:e,n=a-u<n?a-u:n,r=a+u>r?a+u:r;else for(var d=i.points,v=0,y=0,g=0,_=0,m=0,b=0,x=0,w=0,T=0;T+2<d.length;T+=2)o=d[T],a=d[T+1],v=d[T+2],y=d[T+3],g=Math.abs(v-o),_=Math.abs(y-a),u=f,(s=Math.sqrt(g*g+_*_))<1e-9||(b=(u/s*g+_)/2,w=(y+a)/2,t=(x=(v+o)/2)-(m=(u/s*_+g)/2)<t?x-m:t,e=x+m>e?x+m:e,n=w-b<n?w-b:n,r=w+b>r?w+b:r)}else t=0,e=0,n=0,r=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=n-E,this._localBounds.maxY=r+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new c.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===p.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getLocalBounds(),r=u.default.create(n.width,n.height,t,e);_||(_=new g.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(m),m.invert(),m.tx-=n.x,m.ty-=n.y,_.render(this,r,!0,m);var i=l.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas,t,"graphics");return i.baseTexture.resolution=e,i.baseTexture.update(),i},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();for(var r in this._webgl)for(var i=0;i<this._webgl[r].data.length;++i)this._webgl[r].data[i].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(s.default);n.default=T,T._SPRITE_TEXTURE=null},{"../const":74,"../display/Bounds":75,"../display/Container":76,"../math":98,"../renderers/canvas/CanvasRenderer":105,"../sprites/Sprite":130,"../textures/RenderTexture":141,"../textures/Texture":143,"../utils":152,"./GraphicsData":82,"./utils/bezierCurveTo":84}],82:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(e,n,i,o,a,s,u,l){r(this,t),this.lineWidth=e,this.nativeLines=u,this.lineColor=n,this.lineAlpha=i,this._lineTint=n,this.fillColor=o,this.fillAlpha=a,this._fillTint=o,this.fill=s,this.holes=[],this.shape=l,this.type=l.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();n.default=i},{}],83:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("../../renderers/canvas/CanvasRenderer")),o=t("../../const"),a=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldAlpha,i=t.transform.worldTransform,a=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),n.setTransform(i.a*a,i.b*a,i.c*a,i.d*a,i.tx*a,i.ty*a),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var u=t.graphicsData[s],l=u.shape,c=u._fillTint,h=u._lineTint;if(n.lineWidth=u.lineWidth,u.type===o.SHAPES.POLY){n.beginPath(),this.renderPolygon(l.points,l.closed,n);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,n);u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.stroke())}else if(u.type===o.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===o.SHAPES.CIRC)n.beginPath(),n.arc(l.x,l.y,l.radius,0,2*Math.PI),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.stroke());else if(u.type===o.SHAPES.ELIP){var d=2*l.width,p=2*l.height,v=l.x-d/2,y=l.y-p/2;n.beginPath();var g=d/2*.5522848,_=p/2*.5522848,m=v+d,b=y+p,x=v+d/2,w=y+p/2;n.moveTo(v,w),n.bezierCurveTo(v,w-_,x-g,y,x,y),n.bezierCurveTo(x+g,y,m,w-_,m,w),n.bezierCurveTo(m,w+_,x+g,b,x,b),n.bezierCurveTo(x-g,b,v,w+_,v,w),n.closePath(),u.fill&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.stroke())}else if(u.type===o.SHAPES.RREC){var T=l.x,E=l.y,M=l.width,S=l.height,O=l.radius,C=Math.min(M,S)/2|0;O=O>C?C:O,n.beginPath(),n.moveTo(T,E+O),n.lineTo(T,E+S-O),n.quadraticCurveTo(T,E+S,T+O,E+S),n.lineTo(T+M-O,E+S),n.quadraticCurveTo(T+M,E+S,T+M,E+S-O),n.lineTo(T+M,E+O),n.quadraticCurveTo(T+M,E,T+M-O,E),n.lineTo(T+O,E),n.quadraticCurveTo(T,E,T,E+O),n.closePath(),(u.fillColor||0===u.fillColor)&&(n.globalAlpha=u.fillAlpha*r,n.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6),n.fill()),u.lineWidth&&(n.globalAlpha=u.lineAlpha*r,n.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),n.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,n=(t.tint>>8&255)/255,r=(255&t.tint)/255,i=0;i<t.graphicsData.length;++i){var o=t.graphicsData[i],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*n*255<<8)+(255&a)/255*r*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*n*255<<8)+(255&s)/255*r*255}},t.prototype.renderPolygon=function(t,e,n){n.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)n.lineTo(t[2*r],t[2*r+1]);e&&n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();n.default=a,i.default.registerPlugin("graphics",a)},{"../../const":74,"../../renderers/canvas/CanvasRenderer":105}],84:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t,e,n,r,i,o,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],l=0,c=0,h=0,f=0,d=0;u.push(t,e);for(var p=1,v=0;p<=20;++p)h=(c=(l=1-(v=p/20))*l)*l,d=(f=v*v)*v,u.push(h*t+3*c*v*n+3*l*f*i+d*a,h*e+3*c*v*r+3*l*f*o+d*s);return u}},{}],85:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../../utils"),u=t("../../const"),l=r(t("../../renderers/webgl/utils/ObjectRenderer")),c=r(t("../../renderers/webgl/WebGLRenderer")),h=r(t("./WebGLGraphicsData")),f=r(t("./shaders/PrimitiveShader")),d=r(t("./utils/buildPoly")),p=r(t("./utils/buildRectangle")),v=r(t("./utils/buildRoundedRectangle")),y=r(t("./utils/buildCircle")),g=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.graphicsDataPool=[],r.primitiveShader=null,r.gl=n.gl,r.CONTEXT_UID=0,r}return a(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new f.default(this.gl)},e.prototype.destroy=function(){l.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,n=e.gl,r=void 0,i=t._webGL[this.CONTEXT_UID];i&&t.dirty===i.dirty||(this.updateGraphics(t),i=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var a=0,u=i.data.length;a<u;a++){var l=(r=i.data[a]).shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,s.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(r.vao),r.nativeLines?n.drawArrays(n.LINES,0,r.points.length/6):r.vao.draw(n.TRIANGLE_STRIP,r.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var r=0;r<n.data.length;r++)this.graphicsDataPool.push(n.data[r]);n.data.length=0,n.lastIndex=0}for(var i=void 0,o=void 0,a=n.lastIndex;a<t.graphicsData.length;a++){var s=t.graphicsData[a];i=this.getWebGLData(n,0),s.nativeLines&&s.lineWidth&&(o=this.getWebGLData(n,0,!0),n.lastIndex++),s.type===u.SHAPES.POLY&&(0,d.default)(s,i,o),s.type===u.SHAPES.RECT?(0,p.default)(s,i,o):s.type===u.SHAPES.CIRC||s.type===u.SHAPES.ELIP?(0,y.default)(s,i,o):s.type===u.SHAPES.RREC&&(0,v.default)(s,i,o),n.lastIndex++}this.renderer.bindVao(null);for(var l=0;l<n.data.length;l++)(i=n.data[l]).dirty&&i.upload()},e.prototype.getWebGLData=function(t,e,n){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==n||r.points.length>32e4)&&((r=this.graphicsDataPool.pop()||new h.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=n,r.reset(e),t.data.push(r)),r.dirty=!0,r},e}(l.default);n.default=g,c.default.registerPlugin("graphics",g)},{"../../const":74,"../../renderers/webgl/WebGLRenderer":112,"../../renderers/webgl/utils/ObjectRenderer":122,"../../utils":152,"./WebGLGraphicsData":86,"./shaders/PrimitiveShader":87,"./utils/buildCircle":88,"./utils/buildPoly":90,"./utils/buildRectangle":91,"./utils/buildRoundedRectangle":92}],86:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("pixi-gl-core")),o=function(){function t(e,n,o){r(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new i.default.VertexArrayObject(e,o).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();n.default=o},{"pixi-gl-core":57}],87:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){function e(n){return r(this,e),i(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../../../Shader")).default);n.default=a},{"../../../Shader":72}],88:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t,e,n){var a=t.shape,s=a.x,u=a.y,l=void 0,c=void 0;if(t.type===i.SHAPES.CIRC?(l=a.radius,c=a.radius):(l=a.width,c=a.height),0!==l&&0!==c){var h=Math.floor(30*Math.sqrt(a.radius))||Math.floor(15*Math.sqrt(a.width+a.height)),f=2*Math.PI/h;if(t.fill){var d=(0,o.hex2rgb)(t.fillColor),p=t.fillAlpha,v=d[0]*p,y=d[1]*p,g=d[2]*p,_=e.points,m=e.indices,b=_.length/6;m.push(b);for(var x=0;x<h+1;x++)_.push(s,u,v,y,g,p),_.push(s+Math.sin(f*x)*l,u+Math.cos(f*x)*c,v,y,g,p),m.push(b++,b++);m.push(b-1)}if(t.lineWidth){var w=t.points;t.points=[];for(var T=0;T<h+1;T++)t.points.push(s+Math.sin(f*T)*l,u+Math.cos(f*T)*c);(0,r.default)(t,e,n),t.points=w}}};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("./buildLine")),i=t("../../../const"),o=t("../../../utils")},{"../../../const":74,"../../../utils":152,"./buildLine":89}],89:[function(t,e,n){"use strict";function r(t,e){var n=t.points;if(0!==n.length){var r=new o.Point(n[0],n[1]),i=new o.Point(n[n.length-2],n[n.length-1]);if(r.x===i.x&&r.y===i.y){(n=n.slice()).pop(),n.pop();var s=(i=new o.Point(n[n.length-2],n[n.length-1])).x+.5*(r.x-i.x),u=i.y+.5*(r.y-i.y);n.unshift(s,u),n.push(s,u)}var l=e.points,c=e.indices,h=n.length/2,f=n.length,d=l.length/6,p=t.lineWidth/2,v=(0,a.hex2rgb)(t.lineColor),y=t.lineAlpha,g=v[0]*y,_=v[1]*y,m=v[2]*y,b=n[0],x=n[1],w=n[2],T=n[3],E=0,M=0,S=-(x-T),O=b-w,C=0,A=0,P=0,R=0,I=Math.sqrt(S*S+O*O);S/=I,O/=I,S*=p,O*=p,l.push(b-S,x-O,g,_,m,y),l.push(b+S,x+O,g,_,m,y);for(var D=1;D<h-1;++D){b=n[2*(D-1)],x=n[2*(D-1)+1],w=n[2*D],T=n[2*D+1],E=n[2*(D+1)],M=n[2*(D+1)+1],S=-(x-T),O=b-w,S/=I=Math.sqrt(S*S+O*O),O/=I,S*=p,O*=p,C=-(T-M),A=w-E,C/=I=Math.sqrt(C*C+A*A),A/=I;var L=-O+x-(-O+T),k=-S+w-(-S+b),N=(-S+b)*(-O+T)-(-S+w)*(-O+x),j=-(A*=p)+M-(-A+T),B=-(C*=p)+w-(-C+E),F=(-C+E)*(-A+T)-(-C+w)*(-A+M),U=L*B-j*k;if(Math.abs(U)<.1)U+=10.1,l.push(w-S,T-O,g,_,m,y),l.push(w+S,T+O,g,_,m,y);else{var X=(k*F-B*N)/U,W=(j*N-L*F)/U;(X-w)*(X-w)+(W-T)*(W-T)>196*p*p?(P=S-C,R=O-A,P/=I=Math.sqrt(P*P+R*R),R/=I,P*=p,R*=p,l.push(w-P,T-R),l.push(g,_,m,y),l.push(w+P,T+R),l.push(g,_,m,y),l.push(w-P,T-R),l.push(g,_,m,y),f++):(l.push(X,W),l.push(g,_,m,y),l.push(w-(X-w),T-(W-T)),l.push(g,_,m,y))}}b=n[2*(h-2)],x=n[2*(h-2)+1],w=n[2*(h-1)],S=-(x-(T=n[2*(h-1)+1])),O=b-w,S/=I=Math.sqrt(S*S+O*O),O/=I,S*=p,O*=p,l.push(w-S,T-O),l.push(g,_,m,y),l.push(w+S,T+O),l.push(g,_,m,y),c.push(d);for(var z=0;z<f;++z)c.push(d++);c.push(d-1)}}function i(t,e){var n=0,r=t.points;if(0!==r.length){var i=e.points,o=r.length/2,s=(0,a.hex2rgb)(t.lineColor),u=t.lineAlpha,l=s[0]*u,c=s[1]*u,h=s[2]*u;for(n=1;n<o;n++){var f=r[2*(n-1)],d=r[2*(n-1)+1],p=r[2*n],v=r[2*n+1];i.push(f,d),i.push(l,c,h,u),i.push(p,v),i.push(l,c,h,u)}}}n.__esModule=!0,n.default=function(t,e,n){t.nativeLines?i(t,n):r(t,e)};var o=t("../../../math"),a=t("../../../utils")},{"../../../math":98,"../../../utils":152}],90:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.default=function(t,e,n){t.points=t.shape.points.slice();var r=t.points;if(t.fill&&r.length>=6){for(var s=[],u=t.holes,l=0;l<u.length;l++){var c=u[l];s.push(r.length/2),r=r.concat(c.points)}var h=e.points,f=e.indices,d=r.length/2,p=(0,o.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=(0,a.default)(r,s,2);if(!m)return;for(var b=h.length/6,x=0;x<m.length;x+=3)f.push(m[x]+b),f.push(m[x]+b),f.push(m[x+1]+b),f.push(m[x+2]+b),f.push(m[x+2]+b);for(var w=0;w<d;w++)h.push(r[2*w],r[2*w+1],y,g,_,v)}t.lineWidth>0&&(0,i.default)(t,e,n)};var i=r(t("./buildLine")),o=t("../../../utils"),a=r(t("earcut"))},{"../../../utils":152,"./buildLine":89,earcut:38}],91:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t,e,n){var o=t.shape,a=o.x,s=o.y,u=o.width,l=o.height;if(t.fill){var c=(0,i.hex2rgb)(t.fillColor),h=t.fillAlpha,f=c[0]*h,d=c[1]*h,p=c[2]*h,v=e.points,y=e.indices,g=v.length/6;v.push(a,s),v.push(f,d,p,h),v.push(a+u,s),v.push(f,d,p,h),v.push(a,s+l),v.push(f,d,p,h),v.push(a+u,s+l),v.push(f,d,p,h),y.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var _=t.points;t.points=[a,s,a+u,s,a+u,s+l,a,s+l,a,s],(0,r.default)(t,e,n),t.points=_}};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("./buildLine")),i=t("../../../utils")},{"../../../utils":152,"./buildLine":89}],92:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return t+(e-t)*n}function o(t,e,n,r,o,a){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=0,l=0,c=0,h=0,f=0,d=0,p=0,v=0;p<=20;++p)u=i(t,n,v=p/20),l=i(e,r,v),c=i(n,o,v),h=i(r,a,v),f=i(u,c,v),d=i(l,h,v),s.push(f,d);return s}n.__esModule=!0,n.default=function(t,e,n){var r=t.shape,i=r.x,l=r.y,c=r.width,h=r.height,f=r.radius,d=[];if(d.push(i,l+f),o(i,l+h-f,i,l+h,i+f,l+h,d),o(i+c-f,l+h,i+c,l+h,i+c,l+h-f,d),o(i+c,l+f,i+c,l,i+c-f,l,d),o(i+f,l,i,l,i,l+f+1e-10,d),t.fill){for(var p=(0,u.hex2rgb)(t.fillColor),v=t.fillAlpha,y=p[0]*v,g=p[1]*v,_=p[2]*v,m=e.points,b=e.indices,x=m.length/6,w=(0,a.default)(d,null,2),T=0,E=w.length;T<E;T+=3)b.push(w[T]+x),b.push(w[T]+x),b.push(w[T+1]+x),b.push(w[T+2]+x),b.push(w[T+2]+x);for(var M=0,S=d.length;M<S;M++)m.push(d[M],d[++M],y,g,_,v)}if(t.lineWidth){var O=t.points;t.points=d,(0,s.default)(t,e,n),t.points=O}};var a=r(t("earcut")),s=r(t("./buildLine")),u=t("../../../utils")},{"../../../utils":152,"./buildLine":89,earcut:38}],93:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.autoDetectRenderer=n.Application=n.Filter=n.SpriteMaskFilter=n.Quad=n.RenderTarget=n.ObjectRenderer=n.WebGLManager=n.Shader=n.CanvasRenderTarget=n.TextureUvs=n.VideoBaseTexture=n.BaseRenderTexture=n.RenderTexture=n.BaseTexture=n.Texture=n.Spritesheet=n.CanvasGraphicsRenderer=n.GraphicsRenderer=n.GraphicsData=n.Graphics=n.TextMetrics=n.TextStyle=n.Text=n.SpriteRenderer=n.CanvasTinter=n.CanvasSpriteRenderer=n.Sprite=n.TransformBase=n.TransformStatic=n.Transform=n.Container=n.DisplayObject=n.Bounds=n.glCore=n.WebGLRenderer=n.CanvasRenderer=n.ticker=n.utils=n.settings=void 0;var o=t("./const");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=t("./math");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return a[t]}})});var s=t("pixi-gl-core");Object.defineProperty(n,"glCore",{enumerable:!0,get:function(){return i(s).default}});var u=t("./display/Bounds");Object.defineProperty(n,"Bounds",{enumerable:!0,get:function(){return i(u).default}});var l=t("./display/DisplayObject");Object.defineProperty(n,"DisplayObject",{enumerable:!0,get:function(){return i(l).default}});var c=t("./display/Container");Object.defineProperty(n,"Container",{enumerable:!0,get:function(){return i(c).default}});var h=t("./display/Transform");Object.defineProperty(n,"Transform",{enumerable:!0,get:function(){return i(h).default}});var f=t("./display/TransformStatic");Object.defineProperty(n,"TransformStatic",{enumerable:!0,get:function(){return i(f).default}});var d=t("./display/TransformBase");Object.defineProperty(n,"TransformBase",{enumerable:!0,get:function(){return i(d).default}});var p=t("./sprites/Sprite");Object.defineProperty(n,"Sprite",{enumerable:!0,get:function(){return i(p).default}});var v=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(n,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return i(v).default}});var y=t("./sprites/canvas/CanvasTinter");Object.defineProperty(n,"CanvasTinter",{enumerable:!0,get:function(){return i(y).default}});var g=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(n,"SpriteRenderer",{enumerable:!0,get:function(){return i(g).default}});var _=t("./text/Text");Object.defineProperty(n,"Text",{enumerable:!0,get:function(){return i(_).default}});var m=t("./text/TextStyle");Object.defineProperty(n,"TextStyle",{enumerable:!0,get:function(){return i(m).default}});var b=t("./text/TextMetrics");Object.defineProperty(n,"TextMetrics",{enumerable:!0,get:function(){return i(b).default}});var x=t("./graphics/Graphics");Object.defineProperty(n,"Graphics",{enumerable:!0,get:function(){return i(x).default}});var w=t("./graphics/GraphicsData");Object.defineProperty(n,"GraphicsData",{enumerable:!0,get:function(){return i(w).default}});var T=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(n,"GraphicsRenderer",{enumerable:!0,get:function(){return i(T).default}});var E=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(n,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return i(E).default}});var M=t("./textures/Spritesheet");Object.defineProperty(n,"Spritesheet",{enumerable:!0,get:function(){return i(M).default}});var S=t("./textures/Texture");Object.defineProperty(n,"Texture",{enumerable:!0,get:function(){return i(S).default}});var O=t("./textures/BaseTexture");Object.defineProperty(n,"BaseTexture",{enumerable:!0,get:function(){return i(O).default}});var C=t("./textures/RenderTexture");Object.defineProperty(n,"RenderTexture",{enumerable:!0,get:function(){return i(C).default}});var A=t("./textures/BaseRenderTexture");Object.defineProperty(n,"BaseRenderTexture",{enumerable:!0,get:function(){return i(A).default}});var P=t("./textures/VideoBaseTexture");Object.defineProperty(n,"VideoBaseTexture",{enumerable:!0,get:function(){return i(P).default}});var R=t("./textures/TextureUvs");Object.defineProperty(n,"TextureUvs",{enumerable:!0,get:function(){return i(R).default}});var I=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(n,"CanvasRenderTarget",{enumerable:!0,get:function(){return i(I).default}});var D=t("./Shader");Object.defineProperty(n,"Shader",{enumerable:!0,get:function(){return i(D).default}});var L=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(n,"WebGLManager",{enumerable:!0,get:function(){return i(L).default}});var k=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(n,"ObjectRenderer",{enumerable:!0,get:function(){return i(k).default}});var N=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(n,"RenderTarget",{enumerable:!0,get:function(){return i(N).default}});var j=t("./renderers/webgl/utils/Quad");Object.defineProperty(n,"Quad",{enumerable:!0,get:function(){return i(j).default}});var B=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(n,"SpriteMaskFilter",{enumerable:!0,get:function(){return i(B).default}});var F=t("./renderers/webgl/filters/Filter");Object.defineProperty(n,"Filter",{enumerable:!0,get:function(){return i(F).default}});var U=t("./Application");Object.defineProperty(n,"Application",{enumerable:!0,get:function(){return i(U).default}});var X=t("./autoDetectRenderer");Object.defineProperty(n,"autoDetectRenderer",{enumerable:!0,get:function(){return X.autoDetectRenderer}});var W=r(t("./utils")),z=r(t("./ticker")),H=i(t("./settings")),G=i(t("./renderers/canvas/CanvasRenderer")),q=i(t("./renderers/webgl/WebGLRenderer"));n.settings=H.default,n.utils=W,n.ticker=z,n.CanvasRenderer=G.default,n.WebGLRenderer=q.default},{"./Application":71,"./Shader":72,"./autoDetectRenderer":73,"./const":74,"./display/Bounds":75,"./display/Container":76,"./display/DisplayObject":77,"./display/Transform":78,"./display/TransformBase":79,"./display/TransformStatic":80,"./graphics/Graphics":81,"./graphics/GraphicsData":82,"./graphics/canvas/CanvasGraphicsRenderer":83,"./graphics/webgl/GraphicsRenderer":85,"./math":98,"./renderers/canvas/CanvasRenderer":105,"./renderers/canvas/utils/CanvasRenderTarget":107,"./renderers/webgl/WebGLRenderer":112,"./renderers/webgl/filters/Filter":114,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":117,"./renderers/webgl/managers/WebGLManager":121,"./renderers/webgl/utils/ObjectRenderer":122,"./renderers/webgl/utils/Quad":123,"./renderers/webgl/utils/RenderTarget":124,"./settings":129,"./sprites/Sprite":130,"./sprites/canvas/CanvasSpriteRenderer":131,"./sprites/canvas/CanvasTinter":132,"./sprites/webgl/SpriteRenderer":134,"./text/Text":136,"./text/TextMetrics":137,"./text/TextStyle":138,"./textures/BaseRenderTexture":139,"./textures/BaseTexture":140,"./textures/RenderTexture":141,"./textures/Spritesheet":142,"./textures/Texture":143,"./textures/TextureUvs":144,"./textures/VideoBaseTexture":145,"./ticker":148,"./utils":152,"pixi-gl-core":57}],94:[function(t,e,n){"use strict";function r(t){return t<0?-1:t>0?1:0}n.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("./Matrix")),o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],s=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],u=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[];!function(){for(var t=0;t<16;t++){var e=[];c.push(e);for(var n=0;n<16;n++)for(var h=r(o[t]*o[n]+s[t]*a[n]),f=r(a[t]*o[n]+u[t]*a[n]),d=r(o[t]*s[n]+s[t]*u[n]),p=r(a[t]*s[n]+u[t]*u[n]),v=0;v<16;v++)if(o[v]===h&&a[v]===f&&s[v]===d&&u[v]===p){e.push(v);break}}for(var y=0;y<16;y++){var g=new i.default;g.set(o[y],a[y],s[y],u[y],0,0),l.push(g)}}();var h={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return o[t]},uY:function(t){return a[t]},vX:function(t){return s[t]},vY:function(t){return u[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return c[t][e]},sub:function(t,e){return c[t][h.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?h.S:h.N:2*Math.abs(e)<=Math.abs(t)?t>0?h.E:h.W:e>0?t>0?h.SE:h.SW:t>0?h.NE:h.NW},matrixAppendRotationInv:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=l[h.inv(e)];i.tx=n,i.ty=r,t.append(i)}};n.default=h},{"./Matrix":95}],95:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(t("./Point")),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r(this,t),this.a=e,this.b=n,this.c=i,this.d=o,this.tx=a,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new o.default;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new o.default;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,a,s,u){var l=Math.sin(a),c=Math.cos(a),h=Math.cos(u),f=Math.sin(u),d=-Math.sin(s),p=Math.cos(s),v=c*i,y=l*i,g=-l*o,_=c*o;return this.a=h*v+f*g,this.b=h*y+f*_,this.c=d*v+p*g,this.d=d*y+p*_,this.tx=t+(n*v+r*g),this.ty=e+(n*y+r*_),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,o=-Math.atan2(-r,i),a=Math.atan2(n,e);return Math.abs(o+a)<1e-5?(t.rotation=a,e<0&&i>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+i*i),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();n.default=a},{"./Point":97}],96:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,t),this._x=i,this._y=o,this.cb=e,this.scope=n}return t.prototype.set=function(t,e){var n=t||0,r=e||(0!==e?n:0);this._x===n&&this._y===r||(this._x=n,this._y=r,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},i(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();n.default=o},{}],97:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();n.default=i},{}],98:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("./Point");Object.defineProperty(n,"Point",{enumerable:!0,get:function(){return r(i).default}});var o=t("./ObservablePoint");Object.defineProperty(n,"ObservablePoint",{enumerable:!0,get:function(){return r(o).default}});var a=t("./Matrix");Object.defineProperty(n,"Matrix",{enumerable:!0,get:function(){return r(a).default}});var s=t("./GroupD8");Object.defineProperty(n,"GroupD8",{enumerable:!0,get:function(){return r(s).default}});var u=t("./shapes/Circle");Object.defineProperty(n,"Circle",{enumerable:!0,get:function(){return r(u).default}});var l=t("./shapes/Ellipse");Object.defineProperty(n,"Ellipse",{enumerable:!0,get:function(){return r(l).default}});var c=t("./shapes/Polygon");Object.defineProperty(n,"Polygon",{enumerable:!0,get:function(){return r(c).default}});var h=t("./shapes/Rectangle");Object.defineProperty(n,"Rectangle",{enumerable:!0,get:function(){return r(h).default}});var f=t("./shapes/RoundedRectangle");Object.defineProperty(n,"RoundedRectangle",{enumerable:!0,get:function(){return r(f).default}})},{"./GroupD8":94,"./Matrix":95,"./ObservablePoint":96,"./Point":97,"./shapes/Circle":99,"./shapes/Ellipse":100,"./shapes/Polygon":101,"./shapes/Rectangle":102,"./shapes/RoundedRectangle":103}],99:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("./Rectangle")),o=t("../../const"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,t),this.x=e,this.y=n,this.radius=i,this.type=o.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return r*=r,i*=i,r+i<=n},t.prototype.getBounds=function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();n.default=a},{"../../const":74,"./Rectangle":102}],100:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("./Rectangle")),o=t("../../const"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,t),this.x=e,this.y=n,this.width=i,this.height=a,this.type=o.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return n*=n,r*=r,n+r<=1},t.prototype.getBounds=function(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();n.default=a},{"../../const":74,"./Rectangle":102}],101:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("../Point")),o=t("../../const"),a=function(){function t(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];if(r(this,t),Array.isArray(n[0])&&(n=n[0]),n[0]instanceof i.default){for(var s=[],u=0,l=n.length;u<l;u++)s.push(n[u].x,n[u].y);n=s}this.closed=!0,this.points=n,this.type=o.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];s>e!=l>e&&t<(e-s)/(l-s)*(u-a)+a&&(n=!n)}return n},t}();n.default=a},{"../../const":74,"../Point":97}],102:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("../../const"),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,t),this.x=Number(e),this.y=Number(n),this.width=Number(i),this.height=Number(a),this.type=o.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=n-e,this.y=r,this.height=i-r},i(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();n.default=a},{"../../const":74}],103:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=t("../../const"),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;r(this,t),this.x=e,this.y=n,this.width=o,this.height=a,this.radius=s,this.type=i.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(r=e-(this.y+this.height-this.radius),n*n+r*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t}();n.default=o},{"../../const":74}],104:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("../utils"),l=t("../math"),c=t("../const"),h=r(t("../settings")),f=r(t("../display/Container")),d=r(t("../textures/RenderTexture")),p=r(t("eventemitter3")),v=new l.Matrix,y=function(t){function e(n,r,a,s){i(this,e);var d=o(this,t.call(this));return(0,u.sayHello)(n),"number"==typeof r&&(r=Object.assign({width:r,height:a||h.default.RENDER_OPTIONS.height},s)),r=Object.assign({},h.default.RENDER_OPTIONS,r),d.options=r,d.type=c.RENDERER_TYPE.UNKNOWN,d.screen=new l.Rectangle(0,0,r.width,r.height),d.view=r.view||document.createElement("canvas"),d.resolution=r.resolution||h.default.RESOLUTION,d.transparent=r.transparent,d.autoResize=r.autoResize||!1,d.blendModes=null,d.preserveDrawingBuffer=r.preserveDrawingBuffer,d.clearBeforeRender=r.clearBeforeRender,d.roundPixels=r.roundPixels,d._backgroundColor=0,d._backgroundColorRgba=[0,0,0,0],d._backgroundColorString="#000000",d.backgroundColor=r.backgroundColor||d._backgroundColor,d._tempDisplayObjectParent=new f.default,d._lastObjectRendered=d._tempDisplayObjectParent,d}return a(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,n){var r=t.getLocalBounds(),i=d.default.create(0|r.width,0|r.height,e,n);return v.tx=-r.x,v.ty=-r.y,this.render(t,i,!1,v,!0),i},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=c.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},s(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,u.hex2string)(t),(0,u.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(p.default);n.default=y},{"../const":74,"../display/Container":76,"../math":98,"../settings":129,"../textures/RenderTexture":141,"../utils":152,eventemitter3:39}],105:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=r(t("../SystemRenderer")),u=r(t("./utils/CanvasMaskManager")),l=r(t("./utils/CanvasRenderTarget")),c=r(t("./utils/mapCanvasBlendModesToPixi")),h=t("../../utils"),f=t("../../const"),d=r(t("../../settings")),p=function(t){function e(n,r,a){i(this,e);var s=o(this,t.call(this,"Canvas",n,r,a));return s.type=f.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new u.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,c.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return a(e,t),e.prototype.render=function(t,e,n,r,i){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new l.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!i){var s=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=f.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[f.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=d.default.SCALE_MODE===f.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(s.default);n.default=p,h.pluginTarget.mixin(p)},{"../../const":74,"../../settings":129,"../../utils":152,"../SystemRenderer":104,"./utils/CanvasMaskManager":106,"./utils/CanvasRenderTarget":107,"./utils/mapCanvasBlendModesToPixi":109}],106:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=t("../../../const"),o=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var n=t.alpha,r=t.transform.worldTransform,i=e.resolution;e.context.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=n},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,n=t.graphicsData.length;if(0!==n){e.beginPath();for(var r=0;r<n;r++){var o=t.graphicsData[r],a=o.shape;if(o.type===i.SHAPES.POLY){var s=a.points;e.moveTo(s[0],s[1]);for(var u=1;u<s.length/2;u++)e.lineTo(s[2*u],s[2*u+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath()}else if(o.type===i.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===i.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===i.SHAPES.ELIP){var l=2*a.width,c=2*a.height,h=a.x-l/2,f=a.y-c/2,d=l/2*.5522848,p=c/2*.5522848,v=h+l,y=f+c,g=h+l/2,_=f+c/2;e.moveTo(h,_),e.bezierCurveTo(h,_-p,g-d,f,g,f),e.bezierCurveTo(g+d,f,v,_-p,v,_),e.bezierCurveTo(v,_+p,g+d,y,g,y),e.bezierCurveTo(g-d,y,h,_+p,h,_),e.closePath()}else if(o.type===i.SHAPES.RREC){var m=a.x,b=a.y,x=a.width,w=a.height,T=a.radius,E=Math.min(x,w)/2|0;T=T>E?E:T,e.moveTo(m,b+T),e.lineTo(m,b+w-T),e.quadraticCurveTo(m,b+w,m+T,b+w),e.lineTo(m+x-T,b+w),e.quadraticCurveTo(m+x,b+w,m+x,b+w-T),e.lineTo(m+x,b+T),e.quadraticCurveTo(m+x,b,m+x-T,b),e.lineTo(m+T,b),e.quadraticCurveTo(m,b,m,b+T),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},t.prototype.destroy=function(){},t}();n.default=o},{"../../../const":74}],107:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../../../settings")),a=function(){function t(e,n,i){r(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||o.default.RESOLUTION,this.resize(e,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},i(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();n.default=a},{"../../../settings":129}],108:[function(t,e,n){"use strict";function r(t){var e=document.createElement("canvas");e.width=6,e.height=1;var n=e.getContext("2d");return n.fillStyle=t,n.fillRect(0,0,6,1),e}n.__esModule=!0,n.default=function(){if("undefined"==typeof document)return!1;var t=r("#ff00ff"),e=r("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var i=n.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(t,0,0),i.drawImage(e,2,0);var o=i.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}},{}],109:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,i.default)()?(t[r.BLEND_MODES.NORMAL]="source-over",t[r.BLEND_MODES.ADD]="lighter",t[r.BLEND_MODES.MULTIPLY]="multiply",t[r.BLEND_MODES.SCREEN]="screen",t[r.BLEND_MODES.OVERLAY]="overlay",t[r.BLEND_MODES.DARKEN]="darken",t[r.BLEND_MODES.LIGHTEN]="lighten",t[r.BLEND_MODES.COLOR_DODGE]="color-dodge",t[r.BLEND_MODES.COLOR_BURN]="color-burn",t[r.BLEND_MODES.HARD_LIGHT]="hard-light",t[r.BLEND_MODES.SOFT_LIGHT]="soft-light",t[r.BLEND_MODES.DIFFERENCE]="difference",t[r.BLEND_MODES.EXCLUSION]="exclusion",t[r.BLEND_MODES.HUE]="hue",t[r.BLEND_MODES.SATURATION]="saturate",t[r.BLEND_MODES.COLOR]="color",t[r.BLEND_MODES.LUMINOSITY]="luminosity"):(t[r.BLEND_MODES.NORMAL]="source-over",t[r.BLEND_MODES.ADD]="lighter",t[r.BLEND_MODES.MULTIPLY]="source-over",t[r.BLEND_MODES.SCREEN]="source-over",t[r.BLEND_MODES.OVERLAY]="source-over",t[r.BLEND_MODES.DARKEN]="source-over",t[r.BLEND_MODES.LIGHTEN]="source-over",t[r.BLEND_MODES.COLOR_DODGE]="source-over",t[r.BLEND_MODES.COLOR_BURN]="source-over",t[r.BLEND_MODES.HARD_LIGHT]="source-over",t[r.BLEND_MODES.SOFT_LIGHT]="source-over",t[r.BLEND_MODES.DIFFERENCE]="source-over",t[r.BLEND_MODES.EXCLUSION]="source-over",t[r.BLEND_MODES.HUE]="source-over",t[r.BLEND_MODES.SATURATION]="source-over",t[r.BLEND_MODES.COLOR]="source-over",t[r.BLEND_MODES.LUMINOSITY]="source-over"),t[r.BLEND_MODES.NORMAL_NPM]=t[r.BLEND_MODES.NORMAL],t[r.BLEND_MODES.ADD_NPM]=t[r.BLEND_MODES.ADD],t[r.BLEND_MODES.SCREEN_NPM]=t[r.BLEND_MODES.SCREEN],t};var r=t("../../../const"),i=function(t){return t&&t.__esModule?t:{default:t}}(t("./canUseNewCanvasBlendModes"))},{"../../../const":74,"./canUseNewCanvasBlendModes":108}],110:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=t("../../const"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../../settings")),a=function(){function t(e){r(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=o.default.GC_MAX_IDLE,this.checkCountMax=o.default.GC_MAX_CHECK_COUNT,this.mode=o.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==i.GC_MODES.MANUAL&&++this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i._glRenderTargets&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var n=t.children.length-1;n>=0;n--)this.unload(t.children[n])},t}();n.default=a},{"../../const":74,"../../settings":129}],111:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=t("pixi-gl-core"),o=t("../../const"),a=function(t){return t&&t.__esModule?t:{default:t}}(t("./utils/RenderTarget")),s=t("../../utils"),u=function(){function t(e){r(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var n=this.gl,r=!!t._glRenderTargets;if(!t.hasLoaded)return null;var s=this.renderer.boundTextures;if(void 0===e){e=0;for(var u=0;u<s.length;++u)if(s[u]===t){e=u;break}}s[e]=t,n.activeTexture(n.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)r?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(r){var c=new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);c.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=c,l=c.texture}else(l=new i.GLTexture(this.gl,null,null,null,null)).bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===o.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===o.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===o.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var n=this.renderer.CONTEXT_UID,r=t._glTextures,i=t._glRenderTargets;if(r[n]&&(this.renderer.unbindTexture(t),r[n].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[n],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,s.removeItems)(this._managedTextures,o,1)}i&&i[n]&&(i[n].destroy(),delete i[n])}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();n.default=u},{"../../const":74,"../../utils":152,"./utils/RenderTarget":124,"pixi-gl-core":57}],112:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=r(t("../SystemRenderer")),u=r(t("./managers/MaskManager")),l=r(t("./managers/StencilManager")),c=r(t("./managers/FilterManager")),h=r(t("./utils/RenderTarget")),f=r(t("./utils/ObjectRenderer")),d=r(t("./TextureManager")),p=r(t("../../textures/BaseTexture")),v=r(t("./TextureGarbageCollector")),y=r(t("./WebGLState")),g=r(t("./utils/mapWebGLDrawModesToPixi")),_=r(t("./utils/validateContext")),m=t("../../utils"),b=r(t("pixi-gl-core")),x=t("../../const"),w=0,T=function(t){function e(n,r,a){i(this,e);var s=o(this,t.call(this,"WebGL",n,r,a));return s.legacy=s.options.legacy,s.legacy&&(b.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=x.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer,powerPreference:s.options.powerPreference},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new u.default(s),s.stencilManager=new l.default(s),s.emptyRenderer=new f.default(s),s.currentRenderer=s.emptyRenderer,s.initPlugins(),s.options.context&&(0,_.default)(s.options.context),s.gl=s.options.context||b.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=w++,s.state=new y.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.filterManager=new c.default(s),s.drawModes=(0,g.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return a(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new d.default(this),this.textureGC=new v.default(this),this.state.resetToDefault(),this.rootRenderTarget=new h.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var n=new b.default.GLTexture.fromData(t,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var i=0;i<e;i++){var o=new p.default;o._glTextures[this.CONTEXT_UID]=n,this.boundTextures[i]=r,this.emptyTextures[i]=o,this.bindTexture(null,i)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,n,r,i){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!i){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){s.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var n=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var n=void 0;if(t){var r=t.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(n=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else n=this.rootRenderTarget;return n.transform=e,this.bindRenderTarget(n),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,n){if(t=t||this.emptyTextures[e],t=t.baseTexture||t,t.touched=this.textureGC.count,n)e=e||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,i.activeTexture(i.TEXTURE0+e),i.bindTexture(i.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===t&&(this.boundTextures[n]=this.emptyTextures[n],e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new b.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(s.default);n.default=T,m.pluginTarget.mixin(T)},{"../../const":74,"../../textures/BaseTexture":140,"../../utils":152,"../SystemRenderer":104,"./TextureGarbageCollector":110,"./TextureManager":111,"./WebGLState":113,"./managers/FilterManager":118,"./managers/MaskManager":119,"./managers/StencilManager":120,"./utils/ObjectRenderer":122,"./utils/RenderTarget":124,"./utils/mapWebGLDrawModesToPixi":127,"./utils/validateContext":128,"pixi-gl-core":57}],113:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("./utils/mapWebGLBlendModesToPixi")),o=function(){function t(e){r(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,i.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var n=1;n<this.maxAttribs;n++)this.gl.disableVertexAttribArray(n)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();n.default=o},{"./utils/mapWebGLBlendModesToPixi":126}],114:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(t("./extractUniformsFromSrc")),s=t("../../../utils"),u=t("../../../const"),l=r(t("../../../settings")),c={},h=function(){function t(e,n,r){i(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this._blendMode=u.BLEND_MODES.NORMAL,this.uniformData=r||(0,a.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value;this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,s.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=l.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},o(t,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();n.default=h},{"../../../const":74,"../../../settings":129,"../../../utils":152,"./extractUniformsFromSrc":115}],115:[function(t,e,n){"use strict";function r(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),n={},r=void 0,o=t.replace(/\s+/g," ").split(/\s*;\s*/),a=0;a<o.length;a++){var s=o[a].trim();if(s.indexOf("uniform")>-1){var u=s.split(" "),l=u[1],c=u[2],h=1;c.indexOf("[")>-1&&(c=(r=c.split(/\[|]/))[0],h*=Number(r[1])),c.match(e)||(n[c]={value:i(l,h),name:c,type:l})}}return n}n.__esModule=!0,n.default=function(t,e,n){var i=r(t),o=r(e);return Object.assign(i,o)};var i=function(t){return t&&t.__esModule?t:{default:t}}(t("pixi-gl-core")).default.shader.defaultValue},{"pixi-gl-core":57}],116:[function(t,e,n){"use strict";n.__esModule=!0,n.calculateScreenSpaceMatrix=function(t,e,n){var r=t.identity();return r.translate(e.x/n.width,e.y/n.height),r.scale(n.width,n.height),r},n.calculateNormalizedScreenSpaceMatrix=function(t,e,n){var r=t.identity();r.translate(e.x/n.width,e.y/n.height);var i=n.width/e.width,o=n.height/e.height;return r.scale(i,o),r},n.calculateSpriteMatrix=function(t,e,n,i){var o=i.worldTransform.copy(r.Matrix.TEMP_MATRIX),a=i._texture.baseTexture,s=t.identity(),u=n.height/n.width;s.translate(e.x/n.width,e.y/n.height),s.scale(1,u);var l=n.width/a.width,c=n.height/a.height;return o.tx/=a.width*l,o.ty/=a.width*l,o.invert(),s.prepend(o),s.scale(1,1/u),s.scale(l,c),s.translate(i.anchor.x,i.anchor.y),s};var r=t("../../../math")},{"../../../math":98}],117:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){return t&&t.__esModule?t:{default:t}}(t("../Filter")),s=t("../../../../math"),u=(t("path"),function(t){function e(n){r(this,e);var o=new s.Matrix,a=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return n.renderable=!1,a.maskSprite=n,a.maskMatrix=o,a}return o(e,t),e.prototype.apply=function(t,e,n){var r=this.maskSprite;this.uniforms.mask=r._texture,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r),this.uniforms.alpha=r.worldAlpha,t.applyFilter(this,e,n)},e}(a.default));n.default=u},{"../../../../math":98,"../Filter":114,path:50}],118:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var s=r(t("./WebGLManager")),u=r(t("../utils/RenderTarget")),l=r(t("../utils/Quad")),c=t("../../../math"),h=r(t("../../../Shader")),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../filters/filterTransforms")),d=r(t("bit-twiddle")),p=function t(){a(this,t),this.renderTarget=null,this.sourceFrame=new c.Rectangle,this.destinationFrame=new c.Rectangle,this.filters=[],this.target=null,this.resolution=1},v=function(t){function e(n){a(this,e);var r=i(this,t.call(this,n));return r.gl=r.renderer.gl,r.quad=new l.default(r.gl,n.state.attribState),r.shaderCache={},r.pool={},r.filterData=null,r}return o(e,t),e.prototype.pushFilter=function(t,e){var n=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var i=new p;i.sourceFrame=i.destinationFrame=this.renderer._activeRenderTarget.size,i.renderTarget=n._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[i]},this.filterData=r}var o=r.stack[++r.index];o||(o=r.stack[r.index]=new p);var a=e[0].resolution,s=0|e[0].padding,u=t.filterArea||t.getBounds(!0),l=o.sourceFrame,c=o.destinationFrame;l.x=(u.x*a|0)/a,l.y=(u.y*a|0)/a,l.width=(u.width*a|0)/a,l.height=(u.height*a|0)/a,r.stack[0].renderTarget.transform||e[0].autoFit&&l.fit(r.stack[0].destinationFrame),l.pad(s),c.width=l.width,c.height=l.height;var h=this.getPotRenderTarget(n.gl,l.width,l.height,a);o.target=t,o.filters=e,o.resolution=a,o.renderTarget=h,h.setFrame(c,l),n.bindRenderTarget(h),h.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],n=t.stack[t.index];this.quad.map(n.renderTarget.size,n.sourceFrame).upload();var r=n.filters;if(1===r.length)r[0].apply(this,n.renderTarget,e.renderTarget,!1,n),this.freePotRenderTarget(n.renderTarget);else{var i=n.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,n.resolution);o.setFrame(n.destinationFrame,n.sourceFrame),o.clear();var a=0;for(a=0;a<r.length-1;++a){r[a].apply(this,i,o,!0,n);var s=i;i=o,o=s}r[a].apply(this,i,e.renderTarget,!1,n),this.freePotRenderTarget(i),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,n,r){var i=this.renderer,o=i.gl,a=t.glShaders[i.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey])||(a=new h.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[i.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a):a=t.glShaders[i.CONTEXT_UID]=new h.default(this.gl,t.vertexSrc,t.fragmentSrc),i.bindVao(null),this.quad.initVao(a)),i.bindVao(this.quad.vao),i.bindRenderTarget(n),r&&(o.disable(o.SCISSOR_TEST),i.clear(),o.enable(o.SCISSOR_TEST)),n===i.maskManager.scissorRenderTarget&&i.maskManager.pushScissorMask(null,i.maskManager.scissorData),i.bindShader(a);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(a,t),i.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var n=e.uniformData,r=e.uniforms,i=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in n)if("sampler2D"===n[u].type&&0!==r[u]){if(r[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(r[u].baseTexture,i);else{t.uniforms[u]=i;var l=this.renderer.gl;this.renderer.boundTextures[i]=this.renderer.emptyTextures[i],l.activeTexture(l.TEXTURE0+i),r[u].texture.bind()}i++}else if("mat3"===n[u].type)void 0!==r[u].a?t.uniforms[u]=r[u].toArray(!0):t.uniforms[u]=r[u];else if("vec2"===n[u].type)if(void 0!==r[u].x){var c=t.uniforms[u]||new Float32Array(2);c[0]=r[u].x,c[1]=r[u].y,t.uniforms[u]=c}else t.uniforms[u]=r[u];else"float"===n[u].type?t.uniforms.data[u].value!==n[u]&&(t.uniforms[u]=r[u]):t.uniforms[u]=r[u]},e.prototype.getRenderTarget=function(t,e){var n=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,e||n.resolution);return r.setFrame(n.destinationFrame,n.sourceFrame),r},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return f.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return f.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.filterData.stack[this.filterData.index];return f.calculateSpriteMatrix(t,n.sourceFrame,n.renderTarget.size,e)},e.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,n,r){var i=(65535&(e=d.default.nextPow2(e*r)))<<16|65535&(n=d.default.nextPow2(n*r));this.pool[i]||(this.pool[i]=[]);var o=this.pool[i].pop();if(!o){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new u.default(t,e,n,null,1),t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=r,o.defaultFrame.width=o.size.width=e/r,o.defaultFrame.height=o.size.height=n/r,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var n=0;n<e.length;n++)e[n].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=(65535&t.size.width*t.resolution)<<16|65535&t.size.height*t.resolution;this.pool[e].push(t)},e}(s.default);n.default=v},{"../../../Shader":72,"../../../math":98,"../filters/filterTransforms":116,"../utils/Quad":123,"../utils/RenderTarget":124,"./WebGLManager":121,"bit-twiddle":2}],119:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=r(t("./WebGLManager")),u=r(t("../filters/spriteMask/SpriteMaskFilter")),l=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.scissor=!1,r.scissorData=null,r.scissorRenderTarget=null,r.enableScissor=!0,r.alphaMaskPool=[],r.alphaMaskIndex=0,r}return a(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new u.default(e)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,n),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var n=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(n.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(r.x*i,(n.root?n.size.height-r.y-r.height:r.y)*i,r.width*i,r.height*i),this.scissorRenderTarget=n,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(s.default);n.default=l},{"../filters/spriteMask/SpriteMaskFilter":117,"./WebGLManager":121}],120:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){return t&&t.__esModule?t:{default:t}}(t("./WebGLManager")),s=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.stencilMaskStack=null,o}return o(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,n=this.stencilMaskStack.length;0===n&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,n,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){a.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(a.default);n.default=s},{"./WebGLManager":121}],121:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(e){r(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();n.default=i},{}],122:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../managers/WebGLManager")).default);n.default=a},{"../managers/WebGLManager":121}],123:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=r(t("pixi-gl-core")),a=r(t("../../../utils/createIndicesForQuads")),s=function(){function t(e,n){i(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var r=0;r<4;r++)this.interleaved[4*r]=this.vertices[2*r],this.interleaved[4*r+1]=this.vertices[2*r+1],this.interleaved[4*r+2]=this.uvs[2*r],this.interleaved[4*r+3]=this.uvs[2*r+1];this.indices=(0,a.default)(1),this.vertexBuffer=o.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(e,n)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();n.default=s},{"../../../utils/createIndicesForQuads":150,"pixi-gl-core":57}],124:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=t("../../../math"),o=t("../../../const"),a=function(t){return t&&t.__esModule?t:{default:t}}(t("../../../settings")),s=t("pixi-gl-core"),u=function(){function t(e,n,u,l,c,h){r(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new i.Rectangle(0,0,1,1),this.resolution=c||a.default.RESOLUTION,this.projectionMatrix=new i.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new i.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==l?l:a.default.SCALE_MODE,this.root=h,this.root?(this.frameBuffer=new s.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=s.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===o.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,u)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var n=this.projectionMatrix;e=e||t,n.identity(),this.root?(n.a=1/t.width*2,n.d=-1/t.height*2,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2,n.d=1/t.height*2,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();n.default=u},{"../../../const":74,"../../../math":98,"../../../settings":129,"pixi-gl-core":57}],125:[function(t,e,n){"use strict";function r(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}n.__esModule=!0,n.default=function(t,e){var n=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(n){var a=document.createElement("canvas");a.width=1,a.height=1,e=i.default.createContext(a)}for(var s=e.createShader(e.FRAGMENT_SHADER);;){var u=o.replace(/%forloop%/gi,r(t));if(e.shaderSource(s,u),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS))break;t=t/2|0}return n&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t};var i=function(t){return t&&t.__esModule?t:{default:t}}(t("pixi-gl-core")),o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":57}],126:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var r=t("../../../const")},{"../../../const":74}],127:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var r=t("../../../const")},{"../../../const":74}],128:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],129:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("./utils/maxRecommendedTextures")),o=r(t("./utils/canUploadSameBuffer"));n.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,i.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,o.default)()}},{"./utils/canUploadSameBuffer":149,"./utils/maxRecommendedTextures":154}],130:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("../math"),l=t("../utils"),c=t("../const"),h=r(t("../textures/Texture")),f=r(t("../display/Container")),d=new u.Point,p=function(t){function e(n){i(this,e);var r=o(this,t.call(this));return r._anchor=new u.ObservablePoint(r._onAnchorUpdate,r),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=c.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=n||h.default.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName="sprite",r}return a(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,l.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,l.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,c=t.orig,h=this._anchor,f=0,d=0,p=0,v=0;l?(f=(d=l.x-h._x*c.width)+l.width,p=(v=l.y-h._y*c.height)+l.height):(f=(d=-h._x*c.width)+c.width,p=(v=-h._y*c.height)+c.height),u[0]=n*d+i*v+a,u[1]=o*v+r*d+s,u[2]=n*f+i*v+a,u[3]=o*v+r*f+s,u[4]=n*f+i*p+a,u[5]=o*p+r*f+s,u[6]=n*d+i*p+a,u[7]=o*p+r*d+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=-r._x*n.width,f=h+n.width,d=-r._y*n.height,p=d+n.height;e[0]=o*h+s*d+l,e[1]=u*d+a*h+c,e[2]=o*f+s*d+l,e[3]=u*d+a*f+c,e[4]=o*f+s*p+l,e[5]=u*p+a*f+c,e[6]=o*h+s*p+l,e[7]=u*p+a*h+c},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,d);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return d.x>=r&&d.x<r+e&&(i=-n*this.anchor.y,d.y>=i&&d.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(h.default.from(t))},e.fromFrame=function(t){var n=l.TextureCache[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(n)},e.fromImage=function(t,n,r){return new e(h.default.fromImage(t,n,r))},s(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,l.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,l.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(f.default);n.default=p},{"../const":74,"../display/Container":76,"../math":98,"../textures/Texture":143,"../utils":152}],131:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=r(t("../../renderers/canvas/CanvasRenderer")),a=t("../../const"),s=t("../../math"),u=r(t("./CanvasTinter")),l=new s.Matrix,c=function(){function t(e){i(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,n=this.renderer,r=e._frame.width,i=e._frame.height,o=t.transform.worldTransform,c=0,h=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(n.setBlendMode(t.blendMode),e.valid)){n.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===a.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==f&&(n.context[n.smoothProperty]=f),e.trim?(c=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,h=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(c=(.5-t.anchor.x)*e.orig.width,h=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(l),o=l,s.GroupD8.matrixAppendRotationInv(o,e.rotate,c,h),c=0,h=0),c-=r/2,h-=i/2,n.roundPixels?(n.context.setTransform(o.a,o.b,o.c,o.d,o.tx*n.resolution|0,o.ty*n.resolution|0),c|=0,h|=0):n.context.setTransform(o.a,o.b,o.c,o.d,o.tx*n.resolution,o.ty*n.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=u.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,r*d,i*d,c*n.resolution,h*n.resolution,r*n.resolution,i*n.resolution)):n.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,r*d,i*d,c*n.resolution,h*n.resolution,r*n.resolution,i*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();n.default=c,o.default.registerPlugin("sprite",c)},{"../../const":74,"../../math":98,"../../renderers/canvas/CanvasRenderer":105,"./CanvasTinter":132}],132:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("../../utils"),i={getTintedTexture:function(t,e){var n=t._texture,r="#"+("00000"+(0|(e=i.roundColor(e))).toString(16)).substr(-6);n.tintCache=n.tintCache||{};var o=n.tintCache[r],a=void 0;if(o){if(o.tintId===n._updateID)return n.tintCache[r];a=n.tintCache[r]}else a=i.canvas||document.createElement("canvas");if(i.tintMethod(n,e,a),a.tintId=n._updateID,i.convertTintToImage){var s=new Image;s.src=a.toDataURL(),n.tintCache[r]=s}else n.tintCache[r]=a,i.canvas=null;return a},tintWithMultiply:function(t,e,n){var r=n.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithOverlay:function(t,e,n){var r=n.getContext("2d"),i=t._frame.clone(),o=t.baseTexture.resolution;i.x*=o,i.y*=o,i.width*=o,i.height*=o,n.width=Math.ceil(i.width),n.height=Math.ceil(i.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r.restore()},tintWithPerPixel:function(t,e,n){var i=n.getContext("2d"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i.restore();for(var s=(0,r.hex2rgb)(e),u=s[0],l=s[1],c=s[2],h=i.getImageData(0,0,o.width,o.height),f=h.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=c;i.putImageData(h,0,0)},roundColor:function(t){var e=i.cacheStepsPerColorChannel,n=(0,r.hex2rgb)(t);return n[0]=Math.min(255,n[0]/e*e),n[1]=Math.min(255,n[1]/e*e),n[2]=Math.min(255,n[2]/e*e),(0,r.rgb2hex)(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,function(t){return t&&t.__esModule?t:{default:t}}(t("../../renderers/canvas/utils/canUseNewCanvasBlendModes")).default)(),tintMethod:0};i.tintMethod=i.canUseMultiply?i.tintWithMultiply:i.tintWithPerPixel,n.default=i},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":108,"../../utils":152}],133:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(e){r(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();n.default=i},{}],134:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=r(t("../../renderers/webgl/utils/ObjectRenderer")),u=r(t("../../renderers/webgl/WebGLRenderer")),l=r(t("../../utils/createIndicesForQuads")),c=r(t("./generateMultiTextureShader")),h=r(t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")),f=r(t("./BatchBuffer")),d=r(t("../../settings")),p=t("../../utils"),v=r(t("pixi-gl-core")),y=r(t("bit-twiddle")),g=0,_=0,m=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));r.vertSize=5,r.vertByteSize=4*r.vertSize,r.size=d.default.SPRITE_BATCH_SIZE,r.buffers=[];for(var a=1;a<=y.default.nextPow2(r.size);a*=2)r.buffers.push(new f.default(4*a*r.vertByteSize));r.indices=(0,l.default)(r.size),r.shader=null,r.currentIndex=0,r.groups=[];for(var s=0;s<r.size;s++)r.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return r.sprites=[],r.vertexBuffers=[],r.vaos=[],r.vaoMax=2,r.vertexCount=0,r.renderer.on("prerender",r.onPrerender,r),r}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,h.default)(this.MAX_TEXTURES,t)),this.shader=(0,c.default)(t,this.MAX_TEXTURES),this.indexBuffer=v.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,n=0;n<this.vaoMax;n++){var r=this.vertexBuffers[n]=v.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),i=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&i.addAttribute(r,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[n]=i}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,n=y.default.nextPow2(this.currentIndex),r=y.default.log2(n),i=this.buffers[r],o=this.sprites,a=this.groups,s=i.float32View,u=i.uint32View,l=this.boundTextures,c=this.renderer.boundTextures,h=this.renderer.textureGC.count,f=0,m=void 0,b=void 0,x=1,w=0,T=a[0],E=void 0,M=void 0,S=p.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];T.textureCount=0,T.start=0,T.blend=S,g++;var O=void 0;for(O=0;O<e;++O)l[O]=c[O],l[O]._virtalBoundId=O;for(O=0;O<this.currentIndex;++O){var C=o[O];m=C._texture.baseTexture;var A=p.premultiplyBlendMode[Number(m.premultipliedAlpha)][C.blendMode];if(S!==A&&(S=A,b=null,w=e,g++),b!==m&&(b=m,m._enabled!==g)){if(w===e&&(g++,T.size=O-T.start,w=0,(T=a[x++]).blend=S,T.textureCount=0,T.start=O),m.touched=h,-1===m._virtalBoundId)for(var P=0;P<e;++P){var R=(P+_)%e,I=l[R];if(I._enabled!==g){_++,I._virtalBoundId=-1,m._virtalBoundId=R,l[R]=m;break}}m._enabled=g,T.textureCount++,T.ids[w]=m._virtalBoundId,T.textures[w++]=m}if(E=C.vertexData,M=C._texture._uvs.uvsUint32,this.renderer.roundPixels){var D=this.renderer.resolution;s[f]=(E[0]*D|0)/D,s[f+1]=(E[1]*D|0)/D,s[f+5]=(E[2]*D|0)/D,s[f+6]=(E[3]*D|0)/D,s[f+10]=(E[4]*D|0)/D,s[f+11]=(E[5]*D|0)/D,s[f+15]=(E[6]*D|0)/D,s[f+16]=(E[7]*D|0)/D}else s[f]=E[0],s[f+1]=E[1],s[f+5]=E[2],s[f+6]=E[3],s[f+10]=E[4],s[f+11]=E[5],s[f+15]=E[6],s[f+16]=E[7];u[f+2]=M[0],u[f+7]=M[1],u[f+12]=M[2],u[f+17]=M[3];var L=Math.min(C.worldAlpha,1),k=L<1&&m.premultipliedAlpha?(0,p.premultiplyTint)(C._tintRGB,L):C._tintRGB+(255*L<<24);u[f+3]=u[f+8]=u[f+13]=u[f+18]=k,s[f+4]=s[f+9]=s[f+14]=s[f+19]=m._virtalBoundId,f+=20}if(T.size=O-T.start,d.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var N=this.shader.attributes,j=this.vertexBuffers[this.vertexCount]=v.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),B=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(j,N.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(j,N.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(j,N.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);N.aTextureId&&B.addAttribute(j,N.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=B}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(i.vertices,0,!1),this.vertexCount++}for(O=0;O<e;++O)c[O]._virtalBoundId=-1;for(O=0;O<x;++O){for(var F=a[O],U=F.textureCount,X=0;X<U;X++)b=F.textures[X],c[F.ids[X]]!==b&&this.renderer.bindTexture(b,F.ids[X],!0),b._virtalBoundId=-1;this.renderer.state.setBlendMode(F.blend),t.drawElements(t.TRIANGLES,6*F.size,t.UNSIGNED_SHORT,6*F.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),d.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},e}(s.default);n.default=m,u.default.registerPlugin("sprite",m)},{"../../renderers/webgl/WebGLRenderer":112,"../../renderers/webgl/utils/ObjectRenderer":122,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":125,"../../settings":129,"../../utils":152,"../../utils/createIndicesForQuads":150,"./BatchBuffer":133,"./generateMultiTextureShader":135,"bit-twiddle":2,"pixi-gl-core":57}],135:[function(t,e,n){"use strict";function r(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(textureId == "+n+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}n.__esModule=!0,n.default=function(t,e){var n=o;n=(n=n.replace(/%count%/gi,e)).replace(/%forloop%/gi,r(e));for(var a=new i.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",n),s=[],u=0;u<e;u++)s[u]=u;return a.bind(),a.uniforms.uSamplers=s,a};var i=function(t){return t&&t.__esModule?t:{default:t}}(t("../../Shader")),o=(t("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":72,path:50}],136:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=r(t("../sprites/Sprite")),l=r(t("../textures/Texture")),c=t("../math"),h=t("../utils"),f=t("../const"),d=r(t("../settings")),p=r(t("./TextStyle")),v=r(t("./TextMetrics")),y=r(t("../utils/trimCanvas")),g={texture:!0,children:!1,baseTexture:!0},_=function(t){function e(n,r,a){i(this,e),(a=a||document.createElement("canvas")).width=3,a.height=3;var s=l.default.fromCanvas(a,d.default.SCALE_MODE,"text");s.orig=new c.Rectangle,s.trim=new c.Rectangle;var u=o(this,t.call(this,s));return l.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=a,u.context=u.canvas.getContext("2d"),u.resolution=d.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=n,u.style=r,u.localStyleID=-1,u}return a(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n=this.context,r=v.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),i=r.width,o=r.height,a=r.lines,s=r.lineHeight,u=r.lineWidths,l=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil((i+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((o+2*e.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit;var h=void 0,f=void 0;if(e.dropShadow){n.fillStyle=e.dropShadowColor,n.globalAlpha=e.dropShadowAlpha,n.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(n.shadowColor=e.dropShadowColor);for(var d=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,p=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<a.length;y++)h=e.strokeThickness/2,f=e.strokeThickness/2+y*s+c.ascent,"right"===e.align?h+=l-u[y]:"center"===e.align&&(h+=(l-u[y])/2),e.fill&&(this.drawLetterSpacing(a[y],h+d+e.padding,f+p+e.padding),e.stroke&&e.strokeThickness&&(n.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(a[y],h+d+e.padding,f+p+e.padding,!0),n.strokeStyle=e.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(e,a);for(var g=0;g<a.length;g++)h=e.strokeThickness/2,f=e.strokeThickness/2+g*s+c.ascent,"right"===e.align?h+=l-u[g]:"center"===e.align&&(h+=(l-u[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[g],h+e.padding,f+e.padding,!0),e.fill&&this.drawLetterSpacing(a[g],h+e.padding,f+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._style.letterSpacing;if(0!==i)for(var o=String.prototype.split.call(t,""),a=e,s=0,u="";s<t.length;)u=o[s++],r?this.context.strokeText(u,a,n):this.context.fillText(u,a,n),a+=this.context.measureText(u).width+i;else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,y.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var n=this._texture,r=this._style,i=r.trim?0:r.padding,o=n.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,n.trim.width=n._frame.width=t.width/this.resolution,n.trim.height=n._frame.height=t.height/this.resolution,n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var n=void 0,r=void 0,i=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var c=u.length+1,h=1;h<c;++h)l.push(h/c);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===f.TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,0,a/2,s),r=(u.length+1)*e.length,i=0;for(var d=0;d<e.length;d++){i+=1;for(var p=0;p<u.length;p++)o="number"==typeof l[p]?l[p]/e.length+d/e.length:i/r,n.addColorStop(o,u[p]),i++}}else{n=this.context.createLinearGradient(0,s/2,a,s/2),r=u.length+1,i=1;for(var v=0;v<u.length;v++)o="number"==typeof l[v]?l[v]:i/r,n.addColorStop(o,u[v]),i++}return n},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},g,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},s(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,h.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,h.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof p.default?this._style=t:this._style=new p.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(u.default);n.default=_},{"../const":74,"../math":98,"../settings":129,"../sprites/Sprite":130,"../textures/Texture":143,"../utils":152,"../utils/trimCanvas":157,"./TextMetrics":137,"./TextStyle":138}],137:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(e,n,i,o,a,s,u,l,c){r(this,t),this.text=e,this.style=n,this.width=i,this.height=o,this.lines=a,this.lineWidths=s,this.lineHeight=u,this.maxLineWidth=l,this.fontProperties=c}return t.measureText=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;r=r||n.wordWrap;var o=n.toFontString(),a=t.measureFont(o),s=i.getContext("2d");s.font=o;for(var u=(r?t.wordWrap(e,n,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var f=s.measureText(u[h]).width+(u[h].length-1)*n.letterSpacing;l[h]=f,c=Math.max(c,f)}var d=c+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||a.fontSize+n.strokeThickness,v=Math.max(p,a.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new t(e,n,d,v,u,l,p+n.leading,c,a)},t.wordWrap=function(e,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),i="",o=e.split("\n"),a=n.wordWrapWidth,s={},u=0;u<o.length;u++){for(var l=a,c=o[u].split(" "),h=0;h<c.length;h++){var f=r.measureText(c[h]).width;if(n.breakWords&&f>a)for(var d=c[h].split(""),p=0;p<d.length;p++){var v=d[p],y=s[v];void 0===y&&(y=r.measureText(v).width,s[v]=y),y>l?(i+="\n"+v,l=a-y):(0===p&&(i+=" "),i+=v,l-=y)}else{var g=f+r.measureText(" ").width;0===h||g>l?(h>0&&(i+="\n"),i+=c[h],l=a-f):(l-=g,i+=" "+c[h])}}u<o.length-1&&(i+="\n")}return i},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={},r=t._canvas,i=t._context;i.font=e;var o=Math.ceil(i.measureText("|MÉq").width),a=Math.ceil(i.measureText("M").width),s=2*a;a=1.4*a|0,r.width=o,r.height=s,i.fillStyle="#f00",i.fillRect(0,0,o,s),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText("|MÉq",0,a);var u=i.getImageData(0,0,o,s).data,l=u.length,c=4*o,h=0,f=0,d=!1;for(h=0;h<a;++h){for(var p=0;p<c;p+=4)if(255!==u[f+p]){d=!0;break}if(d)break;f+=c}for(n.ascent=a-h,f=l-c,d=!1,h=s;h>a;--h){for(var v=0;v<c;v+=4)if(255!==u[f+v]){d=!0;break}if(d)break;f-=c}return n.descent=h-a,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t}();n.default=i;var o=document.createElement("canvas");o.width=o.height=10,i._canvas=o,i._context=o.getContext("2d"),i._fonts={}},{}],138:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"number"==typeof t?(0,l.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function o(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=i(t[e]);return t}return i(t)}function a(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("../const"),l=t("../utils"),c={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:u.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},h=function(){function t(e){r(this,t),this.styleID=0,Object.assign(this,c,e)}return t.prototype.clone=function(){var e={};for(var n in c)e[n]=this[n];return new t(e)},t.prototype.reset=function(){Object.assign(this,c)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();/([\"\'])[^\'\"]+\1/.test(r)||(r='"'+r+'"'),e[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},s(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=o(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=o(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){a(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=o(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();n.default=h},{"../const":74,"../utils":152}],139:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=r(t("./BaseTexture")),u=r(t("../settings")),l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments[2],s=arguments[3];i(this,e);var l=o(this,t.call(this,null,a));return l.resolution=s||u.default.RESOLUTION,l.width=n,l.height=r,l.realWidth=l.width*l.resolution,l.realHeight=l.height*l.resolution,l.scaleMode=void 0!==a?a:u.default.SCALE_MODE,l.hasLoaded=!0,l._glRenderTargets={},l._canvasRenderTarget=null,l.valid=!1,l}return a(e,t),e.prototype.resize=function(t,e){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(s.default);n.default=l},{"../settings":129,"./BaseTexture":140}],140:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=t("../utils"),u=r(t("../settings")),l=r(t("eventemitter3")),c=r(t("../utils/determineCrossOrigin")),h=r(t("bit-twiddle")),f=function(t){function e(n,r,a){i(this,e);var l=o(this,t.call(this));return l.uid=(0,s.uid)(),l.touched=0,l.resolution=a||u.default.RESOLUTION,l.width=100,l.height=100,l.realWidth=100,l.realHeight=100,l.scaleMode=void 0!==r?r:u.default.SCALE_MODE,l.hasLoaded=!1,l.isLoading=!1,l.source=null,l.origSource=null,l.imageType=null,l.sourceScale=1,l.premultipliedAlpha=!0,l.imageUrl=null,l.isPowerOfTwo=!1,l.mipmap=u.default.MIPMAP_TEXTURES,l.wrapMode=u.default.WRAP_MODE,l._glTextures={},l._enabled=0,l._virtalBoundId=-1,l._destroyed=!1,l.textureCacheIds=[],n&&l.loadSource(n),l}return a(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=h.default.isPow2(this.realWidth)&&h.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var n=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),n&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var r=this;if(t.onload=function(){r._updateImageType(),t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),"svg"!==r.imageType?r.emit("loaded",r):r._loadSvgSource())},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,s.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var n=t.subType.split("+")[0];if(!(e=(0,s.getUrlFileExtension)("."+n)))throw new Error("Invalid image type in data URI.")}else(e=(0,s.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,s.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var n=(0,s.getSvgSize)(t),r=n.width,i=n.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(r*this.sourceScale),this.realHeight=Math.round(i*this.sourceScale),this._updateDimensions();var o=document.createElement("canvas");o.width=this.realWidth,o.height=this.realHeight,o._pixiId="canvas_"+(0,s.uid)(),o.getContext("2d").drawImage(this.source,0,0,r,i,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,e.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,n,r,i){var o=s.BaseTextureCache[t];if(!o){var a=new Image;void 0===n&&0!==t.indexOf("data:")?a.crossOrigin=(0,c.default)(t):n&&(a.crossOrigin="string"==typeof n?n:"anonymous"),(o=new e(a,r)).imageUrl=t,i&&(o.sourceScale=i),o.resolution=(0,s.getResolutionOfUrl)(t),a.src=t,e.addToCache(o,t)}return o},e.fromCanvas=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=r+"_"+(0,s.uid)());var i=s.BaseTextureCache[t._pixiId];return i||(i=new e(t,n),e.addToCache(i,t._pixiId)),i},e.from=function(t,n,r){if("string"==typeof t)return e.fromImage(t,void 0,n,r);if(t instanceof HTMLImageElement){var i=t.src,o=s.BaseTextureCache[i];return o||((o=new e(t,n)).imageUrl=i,r&&(o.sourceScale=r),o.resolution=(0,s.getResolutionOfUrl)(i),e.addToCache(o,i)),o}return t instanceof HTMLCanvasElement?e.fromCanvas(t,n):t},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),s.BaseTextureCache[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),s.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=s.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete s.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete s.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e}(l.default);n.default=f},{"../settings":129,"../utils":152,"../utils/determineCrossOrigin":151,"bit-twiddle":2,eventemitter3:39}],141:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=r(t("./BaseRenderTexture")),u=function(t){function e(n,r){i(this,e);var a=null;if(!(n instanceof s.default)){var u=arguments[1],l=arguments[2],c=arguments[3],h=arguments[4];console.warn("Please use RenderTexture.create("+u+", "+l+") instead of the ctor directly."),a=arguments[0],r=null,n=new s.default(u,l,c,h)}var f=o(this,t.call(this,n,r));return f.legacyRenderer=a,f.valid=!0,f._updateUvs(),f}return a(e,t),e.prototype.resize=function(t,e,n){this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,n,r,i){return new e(new s.default(t,n,r,i))},e}(r(t("./Texture")).default);n.default=u},{"./BaseRenderTexture":139,"./Texture":143}],142:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("../"),a=t("../utils"),s=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,t),this.baseTexture=e,this.textures={},this.data=n,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return i(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,n=(0,a.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&(this.baseTexture.resolution=n,this.baseTexture.update()),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE;n-e<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],a=this._frames[i].frame;if(a){var s=null,u=null,l=new o.Rectangle(0,0,this._frames[i].sourceSize.w/this.resolution,this._frames[i].sourceSize.h/this.resolution);s=this._frames[i].rotated?new o.Rectangle(a.x/this.resolution,a.y/this.resolution,a.h/this.resolution,a.w/this.resolution):new o.Rectangle(a.x/this.resolution,a.y/this.resolution,a.w/this.resolution,a.h/this.resolution),this._frames[i].trimmed&&(u=new o.Rectangle(this._frames[i].spriteSourceSize.x/this.resolution,this._frames[i].spriteSourceSize.y/this.resolution,a.w/this.resolution,a.h/this.resolution)),this.textures[i]=new o.Texture(this.baseTexture,s,l,u,this._frames[i].rotated?2:0),o.Texture.addToCache(this.textures[i],i)}n++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();n.default=s},{"../":93,"../utils":152}],143:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}n.__esModule=!0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=r(t("./BaseTexture")),c=r(t("./VideoBaseTexture")),h=r(t("./TextureUvs")),f=r(t("eventemitter3")),d=t("../math"),p=t("../utils"),v=r(t("../settings")),y=function(t){function e(n,r,a,s,u){i(this,e);var l=o(this,t.call(this));if(l.noFrame=!1,r||(l.noFrame=!0,r=new d.Rectangle(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=s,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=a||r,l._rotate=Number(u||0),!0===u)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(l.noFrame&&(r=new d.Rectangle(0,0,n.width,n.height),n.on("update",l.onBaseTextureUpdated,l)),l.frame=r):n.once("loaded",l.onBaseTextureLoaded,l),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return a(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new d.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(p.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new h.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,n,r,i){var o=p.TextureCache[t];return o||(o=new e(l.default.fromImage(t,n,r,i)),e.addToCache(o,t)),o},e.fromFrame=function(t){var e=p.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(l.default.fromCanvas(t,n,r))},e.fromVideo=function(t,n){return"string"==typeof t?e.fromVideoUrl(t,n):new e(c.default.fromVideo(t,n))},e.fromVideoUrl=function(t,n){return new e(c.default.fromUrl(t,n))},e.from=function(t){if("string"==typeof t){var n=p.TextureCache[t];return n||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?e.fromVideoUrl(t):e.fromImage(t))}return t instanceof HTMLImageElement?new e(l.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,v.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof l.default?new e(t):t},e.fromLoader=function(t,n,r){var i=new l.default(t,void 0,(0,p.getResolutionOfUrl)(n)),o=new e(i);return i.imageUrl=n,r||(r=n),l.default.addToCache(o.baseTexture,r),e.addToCache(o,r),r!==n&&(l.default.addToCache(o.baseTexture,n),e.addToCache(o,n)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),p.TextureCache[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),p.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=p.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete p.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)p.TextureCache[t.textureCacheIds[r]]===t&&delete p.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},u(e,[{key:"frame",get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+t.x+" + "+t.width+" = "+(t.x+t.width)+" > "+this.baseTexture.width+" Y: "+t.y+" + "+t.height+" = "+(t.y+t.height)+" > "+this.baseTexture.height);this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(f.default);n.default=y,y.EMPTY=new y(new l.default),s(y.EMPTY),s(y.EMPTY.baseTexture),y.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new y(new l.default(t))}(),s(y.WHITE),s(y.WHITE.baseTexture)},{"../math":98,"../settings":129,"../utils":152,"./BaseTexture":140,"./TextureUvs":144,"./VideoBaseTexture":145,eventemitter3:39}],144:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(t("../math/GroupD8")),o=function(){function t(){r(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,n){var r=e.width,o=e.height;if(n){var a=t.width/2/r,s=t.height/2/o,u=t.x/r+a,l=t.y/o+s;n=i.default.add(n,i.default.NW),this.x0=u+a*i.default.uX(n),this.y0=l+s*i.default.uY(n),n=i.default.add(n,2),this.x1=u+a*i.default.uX(n),this.y1=l+s*i.default.uY(n),n=i.default.add(n,2),this.x2=u+a*i.default.uX(n),this.y2=l+s*i.default.uY(n),n=i.default.add(n,2),this.x3=u+a*i.default.uX(n),this.y3=l+s*i.default.uY(n)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();n.default=o},{"../math/GroupD8":94}],145:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=t,n.type=e,n}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){return t&&t.__esModule?t:{default:t}}(t("./BaseTexture")),l=t("../utils"),c=t("../ticker"),h=t("../const"),f=function(t){function e(n,o){if(r(this,e),!n)throw new Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var a=i(this,t.call(this,n,o));return a.width=n.videoWidth,a.height=n.videoHeight,a._autoUpdate=!0,a._isAutoUpdating=!1,a.autoPlay=!0,a.update=a.update.bind(a),a._onCanPlay=a._onCanPlay.bind(a),n.addEventListener("play",a._onPlayStart.bind(a)),n.addEventListener("pause",a._onPlayStop.bind(a)),a.hasLoaded=!1,a.__loaded=!1,a._isSourceReady()?a._onCanPlay():(n.addEventListener("canplay",a._onCanPlay),n.addEventListener("canplaythrough",a._onCanPlay)),a}return o(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(c.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(c.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&c.shared.remove(this.update,this),this.source&&this.source._pixiId&&(u.default.removeFromCache(this.source._pixiId),delete this.source._pixiId),t.prototype.destroy.call(this)},e.fromVideo=function(t,n){t._pixiId||(t._pixiId="video_"+(0,l.uid)());var r=l.BaseTextureCache[t._pixiId];return r||(r=new e(t,n),u.default.addToCache(r,t._pixiId)),r},e.fromUrl=function(t,n){var r=document.createElement("video");if(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),Array.isArray(t))for(var i=0;i<t.length;++i)r.appendChild(a(t[i].src||t[i],t[i].mime));else r.appendChild(a(t.src||t,t.mime));return r.load(),e.fromVideo(r,n)},s(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(c.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(c.shared.add(this.update,this,h.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(u.default);n.default=f,f.fromUrls=f.fromUrl},{"../const":74,"../ticker":148,"../utils":152,"./BaseTexture":140}],146:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(t("../settings")),s=t("../const"),u=r(t("./TickerListener")),l=function(){function t(){var e=this;i(this,t),this._head=new u.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/a.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(t,e,n))},t.prototype.addOnce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new u.default(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*a.default.TARGET_FPMS*this.speed;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},o(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,a.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();n.default=l},{"../const":74,"../settings":129,"./TickerListener":147}],147:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,t),this.fn=e,this.context=n,this.priority=i,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},t}();n.default=i},{}],148:[function(t,e,n){"use strict";n.__esModule=!0,n.Ticker=n.shared=void 0;var r=function(t){return t&&t.__esModule?t:{default:t}}(t("./Ticker")),i=new r.default;i.autoStart=!0,i.destroy=function(){},n.shared=i,n.Ticker=r.default},{"./Ticker":146}],149:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],150:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){for(var e=6*t,n=new Uint16Array(e),r=0,i=0;r<e;r+=6,i+=4)n[r+0]=i+0,n[r+1]=i+1,n[r+2]=i+2,n[r+3]=i+0,n[r+4]=i+2,n[r+5]=i+3;return n}},{}],151:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,i||(i=document.createElement("a")),i.href=t;var n=!(t=r.default.parse(i.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&n&&t.protocol===e.protocol?"":"anonymous"};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("url")),i=void 0},{url:245}],152:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.premultiplyBlendMode=n.BaseTextureCache=n.TextureCache=n.mixins=n.pluginTarget=n.EventEmitter=n.removeItems=n.isMobile=void 0,n.uid=function(){return++d},n.hex2rgb=function(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},n.hex2string=function(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)},n.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},n.getResolutionOfUrl=function(t,e){var n=a.default.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1},n.decomposeDataUri=function(t){var e=o.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}},n.getUrlFileExtension=function(t){var e=o.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()},n.getSvgSize=function(t){var e=o.SVG_SIZE.exec(t),n={};return e&&(n[e[1]]=Math.round(parseFloat(e[3])),n[e[5]]=Math.round(parseFloat(e[7]))),n},n.skipHello=function(){p=!0},n.sayHello=function(t){if(!p){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+o.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+o.VERSION+" - "+t+" - http://www.pixijs.com/");p=!0}},n.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var i=n.getExtension("WEBGL_lose_context");i&&i.loseContext()}return n=null,r}catch(t){return!1}},n.sign=function(t){return 0===t?0:t<0?-1:1},n.destroyTextureCache=function(){var t=void 0;for(t in v)v[t].destroy();for(t in y)y[t].destroy()},n.clearTextureCache=function(){var t=void 0;for(t in v)delete v[t];for(t in y)delete y[t]},n.correctBlendMode=function(t,e){return g[e?1:0][t]},n.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0,(255*e<<24)+(n<<16)+(r<<8)+i},n.premultiplyRgba=function(t,e,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n},n.premultiplyTintToRgba=function(t,e,n,r){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n};var o=t("../const"),a=i(t("../settings")),s=i(t("eventemitter3")),u=i(t("./pluginTarget")),l=r(t("./mixin")),c=r(t("ismobilejs")),h=i(t("remove-array-items")),f=i(t("./mapPremultipliedBlendModes")),d=0,p=!1;n.isMobile=c,n.removeItems=h.default,n.EventEmitter=s.default,n.pluginTarget=u.default,n.mixins=l;var v=n.TextureCache=Object.create(null),y=n.BaseTextureCache=Object.create(null),g=n.premultiplyBlendMode=(0,f.default)()},{"../const":74,"../settings":129,"./mapPremultipliedBlendModes":153,"./mixin":155,"./pluginTarget":156,eventemitter3:39,ismobilejs:46,"remove-array-items":231}],153:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,t[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,t[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,e[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,e[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,e[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i};var r=t("../const")},{"../const":74}],154:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){return r.default.tablet||r.default.phone?4:t};var r=function(t){return t&&t.__esModule?t:{default:t}}(t("ismobilejs"))},{ismobilejs:46}],155:[function(t,e,n){"use strict";function r(t,e){if(t&&e)for(var n=Object.keys(e),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}}n.__esModule=!0,n.mixin=r,n.delayMixin=function(t,e){i.push(t,e)},n.performMixins=function(){for(var t=0;t<i.length;t+=2)r(i[t],i[t+1]);i.length=0};var i=[]},{}],156:[function(t,e,n){"use strict";function r(t){t.__plugins={},t.registerPlugin=function(e,n){t.__plugins[e]=n},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}n.__esModule=!0,n.default={mixin:function(t){r(t)}}},{}],157:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){var e=t.width,n=t.height,r=t.getContext("2d"),i=r.getImageData(0,0,e,n).data,o=i.length,a={top:null,left:null,right:null,bottom:null},s=void 0,u=void 0,l=void 0;for(s=0;s<o;s+=4)0!==i[s+3]&&(u=s/4%e,l=~~(s/4/e),null===a.top&&(a.top=l),null===a.left?a.left=u:u<a.left&&(a.left=u),null===a.right?a.right=u+1:a.right<u&&(a.right=u+1),null===a.bottom?a.bottom=l:a.bottom<l&&(a.bottom=l));return e=a.right-a.left,{height:n=a.bottom-a.top+1,width:e,data:r.getImageData(a.left,a.top,e,n)}}},{}],158:[function(t,e,n){"use strict";function r(t){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e)))}n.__esModule=!0,n.default=function(t){var e=t.mesh,n=t.particles,i=t.extras,o=t.filters,a=t.prepare,s=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return r("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return r("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return r("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return r("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return r("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),n.ParticleContainer}},MovieClip:{get:function(){return r("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),i.AnimatedSprite}},TilingSprite:{get:function(){return r("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),i.TilingSprite}},BitmapText:{get:function(){return r("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),i.BitmapText}},blendModes:{get:function(){return r("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return r("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return r("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return r("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return r("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return r("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){r("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){r("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){r("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){r("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){r("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){r("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){r("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return r("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],c=0;c<l.length;c++)!function(e){var n=l[e];Object.defineProperty(t[n.parent],"DEFAULT",{get:function(){return r("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]},set:function(e){r("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]=e}})}(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return r("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){r("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),i.AnimatedSprite&&Object.defineProperties(i,{MovieClip:{get:function(){return r("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),i.AnimatedSprite}}}),t.DisplayObject.prototype.generateTexture=function(t,e,n){return r("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,n)},t.Graphics.prototype.generateTexture=function(t,e){return r("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.RenderTexture.prototype.render=function(t,e,n,i){this.legacyRenderer.render(t,this,n,e,!i),r("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return r("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return r("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return r("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return r("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,r("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},i.BitmapText&&(i.BitmapText.prototype.setText=function(t){this.text=t,r("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function(t){this.text=t,r("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return r("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return r("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return r("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return r("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,r("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return r("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return r("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){r("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){r("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),n=-1;this._fontSize=26;for(var i=0;i<e.length;++i)if(e[i].match(/(px|pt|em|%)/)){n=i,this._fontSize=e[i];break}this._fontWeight="normal";for(var o=0;o<n;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(n>-1&&n<e.length-1){this._fontFamily="";for(var a=n+1;a<e.length;++a)this._fontFamily+=e[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,r("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,n){t.Texture.addToCache(e,n),r("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return r("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return r("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return r("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}}}),t.utils.uuid=function(){return r("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return r("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var h=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(r("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),h=t},get:function(){return h}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(t,e){return r("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),a.canvas&&Object.defineProperty(a.canvas,"UPLOADS_PER_FRAME",{set:function(){r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return r("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.webgl&&Object.defineProperty(a.webgl,"UPLOADS_PER_FRAME",{set:function(){r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return r("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.Loader){var f=s.Resource,d=s.Loader;Object.defineProperties(f.prototype,{isJson:{get:function(){return r("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===f.TYPE.JSON}},isXml:{get:function(){return r("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===f.TYPE.XML}},isImage:{get:function(){return r("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===f.TYPE.IMAGE}},isAudio:{get:function(){return r("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===f.TYPE.AUDIO}},isVideo:{get:function(){return r("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===f.TYPE.VIDEO}}}),Object.defineProperties(d.prototype,{before:{get:function(){return r("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return r("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){r("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return r("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){r("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return r("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){r("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return r("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}},{}],159:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),o=new i.Rectangle,a=function(){function t(e){r(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,r=void 0,a=void 0,s=void 0;t&&(s=t instanceof i.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=o).width=this.renderer.width,a.height=this.renderer.height);var u=a.width*r,l=a.height*r,c=new i.CanvasRenderTarget(u,l),h=n.getImageData(a.x*r,a.y*r,u,l);return c.context.putImageData(h,0,0),c.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,r=void 0,a=void 0,s=void 0;return t&&(s=t instanceof i.RenderTexture?t:e.generateTexture(t)),s?(n=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,a=s.frame):(n=e.rootContext,(a=o).width=e.width,a.height=e.height),n.getImageData(0,0,a.width*r,a.height*r).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();n.default=a,i.CanvasRenderer.registerPlugin("extract",a)},{"../../core":93}],160:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("./webgl/WebGLExtract");Object.defineProperty(n,"webgl",{enumerable:!0,get:function(){return r(i).default}});var o=t("./canvas/CanvasExtract");Object.defineProperty(n,"canvas",{enumerable:!0,get:function(){return r(o).default}})},{"./canvas/CanvasExtract":159,"./webgl/WebGLExtract":161}],161:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),o=new i.Rectangle,a=function(){function t(e){r(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,n=void 0,r=void 0,a=void 0,s=!1,u=void 0;t&&(u=t instanceof i.RenderTexture?t:this.renderer.generateTexture(t)),u?(r=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=u.frame,s=!1):(r=(n=this.renderer.rootRenderTarget).resolution,s=!0,(a=o).width=n.size.width,a.height=n.size.height);var l=a.width*r,c=a.height*r,h=new i.CanvasRenderTarget(l,c);if(n){e.bindRenderTarget(n);var f=new Uint8Array(4*l*c),d=e.gl;d.readPixels(a.x*r,a.y*r,l,c,d.RGBA,d.UNSIGNED_BYTE,f);var p=h.context.getImageData(0,0,l,c);p.data.set(f),h.context.putImageData(p,0,0),s&&(h.context.scale(1,-1),h.context.drawImage(h.canvas,0,-c))}return h.canvas},t.prototype.pixels=function(t){var e=this.renderer,n=void 0,r=void 0,a=void 0,s=void 0;t&&(s=t instanceof i.RenderTexture?t:this.renderer.generateTexture(t)),s?(r=(n=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,a=s.frame):(r=(n=this.renderer.rootRenderTarget).resolution,(a=o).width=n.size.width,a.height=n.size.height);var u=a.width*r,l=a.height*r,c=new Uint8Array(4*u*l);if(n){e.bindRenderTarget(n);var h=e.gl;h.readPixels(a.x*r,a.y*r,u,l,h.RGBA,h.UNSIGNED_BYTE,c)}return c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();n.default=a,i.WebGLRenderer.registerPlugin("extract",a)},{"../../core":93}],162:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),u=function(t){function e(n,o){r(this,e);var a=i(this,t.call(this,n[0]instanceof s.Texture?n[0]:n[0].texture));return a._textures=null,a._durations=null,a.textures=n,a._autoUpdate=!1!==o,a.animationSpeed=1,a.loop=!0,a.onComplete=null,a.onFrameChange=null,a.onLoop=null,a._currentTime=0,a.playing=!1,a}return o(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&s.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&s.ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n?this.onLoop():this.animationSpeed<0&&this.currentFrame>n&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(s.Texture.fromFrame(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(s.Texture.fromImage(t[r]));return new e(n)},a(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof s.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(s.Sprite);n.default=u},{"../core":93}],163:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),l=r(t("../core/math/ObservablePoint")),c=r(t("../core/settings")),h=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e);var a=o(this,t.call(this));return a._textWidth=0,a._textHeight=0,a._glyphs=[],a._font={tint:void 0!==r.tint?r.tint:16777215,align:r.align||"left",name:null,size:0},a.font=r.font,a._text=n,a._maxWidth=0,a._maxLineHeight=0,a._anchor=new l.default(function(){a.dirty=!0},a,0,0),a.dirty=!1,a.updateText(),a}return a(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],n=this._font.size/t.size,r=new u.Point,i=[],o=[],a=null,s=0,l=0,c=0,h=-1,f=0,d=0,p=0,v=0;v<this.text.length;v++){var y=this.text.charCodeAt(v);if(/(\s)/.test(this.text.charAt(v))&&(h=v,f=s),/(?:\r\n|\r|\n)/.test(this.text.charAt(v)))o.push(s),l=Math.max(l,s),c++,r.x=0,r.y+=t.lineHeight,a=null;else if(-1!==h&&this._maxWidth>0&&r.x*n>this._maxWidth)u.utils.removeItems(i,h-d,v-h),v=h,h=-1,++d,o.push(f),l=Math.max(l,f),c++,r.x=0,r.y+=t.lineHeight,a=null;else{var g=t.chars[y];g&&(a&&g.kerning[a]&&(r.x+=g.kerning[a]),i.push({texture:g.texture,line:c,charCode:y,position:new u.Point(r.x+g.xOffset,r.y+g.yOffset)}),s=r.x+(g.texture.width+g.xOffset),r.x+=g.xAdvance,p=Math.max(p,g.yOffset+g.texture.height),a=y)}}o.push(s),l=Math.max(l,s);for(var _=[],m=0;m<=c;m++){var b=0;"right"===this._font.align?b=l-o[m]:"center"===this._font.align&&(b=(l-o[m])/2),_.push(b)}for(var x=i.length,w=this.tint,T=0;T<x;T++){var E=this._glyphs[T];E?E.texture=i[T].texture:(E=new u.Sprite(i[T].texture),this._glyphs.push(E)),E.position.x=(i[T].position.x+_[i[T].line])*n,E.position.y=i[T].position.y*n,E.scale.x=E.scale.y=n,E.tint=w,E.parent||this.addChild(E)}for(var M=x;M<this._glyphs.length;++M)this.removeChild(this._glyphs[M]);if(this._textWidth=l*n,this._textHeight=(r.y+t.lineHeight)*n,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<x;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this._maxLineHeight=p*n},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,n){var r={},i=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],a=n.baseTexture.resolution||c.default.RESOLUTION;r.font=i.getAttribute("face"),r.size=parseInt(i.getAttribute("size"),10),r.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,r.chars={};for(var s=t.getElementsByTagName("char"),l=0;l<s.length;l++){var h=s[l],f=parseInt(h.getAttribute("id"),10),d=new u.Rectangle(parseInt(h.getAttribute("x"),10)/a+n.frame.x/a,parseInt(h.getAttribute("y"),10)/a+n.frame.y/a,parseInt(h.getAttribute("width"),10)/a,parseInt(h.getAttribute("height"),10)/a);r.chars[f]={xOffset:parseInt(h.getAttribute("xoffset"),10)/a,yOffset:parseInt(h.getAttribute("yoffset"),10)/a,xAdvance:parseInt(h.getAttribute("xadvance"),10)/a,kerning:{},texture:new u.Texture(n.baseTexture,d)}}for(var p=t.getElementsByTagName("kerning"),v=0;v<p.length;v++){var y=p[v],g=parseInt(y.getAttribute("first"),10)/a,_=parseInt(y.getAttribute("second"),10)/a,m=parseInt(y.getAttribute("amount"),10)/a;r.chars[_]&&(r.chars[_].kerning[g]=m)}return e.fonts[r.font]=r,r},s(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(u.Container);n.default=h,h.fonts={}},{"../core":93,"../core/math/ObservablePoint":96,"../core/settings":129}],164:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../core/math/Matrix")),a=new o.default,s=function(){function t(e,n){r(this,t),this._texture=e,this.mapCoord=new o.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===n?.5:n}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(a.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(a));var o=e.baseTexture,s=this.uClampFrame,u=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(e._frame.x+u+l)/o.width,s[1]=(e._frame.y+u+l)/o.height,s[2]=(e._frame.x+e._frame.width-u+l)/o.width,s[3]=(e._frame.y+e._frame.height-u+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},i(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();n.default=s},{"../core/math/Matrix":95}],165:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),l=r(t("../core/sprites/canvas/CanvasTinter")),c=r(t("./TextureTransform")),h=new u.Point,f=function(t){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;i(this,e);var s=o(this,t.call(this,n));return s.tileTransform=new u.TransformStatic,s._width=r,s._height=a,s._canvasPattern=null,s.uvTransform=n.transform||new c.default(n),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return a(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var n=t.context,r=this.worldTransform,i=t.resolution,o=e.baseTexture,a=o.resolution,s=this.tilePosition.x/this.tileScale.x%e._frame.width*a,c=this.tilePosition.y/this.tileScale.y%e._frame.height*a;if(!this._canvasPattern){var h=new u.CanvasRenderTarget(e._frame.width,e._frame.height,a);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=l.default.getTintedTexture(this,this.tint)),h.context.drawImage(this.tintedTexture,0,0)):h.context.drawImage(o.source,-e._frame.x*a,-e._frame.y*a),this._canvasPattern=h.context.createPattern(h.canvas,"repeat")}n.globalAlpha=this.worldAlpha,n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),t.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.scale(this.tileScale.x/a,this.tileScale.y/a);var f=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(n.translate(s,c),n.fillRect(-s+f,-c+d,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(n.translate(s+f,c+d),n.fillRect(-s,-c,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e=this._width,n=this._height,r=-e*this.anchor._x;if(h.x>=r&&h.x<r+e){var i=-n*this.anchor._y;if(h.y>=i&&h.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,n,r){return new e(u.Texture.from(t),n,r)},e.fromFrame=function(t,n,r){var i=u.utils.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(i,n,r)},e.fromImage=function(t,n,r,i,o){return new e(u.Texture.fromImage(t,i,o),n,r)},s(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(u.Sprite);n.default=f},{"../core":93,"../core/sprites/canvas/CanvasTinter":132,"./TextureTransform":164}],166:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),a=r(t("../core/textures/Texture")),s=r(t("../core/textures/BaseTexture")),u=t("../core/utils"),l=o.DisplayObject,c=new o.Matrix;l.prototype._cacheAsBitmap=!1,l.prototype._cacheData=!1;var h=function t(){i(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(l.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new h),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),l.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},l.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var n=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;n.pad(r)}var i=t._activeRenderTarget,l=t.filterManager.filterStack,h=o.RenderTexture.create(0|n.width,0|n.height),f="cacheAsBitmap_"+(0,u.uid)();this._cacheData.textureCacheId=f,s.default.addToCache(h.baseTexture,f),a.default.addToCache(h,f);var d=c;d.tx=-n.x,d.ty=-n.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,h,!0,d,!0),t.bindRenderTarget(i),t.filterManager.filterStack=l,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var p=new o.Sprite(h);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-n.x/n.width,p.anchor.y=-n.y/n.height,p.alpha=e,p._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=p.containsPoint.bind(p)}},l.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},l.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),n=this.alpha;this.alpha=1;var r=t.context,i=o.RenderTexture.create(0|e.width,0|e.height),l="cacheAsBitmap_"+(0,u.uid)();this._cacheData.textureCacheId=l,s.default.addToCache(i.baseTexture,l),a.default.addToCache(i,l);var h=c;this.transform.localTransform.copy(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,i,!0,h,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var f=new o.Sprite(i);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-e.x/e.width,f.anchor.y=-e.y/e.height,f._bounds=this._bounds,f.alpha=n,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=f,this.containsPoint=f.containsPoint.bind(f)}},l.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},l.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},l.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,s.default.removeFromCache(this._cacheData.textureCacheId),a.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},l.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":93,"../core/textures/BaseTexture":140,"../core/textures/Texture":143,"../core/utils":152}],167:[function(t,e,n){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core"));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":93}],168:[function(t,e,n){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core"));r.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":93}],169:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.BitmapText=n.TilingSpriteRenderer=n.TilingSprite=n.TextureTransform=n.AnimatedSprite=void 0;var i=t("./AnimatedSprite");Object.defineProperty(n,"AnimatedSprite",{enumerable:!0,get:function(){return r(i).default}});var o=t("./TextureTransform");Object.defineProperty(n,"TextureTransform",{enumerable:!0,get:function(){return r(o).default}});var a=t("./TilingSprite");Object.defineProperty(n,"TilingSprite",{enumerable:!0,get:function(){return r(a).default}});var s=t("./webgl/TilingSpriteRenderer");Object.defineProperty(n,"TilingSpriteRenderer",{enumerable:!0,get:function(){return r(s).default}});var u=t("./BitmapText");Object.defineProperty(n,"BitmapText",{enumerable:!0,get:function(){return r(u).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":162,"./BitmapText":163,"./TextureTransform":164,"./TilingSprite":165,"./cacheAsBitmap":166,"./getChildByName":167,"./getGlobalPosition":168,"./webgl/TilingSpriteRenderer":170}],170:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),s=t("../../core/const"),u=(t("path"),new a.Matrix),l=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.shader=null,o.simpleShader=null,o.quad=null,o}return o(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new a.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new a.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new a.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,n=this.quad;e.bindVao(n.vao);var r=n.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=n.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),n.upload();var i=t._texture,o=i.baseTexture,l=t.tileTransform.localTransform,c=t.uvTransform,h=o.isPowerOfTwo&&i.frame.width===o.width&&i.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==s.WRAP_MODES.CLAMP:o.wrapMode===s.WRAP_MODES.CLAMP&&(o.wrapMode=s.WRAP_MODES.REPEAT));var f=h?this.simpleShader:this.shader;e.bindShader(f);var d=i.width,p=i.height,v=t._width,y=t._height;u.set(l.a*d/v,l.b*d/y,l.c*p/v,l.d*p/y,l.tx/v,l.ty/y),u.invert(),h?u.prepend(c.mapCoord):(f.uniforms.uMapCoord=c.mapCoord.toArray(!0),f.uniforms.uClampFrame=c.uClampFrame,f.uniforms.uClampOffset=c.uClampOffset),f.uniforms.uTransform=u.toArray(!0),f.uniforms.uColor=a.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,o.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(i),e.setBlendMode(a.utils.correctBlendMode(t.blendMode,o.premultipliedAlpha)),n.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(a.ObjectRenderer);n.default=l,a.WebGLRenderer.registerPlugin("tilingSprite",l)},{"../../core":93,"../../core/const":74,path:50}],171:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),l=r(t("./BlurXFilter")),c=r(t("./BlurYFilter")),h=function(t){function e(n,r,a,s){i(this,e);var h=o(this,t.call(this));return h.blurXFilter=new l.default(n,r,a,s),h.blurYFilter=new c.default(n,r,a,s),h.padding=0,h.resolution=a||u.settings.RESOLUTION,h.quality=r||4,h.blur=n||8,h}return a(e,t),e.prototype.apply=function(t,e,n){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,n,!1),t.returnRenderTarget(r)},s(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),e}(u.Filter);n.default=h},{"../../core":93,"./BlurXFilter":172,"./BlurYFilter":173}],172:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),l=r(t("./generateBlurVertSource")),c=r(t("./generateBlurFragSource")),h=r(t("./getMaxBlurKernelSize")),f=function(t){function e(n,r,a,s){i(this,e),s=s||5;var h=(0,l.default)(s,!0),f=(0,c.default)(s),d=o(this,t.call(this,h,f));return d.resolution=a||u.settings.RESOLUTION,d._quality=0,d.quality=r||4,d.strength=n||8,d.firstRun=!0,d}return a(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,o=(0,h.default)(i);this.vertexSrc=(0,l.default)(o,!0),this.fragmentSrc=(0,c.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/n.size.width*(n.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var a=t.getRenderTarget(!0),s=e,u=a,f=0;f<this.passes-1;f++){t.applyFilter(this,s,u,!0);var d=u;u=s,s=d}t.applyFilter(this,s,n,r),t.returnRenderTarget(a)}},s(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(u.Filter);n.default=f},{"../../core":93,"./generateBlurFragSource":174,"./generateBlurVertSource":175,"./getMaxBlurKernelSize":176}],173:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),l=r(t("./generateBlurVertSource")),c=r(t("./generateBlurFragSource")),h=r(t("./getMaxBlurKernelSize")),f=function(t){function e(n,r,a,s){i(this,e),s=s||5;var h=(0,l.default)(s,!1),f=(0,c.default)(s),d=o(this,t.call(this,h,f));return d.resolution=a||u.settings.RESOLUTION,d._quality=0,d.quality=r||4,d.strength=n||8,d.firstRun=!0,d}return a(e,t),e.prototype.apply=function(t,e,n,r){if(this.firstRun){var i=t.renderer.gl,o=(0,h.default)(i);this.vertexSrc=(0,l.default)(o,!1),this.fragmentSrc=(0,c.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/n.size.height*(n.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{for(var a=t.getRenderTarget(!0),s=e,u=a,f=0;f<this.passes-1;f++){t.applyFilter(this,s,u,!0);var d=u;u=s,s=d}t.applyFilter(this,s,n,r),t.returnRenderTarget(a)}},s(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(u.Filter);n.default=f},{"../../core":93,"./generateBlurFragSource":174,"./generateBlurVertSource":175,"./getMaxBlurKernelSize":176}],174:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){for(var e=r[t],n=e.length,o=i,a="",s=void 0,u=0;u<t;u++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",u);s=u,u>=n&&(s=t-u-1),a+=l=l.replace("%value%",e[s]),a+="\n"}return o=o.replace("%blur%",a),o=o.replace("%size%",t)};var r={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],175:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t,e){var n=Math.ceil(t/2),i=r,o="",a=void 0;a=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var u=a.replace("%index%",s);o+=u=u.replace("%sampleIndex%",s-(n-1)+".0"),o+="\n"}return i=i.replace("%blur%",o),i=i.replace("%size%",t)};var r=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],176:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),n=15;n>e;)n-=2;return n}},{}],177:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),u=(t("path"),function(t){function e(){r(this,e);var n=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n.alpha=1,n}return o(e,t),e.prototype._loadMatrix=function(t){var e=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,n,r,i){t=t||.2,e=e||.15;var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,t,0,u,l,c,e,0,o-u,a-l,s-c,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},a(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(s.Filter));n.default=u,u.prototype.grayscale=u.prototype.greyscale},{"../../core":93,path:50}],178:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),u=(t("path"),function(t){function e(n,o){r(this,e);var a=new s.Matrix;n.renderable=!1;var u=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return u.maskSprite=n,u.maskMatrix=a,u.uniforms.mapSampler=n._texture,u.uniforms.filterMatrix=a,u.uniforms.scale={x:1,y:1},null!==o&&void 0!==o||(o=20),u.scale=new s.Point(o,o),u}return o(e,t),e.prototype.apply=function(t,e,n){var r=1/n.destinationFrame.width*(n.size.width/e.size.width);this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*r,this.uniforms.scale.y=this.scale.y*r,t.applyFilter(this,e,n)},a(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(s.Filter));n.default=u},{"../../core":93,path:50}],179:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),s=(t("path"),function(t){function e(){return r(this,e),i(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return o(e,t),e}(a.Filter));n.default=s},{"../../core":93,path:50}],180:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("./fxaa/FXAAFilter");Object.defineProperty(n,"FXAAFilter",{enumerable:!0,get:function(){return r(i).default}});var o=t("./noise/NoiseFilter");Object.defineProperty(n,"NoiseFilter",{enumerable:!0,get:function(){return r(o).default}});var a=t("./displacement/DisplacementFilter");Object.defineProperty(n,"DisplacementFilter",{enumerable:!0,get:function(){return r(a).default}});var s=t("./blur/BlurFilter");Object.defineProperty(n,"BlurFilter",{enumerable:!0,get:function(){return r(s).default}});var u=t("./blur/BlurXFilter");Object.defineProperty(n,"BlurXFilter",{enumerable:!0,get:function(){return r(u).default}});var l=t("./blur/BlurYFilter");Object.defineProperty(n,"BlurYFilter",{enumerable:!0,get:function(){return r(l).default}});var c=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(n,"ColorMatrixFilter",{enumerable:!0,get:function(){return r(c).default}});var h=t("./void/VoidFilter");Object.defineProperty(n,"VoidFilter",{enumerable:!0,get:function(){return r(h).default}})},{"./blur/BlurFilter":171,"./blur/BlurXFilter":172,"./blur/BlurYFilter":173,"./colormatrix/ColorMatrixFilter":177,"./displacement/DisplacementFilter":178,"./fxaa/FXAAFilter":179,"./noise/NoiseFilter":181,"./void/VoidFilter":182}],181:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),u=(t("path"),function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();r(this,e);var a=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return a.noise=n,a.seed=o,a}return o(e,t),a(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(s.Filter));n.default=u},{"../../core":93,path:50}],182:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),s=(t("path"),function(t){function e(){r(this,e);var n=i(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return n.glShaderKey="void",n}return o(e,t),e}(a.Filter));n.default=s},{"../../core":93,path:50}],183:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),a=function(){function t(){r(this,t),this.global=new o.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype._copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=t.buttons,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype._reset=function(){this.isPrimary=!1},i(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();n.default=a},{"../core":93}],184:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(){r(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();n.default=i},{}],185:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),l=r(t("./InteractionData")),c=r(t("./InteractionEvent")),h=r(t("./InteractionTrackingData")),f=r(t("eventemitter3")),d=r(t("./interactiveTarget"));u.utils.mixins.delayMixin(u.DisplayObject.prototype,d.default);var p="MOUSE",v={target:null,data:{global:null}},y=function(t){function e(n,r){i(this,e);var a=o(this,t.call(this));return r=r||{},a.renderer=n,a.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,a.interactionFrequency=r.interactionFrequency||10,a.mouse=new l.default,a.mouse.identifier=p,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[p]=a.mouse,a.interactionDataPool=[],a.eventData=new c.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new u.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return a(e,t),e.prototype.hitTest=function(t,e){return v.target=null,v.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(v,e,null,!0),v.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(u.ticker.shared.add(this.update,this,u.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(u.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&"touch"!==n.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":s(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.mapPositionToPoint=function(t,e,n){var r=void 0;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var i=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i;if(e.hitArea?s=!1:r&&e._mask&&(e._mask.containsPoint(o)||(r=!1)),e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],h=this.processInteractive(t,c,n,r,s);if(h){if(!c.parent)continue;s=!1,h&&(t.target&&(r=!1),a=!0)}}return i&&(r&&!t.target&&(e.hitArea?(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(a=!0)):e.containsPoint&&e.containsPoint(o)&&(a=!0)),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new h.default(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,n,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],a="touch"===r.pointerType;if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button,u=h.default.FLAGS,l=s?u.RIGHT_DOWN:u.LEFT_DOWN,c=void 0!==o&&o.flags&l;n?(this.dispatchEvent(e,s?"rightup":"mouseup",t),c&&this.dispatchEvent(e,s?"rightclick":"click",t)):c&&this.dispatchEvent(e,s?"rightupoutside":"mouseupoutside",t),o&&(s?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t;var s="touch"!==i.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=e.trackedPointers[i];n&&!a&&(a=e.trackedPointers[i]=new h.default(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return e===p||"mouse"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:((n=this.interactionDataPool.pop()||new l.default).identifier=e,this.activeInteractionData[e]=n),n._copyEvent(t),n},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e._reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t._reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),i.twist=0,i.tangentialPressure=0,void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=p),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(f.default);n.default=y,u.WebGLRenderer.registerPlugin("interaction",y),u.CanvasRenderer.registerPlugin("interaction",y)},{"../core":93,"./InteractionData":183,"./InteractionEvent":184,"./InteractionTrackingData":186,"./interactiveTarget":188,eventemitter3:39}],186:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){r(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},i(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();n.default=o,o.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],187:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("./InteractionData");Object.defineProperty(n,"InteractionData",{enumerable:!0,get:function(){return r(i).default}});var o=t("./InteractionManager");Object.defineProperty(n,"InteractionManager",{enumerable:!0,get:function(){return r(o).default}});var a=t("./interactiveTarget");Object.defineProperty(n,"interactiveTarget",{enumerable:!0,get:function(){return r(a).default}});var s=t("./InteractionTrackingData");Object.defineProperty(n,"InteractionTrackingData",{enumerable:!0,get:function(){return r(s).default}});var u=t("./InteractionEvent");Object.defineProperty(n,"InteractionEvent",{enumerable:!0,get:function(){return r(u).default}})},{"./InteractionData":183,"./InteractionEvent":184,"./InteractionManager":185,"./InteractionTrackingData":186,"./interactiveTarget":188}],188:[function(t,e,n){"use strict";n.__esModule=!0,n.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],189:[function(t,e,n){"use strict";function r(t,e){t.bitmapFont=s.BitmapText.registerFont(t.data,e)}n.__esModule=!0,n.parse=r,n.default=function(){return function(t,e){if(t.data&&t.type===a.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var n=t.isDataUrl?"":i.dirname(t.url);t.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/")),(n=n.replace(this.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/");var s=n+t.data.getElementsByTagName("page")[0].getAttribute("file");if(o.utils.TextureCache[s])r(t,o.utils.TextureCache[s]),e();else{var u={crossOrigin:t.crossOrigin,loadType:a.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",s,u,function(n){r(t,n.texture),e()})}}else e();else e()}};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("path")),o=t("../core"),a=t("resource-loader"),s=t("../extras")},{"../core":93,"../extras":169,path:50,"resource-loader":236}],190:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0,n.shared=n.Resource=n.textureParser=n.getResourcePath=n.spritesheetParser=n.parseBitmapFontData=n.bitmapFontParser=n.Loader=void 0;var i=t("./bitmapFontParser");Object.defineProperty(n,"bitmapFontParser",{enumerable:!0,get:function(){return r(i).default}}),Object.defineProperty(n,"parseBitmapFontData",{enumerable:!0,get:function(){return i.parse}});var o=t("./spritesheetParser");Object.defineProperty(n,"spritesheetParser",{enumerable:!0,get:function(){return r(o).default}}),Object.defineProperty(n,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}});var a=t("./textureParser");Object.defineProperty(n,"textureParser",{enumerable:!0,get:function(){return r(a).default}});var s=t("resource-loader");Object.defineProperty(n,"Resource",{enumerable:!0,get:function(){return s.Resource}});var u=r(t("../core/Application")),l=r(t("./loader"));n.Loader=l.default;var c=new l.default;c.destroy=function(){},n.shared=c;var h=u.default.prototype;h._loader=null,Object.defineProperty(h,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?c:new l.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},{"../core/Application":71,"./bitmapFontParser":189,"./loader":191,"./spritesheetParser":192,"./textureParser":193,"resource-loader":236}],191:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=r(t("resource-loader")),u=t("resource-loader/lib/middlewares/parsing/blob"),l=r(t("eventemitter3")),c=r(t("./textureParser")),h=r(t("./spritesheetParser")),f=r(t("./bitmapFontParser")),d=function(t){function e(n,r){i(this,e);var a=o(this,t.call(this,n,r));l.default.call(a);for(var s=0;s<e._pixiMiddleware.length;++s)a.use(e._pixiMiddleware[s]());return a.onStart.add(function(t){return a.emit("start",t)}),a.onProgress.add(function(t,e){return a.emit("progress",t,e)}),a.onError.add(function(t,e,n){return a.emit("error",t,e,n)}),a.onLoad.add(function(t,e){return a.emit("load",t,e)}),a.onComplete.add(function(t,e){return a.emit("complete",t,e)}),a}return a(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(s.default);n.default=d;for(var p in l.default.prototype)d.prototype[p]=l.default.prototype[p];d._pixiMiddleware=[u.blobMiddlewareFactory,c.default,h.default,f.default];var v=s.default.Resource;v.setExtensionXhrType("fnt",v.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":189,"./spritesheetParser":192,"./textureParser":193,eventemitter3:39,"resource-loader":236,"resource-loader/lib/middlewares/parsing/blob":237}],192:[function(t,e,n){"use strict";function r(t,e){return t.isDataUrl?t.data.meta.image:o.default.resolve(t.url.replace(e,""),t.data.meta.image)}n.__esModule=!0,n.default=function(){return function(t,e){var n=t.name+"_image";if(t.data&&t.type===i.Resource.TYPE.JSON&&t.data.frames&&!this.resources[n]){var o={crossOrigin:t.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t},s=r(t,this.baseUrl);this.add(n,s,o,function(n){var r=new a.Spritesheet(n.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})})}else e()}},n.getResourcePath=r;var i=t("resource-loader"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("url")),a=t("../core")},{"../core":93,"resource-loader":236,url:245}],193:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(){return function(t,e){t.data&&t.type===r.Resource.TYPE.IMAGE&&(t.texture=i.default.fromLoader(t.data,t.url,t.name)),e()}};var r=t("resource-loader"),i=function(t){return t&&t.__esModule?t:{default:t}}(t("../core/textures/Texture"))},{"../core/textures/Texture":143,"resource-loader":236}],194:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),u=function(t){return t&&t.__esModule?t:{default:t}}(t("../extras/TextureTransform")),l=new s.Point,c=new s.Polygon,h=function(t){function e(n,o,a,l,c){r(this,e);var h=i(this,t.call(this));return h._texture=n,h.uvs=a||new Float32Array([0,0,1,0,1,1,0,1]),h.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),h.indices=l||new Uint16Array([0,1,3,2]),h.dirty=0,h.indexDirty=0,h.blendMode=s.BLEND_MODES.NORMAL,h.canvasPadding=0,h.drawMode=c||e.DRAW_MODES.TRIANGLE_MESH,h.shader=null,h.tintRgb=new Float32Array([1,1,1]),h._glDatas={},h._uvTransform=new u.default(n),h.uploadUvTransform=!1,h.pluginName="mesh",h}return o(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,l);for(var n=this.vertices,r=c.points,i=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var u=2*i[s],h=2*i[s+1],f=2*i[s+2];if(r[0]=n[u],r[1]=n[u+1],r[2]=n[h],r[3]=n[h+1],r[4]=n[f],r[5]=n[f+1],c.contains(l.x,l.y))return!0}return!1},a(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return s.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=s.utils.hex2rgb(t,this.tintRgb)}}]),e}(s.Container);n.default=h,h.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":93,"../extras/TextureTransform":164}],195:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=10,u=function(t){function e(n,o,a,u,l){r(this,e);var c=i(this,t.call(this,n,4,4));return c._origWidth=n.orig.width,c._origHeight=n.orig.height,c._width=c._origWidth,c._height=c._origHeight,c.leftWidth=void 0!==o?o:s,c.rightWidth=void 0!==u?u:s,c.topHeight=void 0!==a?a:s,c.bottomHeight=void 0!==l?l:s,c.refresh(!0),c}return o(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha;var n=this.worldTransform,r=t.resolution;t.roundPixels?e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):e.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r);var i=this._texture.baseTexture,o=i.source,a=i.width,s=i.height;this.drawSegment(e,o,a,s,0,1,10,11),this.drawSegment(e,o,a,s,2,3,12,13),this.drawSegment(e,o,a,s,4,5,14,15),this.drawSegment(e,o,a,s,8,9,18,19),this.drawSegment(e,o,a,s,10,11,20,21),this.drawSegment(e,o,a,s,12,13,22,23),this.drawSegment(e,o,a,s,16,17,26,27),this.drawSegment(e,o,a,s,18,19,28,29),this.drawSegment(e,o,a,s,20,21,30,31)},e.prototype.drawSegment=function(t,e,n,r,i,o,a,s){var u=this.uvs,l=this.vertices,c=(u[a]-u[i])*n,h=(u[s]-u[o])*r,f=l[a]-l[i],d=l[s]-l[o];c<1&&(c=1),h<1&&(h=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[i]*n,u[o]*r,c,h,l[i],l[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,n=this._texture;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var r=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty=!0,this.multiplyUvs()},a(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./Plane")).default);n.default=u},{"./Plane":196}],196:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){return t&&t.__esModule?t:{default:t}}(t("./Mesh")),s=function(t){function e(n,o,s){r(this,e);var u=i(this,t.call(this,n));return u._ready=!0,u.verticesX=o||10,u.verticesY=s||10,u.drawMode=a.default.DRAW_MODES.TRIANGLES,u.refresh(),u}return o(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,n=[],r=[],i=[],o=[],a=this.verticesX-1,s=this.verticesY-1,u=t.width/a,l=t.height/s,c=0;c<e;c++){var h=c%this.verticesX,f=c/this.verticesX|0;n.push(h*u,f*l),i.push(h/a,f/s)}for(var d=a*s,p=0;p<d;p++){var v=p%a,y=p/a|0,g=y*this.verticesX+v,_=y*this.verticesX+v+1,m=(y+1)*this.verticesX+v,b=(y+1)*this.verticesX+v+1;o.push(g,_,m),o.push(_,b,m)}this.vertices=new Float32Array(n),this.uvs=new Float32Array(i),this.colors=new Float32Array(r),this.indices=new Uint16Array(o),this.indexDirty=!0,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){a.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(a.default);n.default=s},{"./Mesh":194}],197:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){function e(n,o){r(this,e);var a=i(this,t.call(this,n));return a.points=o,a.vertices=new Float32Array(4*o.length),a.uvs=new Float32Array(4*o.length),a.colors=new Float32Array(2*o.length),a.indices=new Uint16Array(2*o.length),a.autoUpdate=!0,a.refresh(),a}return o(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,n=this.indices,r=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,n[0]=0,n[1]=1;for(var i=t.length,o=1;o<i;o++){var a=4*o,s=o/(i-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,r[a=2*o]=1,r[a+1]=1,n[a=2*o]=a,n[a+1]=a+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],n=void 0,r=0,i=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((n=s<t.length-1?t[s+1]:u).x-e.x),r=n.y-e.y;var c=10*(1-s/(a-1));c>1&&(c=1);var h=Math.sqrt(r*r+i*i),f=this._texture.height/2;r/=h,i/=h,r*=f,i*=f,o[l]=u.x+r,o[l+1]=u.y+i,o[l+2]=u.x-r,o[l+3]=u.y-i,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(function(t){return t&&t.__esModule?t:{default:t}}(t("./Mesh")).default);n.default=a},{"./Mesh":194}],198:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../Mesh")),a=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,n=e.context,r=t.worldTransform,i=e.resolution;e.roundPixels?n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i|0,r.ty*i|0):n.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,r.tx*i,r.ty*i),e.setBlendMode(t.blendMode),t.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,n=0;n<e-2;n++){var r=2*n;this._renderDrawTriangle(t,r,r+2,r+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,n=e.length,r=0;r<n;r+=3){var i=2*e[r],o=2*e[r+1],a=2*e[r+2];this._renderDrawTriangle(t,i,o,a)}},t.prototype._renderDrawTriangle=function(t,e,n,r){var i=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,l=u.source,c=u.width,h=u.height,f=void 0,d=void 0,p=void 0,v=void 0,y=void 0,g=void 0;if(t.uploadUvTransform){var _=t._uvTransform.mapCoord;f=(o[e]*_.a+o[e+1]*_.c+_.tx)*u.width,d=(o[n]*_.a+o[n+1]*_.c+_.tx)*u.width,p=(o[r]*_.a+o[r+1]*_.c+_.tx)*u.width,v=(o[e]*_.b+o[e+1]*_.d+_.ty)*u.height,y=(o[n]*_.b+o[n+1]*_.d+_.ty)*u.height,g=(o[r]*_.b+o[r+1]*_.d+_.ty)*u.height}else f=o[e]*u.width,d=o[n]*u.width,p=o[r]*u.width,v=o[e+1]*u.height,y=o[n+1]*u.height,g=o[r+1]*u.height;var m=a[e],b=a[n],x=a[r],w=a[e+1],T=a[n+1],E=a[r+1];if(t.canvasPadding>0){var M=t.canvasPadding/t.worldTransform.a,S=t.canvasPadding/t.worldTransform.d,O=(m+b+x)/3,C=(w+T+E)/3,A=m-O,P=w-C,R=Math.sqrt(A*A+P*P);m=O+A/R*(R+M),w=C+P/R*(R+S),P=T-C,b=O+(A=b-O)/(R=Math.sqrt(A*A+P*P))*(R+M),T=C+P/R*(R+S),P=E-C,x=O+(A=x-O)/(R=Math.sqrt(A*A+P*P))*(R+M),E=C+P/R*(R+S)}i.save(),i.beginPath(),i.moveTo(m,w),i.lineTo(b,T),i.lineTo(x,E),i.closePath(),i.clip();var I=f*y+v*p+d*g-y*p-v*d-f*g,D=m*y+v*x+b*g-y*x-v*b-m*g,L=f*b+m*p+d*x-b*p-m*d-f*x,k=f*y*x+v*b*p+m*d*g-m*y*p-v*d*x-f*b*g,N=w*y+v*E+T*g-y*E-v*T-w*g,j=f*T+w*p+d*E-T*p-w*d-f*E,B=f*y*E+v*T*p+w*d*g-w*y*p-v*d*E-f*T*g;i.transform(D/I,N/I,L/I,j/I,k/I,B/I),i.drawImage(l,0,0,c*u.resolution,h*u.resolution,0,0,c,h),i.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,n=t.vertices,r=n.length/2;e.beginPath();for(var i=1;i<r-2;++i){var o=2*i,a=n[o],s=n[o+1],u=n[o+2],l=n[o+3],c=n[o+4],h=n[o+5];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(c,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();n.default=a,i.CanvasRenderer.registerPlugin("mesh",a)},{"../../core":93,"../Mesh":194}],199:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("./Mesh");Object.defineProperty(n,"Mesh",{enumerable:!0,get:function(){return r(i).default}});var o=t("./webgl/MeshRenderer");Object.defineProperty(n,"MeshRenderer",{enumerable:!0,get:function(){return r(o).default}});var a=t("./canvas/CanvasMeshRenderer");Object.defineProperty(n,"CanvasMeshRenderer",{enumerable:!0,get:function(){return r(a).default}});var s=t("./Plane");Object.defineProperty(n,"Plane",{enumerable:!0,get:function(){return r(s).default}});var u=t("./NineSlicePlane");Object.defineProperty(n,"NineSlicePlane",{enumerable:!0,get:function(){return r(u).default}});var l=t("./Rope");Object.defineProperty(n,"Rope",{enumerable:!0,get:function(){return r(l).default}})},{"./Mesh":194,"./NineSlicePlane":195,"./Plane":196,"./Rope":197,"./canvas/CanvasMeshRenderer":198,"./webgl/MeshRenderer":200}],200:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),u=r(t("pixi-gl-core")),l=r(t("../Mesh")),c=(t("path"),s.Matrix.IDENTITY),h=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.shader=null,r}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,n=e.gl,r=t._texture;if(r.valid){var i=t._glDatas[e.CONTEXT_UID];i||(e.bindVao(null),(i={shader:this.shader,vertexBuffer:u.default.GLBuffer.createVertexBuffer(n,t.vertices,n.STREAM_DRAW),uvBuffer:u.default.GLBuffer.createVertexBuffer(n,t.uvs,n.STREAM_DRAW),indexBuffer:u.default.GLBuffer.createIndexBuffer(n,t.indices,n.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new u.default.VertexArrayObject(n).addIndex(i.indexBuffer).addAttribute(i.vertexBuffer,i.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(i.uvBuffer,i.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=i),e.bindVao(i.vao),t.dirty!==i.dirty&&(i.dirty=t.dirty,i.uvBuffer.upload(t.uvs)),t.indexDirty!==i.indexDirty&&(i.indexDirty=t.indexDirty,i.indexBuffer.upload(t.indices)),i.vertexBuffer.upload(t.vertices),e.bindShader(i.shader),i.shader.uniforms.uSampler=e.bindTexture(r),e.state.setBlendMode(s.utils.correctBlendMode(t.blendMode,r.baseTexture.premultipliedAlpha)),i.shader.uniforms.uTransform&&(t.uploadUvTransform?i.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):i.shader.uniforms.uTransform=c.toArray(!0)),i.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),i.shader.uniforms.uColor=s.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,i.shader.uniforms.uColor,r.baseTexture.premultipliedAlpha);var o=t.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES;i.vao.draw(o,t.indices.length,0)}},e}(s.ObjectRenderer);n.default=h,s.WebGLRenderer.registerPlugin("mesh",h)},{"../../core":93,"../Mesh":194,path:50,"pixi-gl-core":57}],201:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),u=t("../core/utils"),l=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,o=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384;r(this,e);var u=i(this,t.call(this));return a>16384&&(a=16384),a>n&&(a=n),u._properties=[!1,!0,!1,!1,!1],u._maxSize=n,u._batchSize=a,u._glBuffers={},u._bufferToUpdate=0,u.interactiveChildren=!1,u.blendMode=s.BLEND_MODES.NORMAL,u.roundPixels=!0,u.baseTexture=null,u.setProperties(o),u._tint=0,u.tintRgb=new Float32Array(4),u.tint=16777215,u}return o(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,n=this.worldTransform,r=!0,i=0,o=0,a=0,s=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var l=this.children[u];if(l.visible){var c=l._texture.frame;if(e.globalAlpha=this.worldAlpha*l.alpha,l.rotation%(2*Math.PI)==0)r&&(e.setTransform(n.a,n.b,n.c,n.d,n.tx*t.resolution,n.ty*t.resolution),r=!1),i=l.anchor.x*(-c.width*l.scale.x)+l.position.x+.5,o=l.anchor.y*(-c.height*l.scale.y)+l.position.y+.5,a=c.width*l.scale.x,s=c.height*l.scale.y;else{r||(r=!0),l.displayObjectUpdateTransform();var h=l.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0):e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution),i=l.anchor.x*-c.width+.5,o=l.anchor.y*-c.height+.5,a=c.width,s=c.height}var f=l._texture.baseTexture.resolution;e.drawImage(l._texture.baseTexture.source,c.x*f,c.y*f,c.width*f,c.height*f,i*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null},a(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,u.hex2rgb)(t,this.tintRgb)}}]),e}(s.Container);n.default=l},{"../core":93,"../core/utils":152}],202:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("./ParticleContainer");Object.defineProperty(n,"ParticleContainer",{enumerable:!0,get:function(){return r(i).default}});var o=t("./webgl/ParticleRenderer");Object.defineProperty(n,"ParticleRenderer",{enumerable:!0,get:function(){return r(o).default}})},{"./ParticleContainer":201,"./webgl/ParticleRenderer":204}],203:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=r(t("pixi-gl-core")),a=r(t("../../core/utils/createIndicesForQuads")),s=function(){function t(e,n,r,o){i(this,t),this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<n.length;++a){var s=n[a];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,offset:s.offset},r[a]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,a.default)(this.size),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var r=this.dynamicProperties[n];r.offset=e,e+=r.size,this.dynamicStride+=r.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=o.default.GLBuffer.createVertexBuffer(t,this.dynamicData,t.STREAM_DRAW);var i=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var u=this.staticProperties[s];u.offset=i,i+=u.size,this.staticStride+=u.size}this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=o.default.GLBuffer.createVertexBuffer(t,this.staticData,t.STATIC_DRAW),this.vao=new o.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var l=0;l<this.dynamicProperties.length;++l){var c=this.dynamicProperties[l];this.vao.addAttribute(this.dynamicBuffer,c.attribute,t.FLOAT,!1,4*this.dynamicStride,4*c.offset)}for(var h=0;h<this.staticProperties.length;++h){var f=this.staticProperties[h];this.vao.addAttribute(this.staticBuffer,f.attribute,t.FLOAT,!1,4*this.staticStride,4*f.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,this.staticData,this.staticStride,i.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},t}();n.default=s},{"../../core/utils/createIndicesForQuads":150,"pixi-gl-core":57}],204:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),u=r(t("./ParticleShader")),l=r(t("./ParticleBuffer")),c=function(t){function e(n){i(this,e);var r=o(this,t.call(this,n));return r.shader=null,r.indexBuffer=null,r.properties=null,r.tempMatrix=new s.Matrix,r.CONTEXT_UID=0,r}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new u.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,n=t._maxSize,r=t._batchSize,i=this.renderer,o=e.length;if(0!==o){o>n&&(o=n);var a=t._glBuffers[i.CONTEXT_UID];a||(a=t._glBuffers[i.CONTEXT_UID]=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.renderer.setBlendMode(s.utils.correctBlendMode(t.blendMode,u.premultipliedAlpha));var l=i.gl,c=t.worldTransform.copy(this.tempMatrix);c.prepend(i._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=c.toArray(!0),this.shader.uniforms.uColor=s.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=i.bindTexture(u);for(var h=0,f=0;h<o;h+=r,f+=1){var d=o-h;d>r&&(d=r);var p=a[f];p.uploadDynamic(e,h,d),t._bufferToUpdate===f&&(p.uploadStatic(e,h,d),t._bufferToUpdate=f+1),i.bindVao(p.vao),p.vao.draw(l.TRIANGLES,6*d)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,n=[],r=t._maxSize,i=t._batchSize,o=t._properties,a=0;a<r;a+=i)n.push(new l.default(e,this.properties,o,i));return n},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var a=0,s=0,u=0,l=0,c=0;c<n;++c){var h=t[e+c],f=h._texture,d=h.scale.x,p=h.scale.y,v=f.trim,y=f.orig;v?(a=(s=v.x-h.anchor.x*y.width)+v.width,u=(l=v.y-h.anchor.y*y.height)+v.height):(a=y.width*(1-h.anchor.x),s=y.width*-h.anchor.x,u=y.height*(1-h.anchor.y),l=y.height*-h.anchor.y),r[o]=s*d,r[o+1]=l*p,r[o+i]=a*d,r[o+i+1]=l*p,r[o+2*i]=a*d,r[o+2*i+1]=u*p,r[o+3*i]=s*d,r[o+3*i+1]=u*p,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadAlpha=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].alpha;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(s.ObjectRenderer);n.default=c,s.WebGLRenderer.registerPlugin("particle",c)},{"../../core":93,"./ParticleBuffer":203,"./ParticleShader":205}],205:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.__esModule=!0;var a=function(t){function e(n){return r(this,e),i(this,t.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform vec4 uColor;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uColor;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../../core/Shader")).default);n.default=a},{"../../core/Shader":72}],206:[function(t,e,n){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1})},{}],207:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(t("object-assign"));Object.assign||(Object.assign=r.default)},{"object-assign":48}],208:[function(t,e,n){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":206,"./Object.assign":207,"./requestAnimationFrame":209}],209:[function(t,e,n){(function(t){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var n=Date.now(),r=["ms","moz","webkit","o"],i=0;i<r.length&&!t.requestAnimationFrame;++i){var o=r[i];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),r=16+n-e;return r<0&&(r=0),n=e,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],210:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof h.Texture){var i=t._textures[r].baseTexture;-1===e.indexOf(i)&&(e.push(i),n=!0)}return n}function o(t,e){return t instanceof h.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function a(t,e){if(t._texture&&t._texture instanceof h.Texture){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function s(t,e){return e instanceof h.Text&&(e.updateText(!0),!0)}function u(t,e){if(e instanceof h.TextStyle){var n=e.toFontString();return h.TextMetrics.measureFont(n),!0}return!1}function l(t,e){if(t instanceof h.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function c(t,e){return t instanceof h.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}n.__esModule=!0;var h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../core")),f=function(t){return t&&t.__esModule?t:{default:t}}(t("./limiters/CountLimiter")),d=h.ticker.shared;h.settings.UPLOADS_PER_FRAME=4;var p=function(){function t(e){var n=this;r(this,t),this.limiter=new f.default(h.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.registerFindHook(l),this.registerFindHook(c),this.registerFindHook(i),this.registerFindHook(o),this.registerFindHook(a),this.registerUploadHook(s),this.registerUploadHook(u)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,d.addOnce(this.tick,this,h.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)d.addOnce(this.tick,this,h.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(var o=0,a=i.length;o<a;o++)i[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof h.Container)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},t.prototype.destroy=function(){this.ticking&&d.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();n.default=p},{"../core":93,"./limiters/CountLimiter":213}],211:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(e instanceof s.BaseTexture){var n=e.source,r=0===n.width?t.canvas.width:Math.min(t.canvas.width,n.width),i=0===n.height?t.canvas.height:Math.min(t.canvas.height,n.height);return t.ctx.drawImage(n,0,0,r,i,0,0,t.canvas.width,t.canvas.height),!0}return!1}n.__esModule=!0;var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),u=16,l=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.uploadHookHelper=o,o.canvas=document.createElement("canvas"),o.canvas.width=u,o.canvas.height=u,o.ctx=o.canvas.getContext("2d"),o.registerUploadHook(a),o}return o(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../BasePrepare")).default);n.default=l,s.CanvasRenderer.registerPlugin("prepare",l)},{"../../core":93,"../BasePrepare":210}],212:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=t("./webgl/WebGLPrepare");Object.defineProperty(n,"webgl",{enumerable:!0,get:function(){return r(i).default}});var o=t("./canvas/CanvasPrepare");Object.defineProperty(n,"canvas",{enumerable:!0,get:function(){return r(o).default}});var a=t("./BasePrepare");Object.defineProperty(n,"BasePrepare",{enumerable:!0,get:function(){return r(a).default}});var s=t("./limiters/CountLimiter");Object.defineProperty(n,"CountLimiter",{enumerable:!0,get:function(){return r(s).default}});var u=t("./limiters/TimeLimiter");Object.defineProperty(n,"TimeLimiter",{enumerable:!0,get:function(){return r(u).default}})},{"./BasePrepare":210,"./canvas/CanvasPrepare":211,"./limiters/CountLimiter":213,"./limiters/TimeLimiter":214,"./webgl/WebGLPrepare":215}],213:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(e){r(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();n.default=i},{}],214:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function t(e){r(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();n.default=i},{}],215:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return e instanceof l.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function s(t,e){return e instanceof l.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function u(t,e){return t instanceof l.Graphics&&(e.push(t),!0)}n.__esModule=!0;var l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../core")),c=function(t){function e(n){r(this,e);var o=i(this,t.call(this,n));return o.uploadHookHelper=o.renderer,o.registerFindHook(u),o.registerUploadHook(a),o.registerUploadHook(s),o}return o(e,t),e}(function(t){return t&&t.__esModule?t:{default:t}}(t("../BasePrepare")).default);n.default=c,l.WebGLRenderer.registerPlugin("prepare",c)},{"../../core":93,"../BasePrepare":210}],216:[function(t,e,n){(function(t){"use strict";!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick(function(){e.apply(null,o)})}}:e.exports=t.nextTick}).call(this,t("_process"))},{_process:217}],217:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===r||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function a(t){if(f===clearTimeout)return clearTimeout(t);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){y&&p&&(y=!1,p.length?v=p.concat(v):g=-1,v.length&&u())}function u(){if(!y){var t=o(s);y=!0;for(var e=v.length;e;){for(p=v,v=[];++g<e;)p&&p[g].run();g=-1,e=v.length}p=null,y=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var h,f,d=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:r}catch(t){h=r}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(t){f=i}}();var p,v=[],y=!1,g=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new l(t,e)),1!==v.length||y||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],218:[function(t,e,n){(function(t){!function(r){function i(t){throw new RangeError(R[t])}function o(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function a(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+o((t=t.replace(P,".")).split("."),e).join(".")}function s(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function u(t){return o(t,function(t){var e="";return t>65535&&(e+=L((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function l(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:b}function c(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function h(t,e,n){var r=0;for(t=n?D(t/E):t>>1,t+=D(t/e);t>I*w>>1;r+=b)t=D(t/I);return D(r+(I+1)*t/(t+T))}function f(t){var e,n,r,o,a,s,c,f,d,p,v=[],y=t.length,g=0,_=S,T=M;for((n=t.lastIndexOf(O))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&i("not-basic"),v.push(t.charCodeAt(r));for(o=n>0?n+1:0;o<y;){for(a=g,s=1,c=b;o>=y&&i("invalid-input"),((f=l(t.charCodeAt(o++)))>=b||f>D((m-g)/s))&&i("overflow"),g+=f*s,d=c<=T?x:c>=T+w?w:c-T,!(f<d);c+=b)s>D(m/(p=b-d))&&i("overflow"),s*=p;T=h(g-a,e=v.length+1,0==a),D(g/e)>m-_&&i("overflow"),_+=D(g/e),g%=e,v.splice(g++,0,_)}return u(v)}function d(t){var e,n,r,o,a,u,l,f,d,p,v,y,g,_,T,E=[];for(y=(t=s(t)).length,e=S,n=0,a=M,u=0;u<y;++u)(v=t[u])<128&&E.push(L(v));for(r=o=E.length,o&&E.push(O);r<y;){for(l=m,u=0;u<y;++u)(v=t[u])>=e&&v<l&&(l=v);for(l-e>D((m-n)/(g=r+1))&&i("overflow"),n+=(l-e)*g,e=l,u=0;u<y;++u)if((v=t[u])<e&&++n>m&&i("overflow"),v==e){for(f=n,d=b;p=d<=a?x:d>=a+w?w:d-a,!(f<p);d+=b)T=f-p,_=b-p,E.push(L(c(p+T%_,0))),f=D(T/_);E.push(L(c(f,0))),a=h(n,g,r==o),n=0,++r}++n,++e}return E.join("")}var p="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof e&&e&&!e.nodeType&&e,y="object"==typeof t&&t;y.global!==y&&y.window!==y&&y.self!==y||(r=y);var g,_,m=2147483647,b=36,x=1,w=26,T=38,E=700,M=72,S=128,O="-",C=/^xn--/,A=/[^\x20-\x7E]/,P=/[\x2E\u3002\uFF0E\uFF61]/g,R={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=b-x,D=Math.floor,L=String.fromCharCode;if(g={version:"1.4.1",ucs2:{decode:s,encode:u},decode:f,encode:d,toASCII:function(t){return a(t,function(t){return A.test(t)?"xn--"+d(t):t})},toUnicode:function(t){return a(t,function(t){return C.test(t)?f(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return g});else if(p&&v)if(e.exports==p)v.exports=g;else for(_ in g)g.hasOwnProperty(_)&&(p[_]=g[_]);else r.punycode=g}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],219:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,f,d,p,v=t[c].replace(s,"%20"),y=v.indexOf(n);y>=0?(h=v.substr(0,y),f=v.substr(y+1)):(h=v,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),r(a,d)?i(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],220:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(i(a))+n;return o(t[a])?r(t[a],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[a]))}).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],221:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":219,"./encode":220}],222:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);l.call(this,t),c.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a(o,this)}function o(t){t.end()}var a=t("process-nextick-args"),s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};e.exports=r;var u=t("core-util-is");u.inherits=t("inherits");var l=t("./_stream_readable"),c=t("./_stream_writable");u.inherits(r,l);for(var h=s(c.prototype),f=0;f<h.length;f++){var d=h[f];r.prototype[d]||(r.prototype[d]=c.prototype[d])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),a(e,t)}},{"./_stream_readable":224,"./_stream_writable":226,"core-util-is":7,inherits:43,"process-nextick-args":216}],223:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}e.exports=r;var i=t("./_stream_transform"),o=t("core-util-is");o.inherits=t("inherits"),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":225,"core-util-is":7,inherits:43}],224:[function(t,e,n){(function(n,r){"use strict";function i(t){return j.from(t)}function o(t){return j.isBuffer(t)||t instanceof B}function a(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?L(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function s(e,n){D=D||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,n instanceof D&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(W||(W=t("string_decoder/").StringDecoder),this.decoder=new W(e.encoding),this.encoding=e.encoding)}function u(e){if(D=D||t("./_stream_duplex"),!(this instanceof u))return new u(e);this._readableState=new s(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),N.call(this)}function l(t,e,n,r,o){var a=t._readableState;if(null===e)a.reading=!1,v(t,a);else{var s;o||(s=h(a,e)),s?t.emit("error",s):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===j.prototype||(e=i(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):c(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?c(t,a,e,!1):_(t,a)):c(t,a,e,!1))):r||(a.reading=!1)}return f(a)}function c(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&y(t)),_(t,e)}function h(t,e){var n;return o(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function f(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function d(t){return t>=q?t=q:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function p(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=d(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function v(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,y(t)}}function y(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(X("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?I(g,t):g(t))}function g(t){X("emit readable"),t.emit("readable"),E(t)}function _(t,e){e.readingMore||(e.readingMore=!0,I(m,t,e))}function m(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(X("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function b(t){return function(){var e=t._readableState;X("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&k(t,"data")&&(e.flowing=!0,E(t))}}function x(t){X("readable nexttick read 0"),t.read(0)}function w(t,e){e.resumeScheduled||(e.resumeScheduled=!0,I(T,t,e))}function T(t,e){e.reading||(X("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),E(t),e.flowing&&!e.reading&&t.read(0)}function E(t){var e=t._readableState;for(X("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=S(t,e.buffer,e.decoder),n}function S(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?O(t,e):C(t,e),r}function O(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}function C(t,e){var n=j.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}function A(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,I(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var I=t("process-nextick-args");e.exports=u;var D,L=t("isarray");u.ReadableState=s;t("events").EventEmitter;var k=function(t,e){return t.listeners(e).length},N=t("./internal/streams/stream"),j=t("safe-buffer").Buffer,B=r.Uint8Array||function(){},F=t("core-util-is");F.inherits=t("inherits");var U=t("util"),X=void 0;X=U&&U.debuglog?U.debuglog("stream"):function(){};var W,z=t("./internal/streams/BufferList"),H=t("./internal/streams/destroy");F.inherits(u,N);var G=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),u.prototype.destroy=H.destroy,u.prototype._undestroy=H.undestroy,u.prototype._destroy=function(t,e){this.push(null),e(t)},u.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=j.from(t,e),e=""),n=!0),l(this,t,e,!1,n)},u.prototype.unshift=function(t){return l(this,t,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(e){return W||(W=t("string_decoder/").StringDecoder),this._readableState.decoder=new W(e),this._readableState.encoding=e,this};var q=8388608;u.prototype.read=function(t){X("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return X("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?A(this):y(this),null;if(0===(t=p(t,e))&&e.ended)return 0===e.length&&A(this),null;var r=e.needReadable;X("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&X("length less than watermark",r=!0),e.ended||e.reading?X("reading or ended",r=!1):r&&(X("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=p(n,e)));var i;return null===(i=t>0?M(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&A(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(t,e){function r(t,e){X("onunpipe"),t===f&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,o())}function i(){X("onend"),t.end()}function o(){X("cleanup"),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("drain",v),t.removeListener("error",u),t.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",h),f.removeListener("data",s),y=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||v()}function s(e){X("ondata"),g=!1,!1!==t.write(e)||g||((1===d.pipesCount&&d.pipes===t||d.pipesCount>1&&-1!==R(d.pipes,t))&&!y&&(X("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,g=!0),f.pause())}function u(e){X("onerror",e),h(),t.removeListener("error",u),0===k(t,"error")&&t.emit("error",e)}function l(){t.removeListener("finish",c),h()}function c(){X("onfinish"),t.removeListener("close",l),h()}function h(){X("unpipe"),f.unpipe(t)}var f=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,X("pipe count=%d opts=%j",d.pipesCount,e);var p=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?i:h;d.endEmitted?I(p):f.once("end",p),t.on("unpipe",r);var v=b(f);t.on("drain",v);var y=!1,g=!1;return f.on("data",s),a(t,"error",u),t.once("close",l),t.once("finish",c),t.emit("pipe",f),d.flowing||(X("pipe resume"),f.resume()),t},u.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=R(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},u.prototype.on=function(t,e){var n=N.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&y(this):I(x,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var t=this._readableState;return t.flowing||(X("resume"),t.flowing=!0,w(this,t)),this},u.prototype.pause=function(){return X("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(X("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(X("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){X("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)&&(r.push(i)||(n=!0,t.pause()))});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<G.length;o++)t.on(G[o],r.emit.bind(r,G[o]));return r._read=function(e){X("wrapped _read",e),n&&(n=!1,t.resume())},r},u._fromList=M}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":222,"./internal/streams/BufferList":227,"./internal/streams/destroy":228,"./internal/streams/stream":229,_process:217,"core-util-is":7,events:40,inherits:43,isarray:45,"process-nextick-args":216,"safe-buffer":238,"string_decoder/":243,util:3}],225:[function(t,e,n){"use strict";function r(t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);s.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(e)})}function a(t,e,n){if(e)return t.emit("error",e);null!==n&&void 0!==n&&t.push(n);var r=t._writableState,i=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}e.exports=o;var s=t("./_stream_duplex"),u=t("core-util-is");u.inherits=t("inherits"),u.inherits(o,s),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;s.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},{"./_stream_duplex":222,"core-util-is":7,inherits:43}],226:[function(t,e,n){(function(n,r){"use strict";function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){S(e,t)}}function o(t){return D.from(t)}function a(t){return D.isBuffer(t)||t instanceof L}function s(){}function u(e,n){C=C||t("./_stream_duplex"),e=e||{},this.objectMode=!!e.objectMode,n instanceof C&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){g(n,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function l(e){if(C=C||t("./_stream_duplex"),!(N.call(l,this)||this instanceof C))return new l(e);this._writableState=new u(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),I.call(this)}function c(t,e){var n=new Error("write after end");t.emit("error",n),O(e,n)}function h(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),O(r,o),i=!1),i}function f(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=D.from(e,n)),e}function d(t,e,n,r,i,o){if(!n){var a=f(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else p(t,e,!1,s,r,i,o);return u}function p(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function v(t,e,n,r,i){--e.pendingcb,n?(O(i,r),O(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}function y(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function g(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(y(n),e)v(t,n,r,e,i);else{var o=x(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||b(t,n),r?A(_,t,n,o,i):_(t,n,o,i)}}function _(t,e,n,r){n||m(t,e),e.pendingcb--,r(),E(t,e)}function m(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function b(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,o=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,p(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e)}else{for(;n;){var l=n.chunk,c=n.encoding,h=n.callback;if(p(t,e,!1,e.objectMode?1:l.length,l,c,h),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function w(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)})}function T(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,O(w,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function E(t,e){var n=x(e);return n&&(T(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function M(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?O(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function S(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var O=t("process-nextick-args");e.exports=l;var C,A=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:O;l.WritableState=u;var P=t("core-util-is");P.inherits=t("inherits");var R={deprecate:t("util-deprecate")},I=t("./internal/streams/stream"),D=t("safe-buffer").Buffer,L=r.Uint8Array||function(){},k=t("./internal/streams/destroy");P.inherits(l,I),u.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(u.prototype,"buffer",{get:R.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var N;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(t){return!!N.call(this,t)||t&&t._writableState instanceof u}})):N=function(t){return t instanceof this},l.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},l.prototype.write=function(t,e,n){var r=this._writableState,i=!1,u=a(t)&&!r.objectMode;return u&&!D.isBuffer(t)&&(t=o(t)),"function"==typeof e&&(n=e,e=null),u?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ended?c(this,n):(u||h(this,r,t,n))&&(r.pendingcb++,i=d(this,r,u,t,e,n)),i},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},l.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},l.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},l.prototype._writev=null,l.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||M(this,r,n)},Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),l.prototype.destroy=k.destroy,l.prototype._undestroy=k.undestroy,l.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":222,"./internal/streams/destroy":228,"./internal/streams/stream":229,_process:217,"core-util-is":7,inherits:43,"process-nextick-args":216,"safe-buffer":238,"util-deprecate":247}],227:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){t.copy(e,n)}var o=t("safe-buffer").Buffer;e.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),n=this.head,r=0;n;)i(n.data,e,r),r+=n.data.length,n=n.next;return e},t}()},{"safe-buffer":238}],228:[function(t,e,n){"use strict";function r(t,e){t.emit("error",e)}var i=t("process-nextick-args");e.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;o||a?e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i(r,this,t):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(i(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":216}],229:[function(t,e,n){e.exports=t("events").EventEmitter},{events:40}],230:[function(t,e,n){(n=e.exports=t("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":222,"./lib/_stream_passthrough.js":223,"./lib/_stream_readable.js":224,"./lib/_stream_transform.js":225,"./lib/_stream_writable.js":226}],231:[function(t,e,n){"use strict";e.exports=function(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}},{}],232:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=r(t("mini-signals")),s=r(t("parse-uri")),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./async")),l=r(t("./Resource")),c=/(#[\w-]+)?$/,h=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;i(this,t),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,n){return e._loadResource(t,n)},this._queue=u.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new a.default,this.onError=new a.default,this.onLoad=new a.default,this.onStart=new a.default,this.onComplete=new a.default}return t.prototype.add=function(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===(void 0===t?"undefined":o(t))&&(r=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new l.default(t,e,n),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var a=n.parentResource,s=[],u=0;u<a.children.length;++u)a.children[u].isComplete||s.push(a.children[u]);var c=a.progressChunk*(s.length+1)/(s.length+2);a.children.push(this.resources[t]),a.progressChunk=c;for(var h=0;h<s.length;++h)s[h].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),n=void 0;if(n=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=c.exec(n)[0];-1!==(n=n.substr(0,n.length-r.length)).indexOf("?")?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=r}return n},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,u.eachSeries(this._beforeMiddleware,function(e,r){e.call(n,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},t.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),u.eachSeries(this._afterMiddleware,function(n,r){n.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&(e.progress=100,e._onComplete())},!0)},t}();n.default=h},{"./Resource":233,"./async":234,"mini-signals":47,"parse-uri":49}],233:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}function a(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function s(t){return t.toString().replace("object ","")}n.__esModule=!0;var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=r(t("parse-uri")),c=r(t("mini-signals")),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),f=null,d=function(){function t(e,n,r){if(i(this,t),"string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return t.setExtensionLoadType=function(e,n){a(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){a(t._xhrTypeMap,e,n)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(n)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(s(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===r&&n.length>0?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||n;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,f||(f=document.createElement("a")),f.href=t;var n=!(t=(0,l.default)(f.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&r===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},u(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();n.default=d,d.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},d.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},d.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},d.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},d._loadTypeMap={gif:d.LOAD_TYPE.IMAGE,png:d.LOAD_TYPE.IMAGE,bmp:d.LOAD_TYPE.IMAGE,jpg:d.LOAD_TYPE.IMAGE,jpeg:d.LOAD_TYPE.IMAGE,tif:d.LOAD_TYPE.IMAGE,tiff:d.LOAD_TYPE.IMAGE,webp:d.LOAD_TYPE.IMAGE,tga:d.LOAD_TYPE.IMAGE,svg:d.LOAD_TYPE.IMAGE,"svg+xml":d.LOAD_TYPE.IMAGE,mp3:d.LOAD_TYPE.AUDIO,ogg:d.LOAD_TYPE.AUDIO,wav:d.LOAD_TYPE.AUDIO,mp4:d.LOAD_TYPE.VIDEO,webm:d.LOAD_TYPE.VIDEO},d._xhrTypeMap={xhtml:d.XHR_RESPONSE_TYPE.DOCUMENT,html:d.XHR_RESPONSE_TYPE.DOCUMENT,htm:d.XHR_RESPONSE_TYPE.DOCUMENT,xml:d.XHR_RESPONSE_TYPE.DOCUMENT,tmx:d.XHR_RESPONSE_TYPE.DOCUMENT,svg:d.XHR_RESPONSE_TYPE.DOCUMENT,tsx:d.XHR_RESPONSE_TYPE.DOCUMENT,gif:d.XHR_RESPONSE_TYPE.BLOB,png:d.XHR_RESPONSE_TYPE.BLOB,bmp:d.XHR_RESPONSE_TYPE.BLOB,jpg:d.XHR_RESPONSE_TYPE.BLOB,jpeg:d.XHR_RESPONSE_TYPE.BLOB,tif:d.XHR_RESPONSE_TYPE.BLOB,tiff:d.XHR_RESPONSE_TYPE.BLOB,webp:d.XHR_RESPONSE_TYPE.BLOB,tga:d.XHR_RESPONSE_TYPE.BLOB,json:d.XHR_RESPONSE_TYPE.JSON,text:d.XHR_RESPONSE_TYPE.TEXT,txt:d.XHR_RESPONSE_TYPE.TEXT,ttf:d.XHR_RESPONSE_TYPE.BUFFER,otf:d.XHR_RESPONSE_TYPE.BUFFER},d.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":47,"parse-uri":49}],234:[function(t,e,n){"use strict";function r(){}function i(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}n.__esModule=!0,n.eachSeries=function(t,e,n,r){var i=0,o=t.length;!function a(s){s||i===o?n&&n(s):r?setTimeout(function(){e(t[i++],a)},1):e(t[i++],a)}()},n.queue=function(t,e){function n(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())setTimeout(function(){return s.drain()},1);else{var i={data:t,callback:"function"==typeof n?n:r};e?s._tasks.unshift(i):s._tasks.push(i),setTimeout(function(){return s.process()},1)}}function o(t){return function(){a-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),a<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var a=0,s={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){a=0,s.drain=r,s.started=!1,s._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!s.paused&&a<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),(a+=1)===s.concurrency&&s.saturated(),t(e.data,i(o(e)))}},length:function(){return s._tasks.length},running:function(){return a},idle:function(){return s._tasks.length+a===0},pause:function(){!0!==s.paused&&(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};return s}},{}],235:[function(t,e,n){"use strict";n.__esModule=!0,n.encodeBinary=function(t){for(var e="",n=0;n<t.length;){for(var i=[0,0,0],o=[0,0,0,0],a=0;a<i.length;++a)n<t.length?i[a]=255&t.charCodeAt(n++):i[a]=0;switch(o[0]=i[0]>>2,o[1]=(3&i[0])<<4|i[1]>>4,o[2]=(15&i[1])<<2|i[2]>>6,o[3]=63&i[2],n-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var s=0;s<o.length;++s)e+=r.charAt(o[s])}return e};var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],236:[function(t,e,n){"use strict";var r=t("./Loader").default,i=t("./Resource").default,o=t("./async"),a=t("./b64");r.Resource=i,r.async=o,r.base64=a,e.exports=r,e.exports.default=r},{"./Loader":232,"./Resource":233,"./async":234,"./b64":235}],237:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===o.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=function(){var n=s.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=o.default.TYPE.IMAGE,t.data.onload=function(){s.revokeObjectURL(n),t.data.onload=null,e()},{v:void 0}}();if("object"===(void 0===n?"undefined":i(n)))return n.v}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+a.default.encodeBinary(t.xhr.responseText),t.type=o.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}};var o=r(t("../../Resource")),a=r(t("../../b64")),s=window.URL||window.webkitURL},{"../../Resource":233,"../../b64":235}],238:[function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return a(t,e,n)}var o=t("buffer"),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,n),n.Buffer=i),r(a,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},{buffer:5}],239:[function(t,e,n){(function(e){var r=t("./lib/request"),i=t("xtend"),o=t("builtin-status-codes"),a=t("url"),s=n;s.request=function(t,n){t="string"==typeof t?a.parse(t):i(t);var o=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||o,u=t.hostname||t.host,l=t.port,c=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(l?":"+l:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new r(t);return n&&h.on("response",n),h},s.get=function(t,e){var n=s.request(t,e);return n.end(),n},s.Agent=function(){},s.Agent.defaultMaxSockets=4,s.STATUS_CODES=o,s.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":241,"builtin-status-codes":6,url:245,xtend:249}],240:[function(t,e,n){(function(t){function e(){if(void 0!==o)return o;if(t.XMLHttpRequest){o=new t.XMLHttpRequest;try{o.open("GET",t.XDomainRequest?"/":"https://example.com")}catch(t){o=null}}else o=null;return o}function r(t){var n=e();if(!n)return!1;try{return n.responseType=t,n.responseType===t}catch(t){}return!1}function i(t){return"function"==typeof t}n.fetch=i(t.fetch)&&i(t.ReadableStream),n.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),n.blobConstructor=!0}catch(t){}var o,a=void 0!==t.ArrayBuffer,s=a&&i(t.ArrayBuffer.prototype.slice);n.arraybuffer=n.fetch||a&&r("arraybuffer"),n.msstream=!n.fetch&&s&&r("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&a&&r("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||!!e()&&i(e().overrideMimeType),n.vbArray=i(t.VBArray),o=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],241:[function(t,e,n){(function(n,r,i){function o(t,e){return s.fetch&&e?"fetch":s.mozchunkedarraybuffer?"moz-chunked-arraybuffer":s.msstream?"ms-stream":s.arraybuffer&&t?"arraybuffer":s.vbArray&&t?"text:vbarray":"text"}function a(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}}var s=t("./capability"),u=t("inherits"),l=t("./response"),c=t("readable-stream"),h=t("to-arraybuffer"),f=l.IncomingMessage,d=l.readyStates,p=e.exports=function(t){var e=this;c.Writable.call(e),e._opts=t,e._body=[],e._headers={},t.auth&&e.setHeader("Authorization","Basic "+new i(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(n){e.setHeader(n,t.headers[n])});var n,r=!0;if("disable-fetch"===t.mode||"timeout"in t)r=!1,n=!0;else if("prefer-streaming"===t.mode)n=!1;else if("allow-wrong-content-type"===t.mode)n=!s.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");n=!0}e._mode=o(n,r),e.on("finish",function(){e._onFinish()})};u(p,c.Writable),p.prototype.setHeader=function(t,e){var n=this,r=t.toLowerCase();-1===v.indexOf(r)&&(n._headers[r]={name:t,value:e})},p.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},p.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},p.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts,o=t._headers,a=null;"GET"!==e.method&&"HEAD"!==e.method&&(a=s.blobConstructor?new r.Blob(t._body.map(function(t){return h(t)}),{type:(o["content-type"]||{}).value||""}):i.concat(t._body).toString());var u=[];if(Object.keys(o).forEach(function(t){var e=o[t].name,n=o[t].value;Array.isArray(n)?n.forEach(function(t){u.push([e,t])}):u.push([e,n])}),"fetch"===t._mode)r.fetch(t._opts.url,{method:t._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin"}).then(function(e){t._fetchResponse=e,t._connect()},function(e){t.emit("error",e)});else{var l=t._xhr=new r.XMLHttpRequest;try{l.open(t._opts.method,t._opts.url,!0)}catch(e){return void n.nextTick(function(){t.emit("error",e)})}"responseType"in l&&(l.responseType=t._mode.split(":")[0]),"withCredentials"in l&&(l.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"timeout"in e&&(l.timeout=e.timeout,l.ontimeout=function(){t.emit("timeout")}),u.forEach(function(t){l.setRequestHeader(t[0],t[1])}),t._response=null,l.onreadystatechange=function(){switch(l.readyState){case d.LOADING:case d.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(l.onprogress=function(){t._onXHRProgress()}),l.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{l.send(a)}catch(e){return void n.nextTick(function(){t.emit("error",e)})}}}},p.prototype._onXHRProgress=function(){var t=this;a(t._xhr)&&!t._destroyed&&(t._response||t._connect(),t._response._onXHRProgress())},p.prototype._connect=function(){var t=this;t._destroyed||(t._response=new f(t._xhr,t._fetchResponse,t._mode),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},p.prototype._write=function(t,e,n){this._body.push(t),n()},p.prototype.abort=p.prototype.destroy=function(){var t=this;t._destroyed=!0,t._response&&(t._response._destroyed=!0),t._xhr&&t._xhr.abort()},p.prototype.end=function(t,e,n){var r=this;"function"==typeof t&&(n=t,t=void 0),c.Writable.prototype.end.call(r,t,e,n)},p.prototype.flushHeaders=function(){},p.prototype.setTimeout=function(){},p.prototype.setNoDelay=function(){},p.prototype.setSocketKeepAlive=function(){};var v=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./capability":240,"./response":242,_process:217,buffer:5,inherits:43,"readable-stream":230,"to-arraybuffer":244}],242:[function(t,e,n){(function(e,r,i){var o=t("./capability"),a=t("inherits"),s=t("readable-stream"),u=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=n.IncomingMessage=function(t,n,r){function a(){l.read().then(function(t){u._destroyed||(t.done?u.push(null):(u.push(new i(t.value)),a()))}).catch(function(t){u.emit("error",t)})}var u=this;if(s.Readable.call(u),u._mode=r,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){e.nextTick(function(){u.emit("close")})}),"fetch"===r){u._fetchResponse=n,u.url=n.url,u.statusCode=n.status,u.statusMessage=n.statusText,n.headers.forEach(function(t,e){u.headers[e.toLowerCase()]=t,u.rawHeaders.push(e,t)});var l=n.body.getReader();a()}else if(u._xhr=t,u._pos=0,u.url=t.responseURL,u.statusCode=t.status,u.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var n=e[1].toLowerCase();"set-cookie"===n?(void 0===u.headers[n]&&(u.headers[n]=[]),u.headers[n].push(e[2])):void 0!==u.headers[n]?u.headers[n]+=", "+e[2]:u.headers[n]=e[2],u.rawHeaders.push(e[1],e[2])}}),u._charset="x-user-defined",!o.overrideMimeType){var c=u.rawHeaders["mime-type"];if(c){var h=c.match(/;\s*charset=([^;])(;|$)/);h&&(u._charset=h[1].toLowerCase())}u._charset||(u._charset="utf-8")}};a(l,s.Readable),l.prototype._read=function(){},l.prototype._onXHRProgress=function(){var t=this,e=t._xhr,n=null;switch(t._mode){case"text:vbarray":if(e.readyState!==u.DONE)break;try{n=new r.VBArray(e.responseBody).toArray()}catch(t){}if(null!==n){t.push(new i(n));break}case"text":try{n=e.responseText}catch(e){t._mode="text:vbarray";break}if(n.length>t._pos){var o=n.substr(t._pos);if("x-user-defined"===t._charset){for(var a=new i(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);t.push(a)}else t.push(o,t._charset);t._pos=n.length}break;case"arraybuffer":if(e.readyState!==u.DONE||!e.response)break;n=e.response,t.push(new i(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=e.response,e.readyState!==u.LOADING||!n)break;t.push(new i(new Uint8Array(n)));break;case"ms-stream":if(n=e.response,e.readyState!==u.LOADING)break;var l=new r.MSStreamReader;l.onprogress=function(){l.result.byteLength>t._pos&&(t.push(new i(new Uint8Array(l.result.slice(t._pos)))),t._pos=l.result.byteLength)},l.onload=function(){t.push(null)},l.readAsArrayBuffer(n)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&t.push(null)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{"./capability":240,_process:217,buffer:5,inherits:43,"readable-stream":230}],243:[function(t,e,n){"use strict";function r(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=r(t);if("string"!=typeof e&&(y.isEncoding===g||!g(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=c,this.end=h,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=f,this.end=d,e=3;break;default:return this.write=p,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:-1}function s(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n?0:(i=a(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n?0:(i=a(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}function u(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�".repeat(n+2)}}function l(t){var e=this.lastTotal-this.lastNeed,n=u(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function f(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function d(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}var y=t("safe-buffer").Buffer,g=y.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�".repeat(this.lastTotal-this.lastNeed):e},o.prototype.text=function(t,e){var n=s(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":238}],244:[function(t,e,n){var r=t("buffer").Buffer;e.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(r.isBuffer(t)){for(var e=new Uint8Array(t.length),n=t.length,i=0;i<n;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},{buffer:5}],245:[function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&a.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}var o=t("punycode"),a=t("./util");n.parse=i,n.resolve=function(t,e){return i(t,!1,!0).resolve(e)},n.resolveObject=function(t,e){return t?i(t,!1,!0).resolveObject(e):e},n.format=function(t){return a.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)},n.Url=r;var s=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["<",">",'"',"`"," ","\r","\n","\t"],h=["{","}","|","\\","^","`"].concat(c),f=["'"].concat(h),d=["%","/","?",";","#"].concat(f),p=["/","?","#"],v=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=t("querystring");r.prototype.parse=function(t,e,n){if(!a.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",u=t.split(i),c=/\\/g;u[0]=u[0].replace(c,"/");var h=t=u.join(i);if(h=h.trim(),!n&&1===t.split("#").length){var x=l.exec(h);if(x)return this.path=h,this.href=h,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var w=s.exec(h);if(w){var T=(w=w[0]).toLowerCase();this.protocol=T,h=h.substr(w.length)}if(n||w||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===h.substr(0,2);!E||w&&_[w]||(h=h.substr(2),this.slashes=!0)}if(!_[w]&&(E||w&&!m[w])){for(var M=-1,S=0;S<p.length;S++)-1!==(A=h.indexOf(p[S]))&&(-1===M||A<M)&&(M=A);var O,C;-1!==(C=-1===M?h.lastIndexOf("@"):h.lastIndexOf("@",M))&&(O=h.slice(0,C),h=h.slice(C+1),this.auth=decodeURIComponent(O)),M=-1;for(S=0;S<d.length;S++){var A=h.indexOf(d[S]);-1!==A&&(-1===M||A<M)&&(M=A)}-1===M&&(M=h.length),this.host=h.slice(0,M),h=h.slice(M),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var R=this.hostname.split(/\./),S=0,I=R.length;S<I;S++){var D=R[S];if(D&&!D.match(v)){for(var L="",k=0,N=D.length;k<N;k++)D.charCodeAt(k)>127?L+="x":L+=D[k];if(!L.match(v)){var j=R.slice(0,S),B=R.slice(S+1),F=D.match(y);F&&(j.push(F[1]),B.unshift(F[2])),B.length&&(h="/"+B.join(".")+h),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=o.toASCII(this.hostname));var U=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+U,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!g[T])for(var S=0,I=f.length;S<I;S++){var W=f[S];if(-1!==h.indexOf(W)){var z=encodeURIComponent(W);z===W&&(z=escape(W)),h=h.split(W).join(z)}}var H=h.indexOf("#");-1!==H&&(this.hash=h.substr(H),h=h.slice(0,H));var G=h.indexOf("?");if(-1!==G?(this.search=h.substr(G),this.query=h.substr(G+1),e&&(this.query=b.parse(this.query)),h=h.slice(0,G)):e&&(this.search="",this.query={}),h&&(this.pathname=h),m[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",q=this.search||"";this.path=U+q}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+i+n+s+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(a.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=t[c])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!m[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var d=h[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||_[t.protocol])n.pathname=t.pathname;else{for(T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==T[0]&&T.unshift(""),T.length<2&&T.unshift(""),n.pathname=T.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",v=n.search||"";n.path=p+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=g||y||n.host&&t.pathname,x=b,w=n.pathname&&n.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],E=n.protocol&&!m[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===T[0]?T[0]=t.host:T.unshift(t.host)),t.host=null),b=b&&(""===T[0]||""===w[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=T;else if(T.length)w||(w=[]),w.pop(),w=w.concat(T),n.search=t.search,n.query=t.query;else if(!a.isNullOrUndefined(t.search))return E&&(n.hostname=n.host=w.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),n.search=t.search,n.query=t.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var M=w.slice(-1)[0],S=(n.host||t.host||w.length>1)&&("."===M||".."===M)||""===M,O=0,C=w.length;C>=0;C--)"."===(M=w[C])?w.splice(C,1):".."===M?(w.splice(C,1),O++):O&&(w.splice(C,1),O--);if(!b&&!x)for(;O--;O)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),S&&"/"!==w.join("/").substr(-1)&&w.push("");var A=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(E){n.hostname=n.host=A?"":w.length?w.shift():"";var P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");P&&(n.auth=P.shift(),n.host=n.hostname=P.shift())}return(b=b||n.host&&w.length)&&!A&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":246,punycode:218,querystring:221}],246:[function(t,e,n){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],247:[function(t,e,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(t){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],248:[function(t,e,n){(function(e,r){var i=t("url"),o=t("child_process").spawn,a=t("fs");n.XMLHttpRequest=function(){"use strict";var n,s,u=this,l=t("http"),c=t("https"),h={},f=!1,d={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},p={},v={},y=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],g=["TRACE","TRACK","CONNECT"],_=!1,m=!1,b={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1;var x=function(t){return f||t&&-1===y.indexOf(t.toLowerCase())},w=function(t){return t&&-1===g.indexOf(t)};this.open=function(t,e,n,r,i){if(this.abort(),m=!1,!w(t))throw new Error("SecurityError: Request method not allowed");h={method:t,url:e.toString(),async:"boolean"!=typeof n||n,user:r||null,password:i||null},T(this.OPENED)},this.setDisableHeaderCheck=function(t){f=t},this.setRequestHeader=function(t,e){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(x(t)){if(_)throw new Error("INVALID_STATE_ERR: send flag is true");t=v[t.toLowerCase()]||t,v[t.toLowerCase()]=t,p[t]=p[t]?p[t]+", "+e:e}else console.warn('Refused to set unsafe header "'+t+'"')},this.getResponseHeader=function(t){return"string"==typeof t&&this.readyState>this.OPENED&&s&&s.headers&&s.headers[t.toLowerCase()]&&!m?s.headers[t.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||m)return"";var t="";for(var e in s.headers)"set-cookie"!==e&&"set-cookie2"!==e&&(t+=e+": "+s.headers[e]+"\r\n");return t.substr(0,t.length-2)},this.getRequestHeader=function(t){return"string"==typeof t&&v[t.toLowerCase()]?p[v[t.toLowerCase()]]:""},this.send=function(t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(_)throw new Error("INVALID_STATE_ERR: send has already been called");var f,y=!1,g=!1,b=i.parse(h.url);switch(b.protocol){case"https:":y=!0;case"http:":f=b.hostname;break;case"file:":g=!0;break;case void 0:case null:case"":f="localhost";break;default:throw new Error("Protocol not supported.")}if(g){if("GET"!==h.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(h.async)a.readFile(b.pathname,"utf8",function(t,e){t?u.handleError(t):(u.status=200,u.responseText=e,T(u.DONE))});else try{this.responseText=a.readFileSync(b.pathname,"utf8"),this.status=200,T(u.DONE)}catch(t){this.handleError(t)}}else{var x=b.port||(y?443:80),w=b.pathname+(b.search?b.search:"");for(var E in d)v[E.toLowerCase()]||(p[E]=d[E]);if(p.Host=f,y&&443===x||80===x||(p.Host+=":"+b.port),h.user){void 0===h.password&&(h.password="");var M=new r(h.user+":"+h.password);p.Authorization="Basic "+M.toString("base64")}"GET"===h.method||"HEAD"===h.method?t=null:t?(p["Content-Length"]=r.isBuffer(t)?t.length:r.byteLength(t),p["Content-Type"]||(p["Content-Type"]="text/plain;charset=UTF-8")):"POST"===h.method&&(p["Content-Length"]=0);var S={host:f,port:x,path:w,method:h.method,headers:p,agent:!1,withCredentials:u.withCredentials};if(m=!1,h.async){var O=y?c.request:l.request;_=!0,u.dispatchEvent("readystatechange");var C=function(t){u.handleError(t)};n=O(S,function t(e){if(301!==(s=e).statusCode&&302!==s.statusCode&&303!==s.statusCode&&307!==s.statusCode)s.setEncoding("utf8"),T(u.HEADERS_RECEIVED),u.status=s.statusCode,s.on("data",function(t){t&&(u.responseText+=t),_&&T(u.LOADING)}),s.on("end",function(){_&&(T(u.DONE),_=!1)}),s.on("error",function(t){u.handleError(t)});else{h.url=s.headers.location;var r=i.parse(h.url);f=r.hostname;var o={hostname:r.hostname,port:r.port,path:r.path,method:303===s.statusCode?"GET":h.method,headers:p,withCredentials:u.withCredentials};(n=O(o,t).on("error",C)).end()}}).on("error",C),t&&n.write(t),n.end(),u.dispatchEvent("loadstart")}else{var A=".node-xmlhttprequest-content-"+e.pid,P=".node-xmlhttprequest-sync-"+e.pid;a.writeFileSync(P,"","utf8");for(var R="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(y?"s":"")+".request;var options = "+JSON.stringify(S)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+A+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+P+"');});response.on('error', function(error) {fs.writeFileSync('"+A+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+P+"');});}).on('error', function(error) {fs.writeFileSync('"+A+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+P+"');});"+(t?"req.write('"+JSON.stringify(t).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",I=o(e.argv[0],["-e",R]);a.existsSync(P););var D=JSON.parse(a.readFileSync(A,"utf8"));I.stdin.end(),a.unlinkSync(A),D.err?u.handleError(D.err):(s=D.data,u.status=D.data.statusCode,u.responseText=D.data.text,T(u.DONE))}}},this.handleError=function(t){this.status=0,this.statusText=t,this.responseText=t.stack,m=!0,T(this.DONE),this.dispatchEvent("error")},this.abort=function(){n&&(n.abort(),n=null),p=d,this.status=0,this.responseText="",this.responseXML="",m=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!_||this.readyState===this.DONE||(_=!1,T(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(t,e){t in b||(b[t]=[]),b[t].push(e)},this.removeEventListener=function(t,e){t in b&&(b[t]=b[t].filter(function(t){return t!==e}))},this.dispatchEvent=function(t){if("function"==typeof u["on"+t]&&u["on"+t](),t in b)for(var e=0,n=b[t].length;e<n;e++)b[t][e].call(u)};var T=function(t){t!=u.LOADING&&u.readyState===t||(u.readyState=t,(h.async||u.readyState<u.OPENED||u.readyState===u.DONE)&&u.dispatchEvent("readystatechange"),u.readyState!==u.DONE||m||(u.dispatchEvent("load"),u.dispatchEvent("loadend")))}}}).call(this,t("_process"),t("buffer").Buffer)},{_process:217,buffer:5,child_process:4,fs:4,http:239,https:41,url:245}],249:[function(t,e,n){e.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},{}],d3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("d3-array"),i=t("d3-axis"),o=t("d3-brush"),a=t("d3-chord"),s=t("d3-collection"),u=t("d3-color"),l=t("d3-dispatch"),c=t("d3-drag"),h=t("d3-dsv"),f=t("d3-ease"),d=t("d3-force"),p=t("d3-format"),v=t("d3-geo"),y=t("d3-hierarchy"),g=t("d3-interpolate"),_=t("d3-path"),m=t("d3-polygon"),b=t("d3-quadtree"),x=t("d3-queue"),w=t("d3-random"),T=t("d3-request"),E=t("d3-scale"),M=t("d3-selection"),S=t("d3-shape"),O=t("d3-time"),C=t("d3-time-format"),A=t("d3-timer"),P=t("d3-transition"),R=t("d3-voronoi"),I=t("d3-zoom");n.version="4.10.2",Object.keys(r).forEach(function(t){n[t]=r[t]}),Object.keys(i).forEach(function(t){n[t]=i[t]}),Object.keys(o).forEach(function(t){n[t]=o[t]}),Object.keys(a).forEach(function(t){n[t]=a[t]}),Object.keys(s).forEach(function(t){n[t]=s[t]}),Object.keys(u).forEach(function(t){n[t]=u[t]}),Object.keys(l).forEach(function(t){n[t]=l[t]}),Object.keys(c).forEach(function(t){n[t]=c[t]}),Object.keys(h).forEach(function(t){n[t]=h[t]}),Object.keys(f).forEach(function(t){n[t]=f[t]}),Object.keys(d).forEach(function(t){n[t]=d[t]}),Object.keys(p).forEach(function(t){n[t]=p[t]}),Object.keys(v).forEach(function(t){n[t]=v[t]}),Object.keys(y).forEach(function(t){n[t]=y[t]}),Object.keys(g).forEach(function(t){n[t]=g[t]}),Object.keys(_).forEach(function(t){n[t]=_[t]}),Object.keys(m).forEach(function(t){n[t]=m[t]}),Object.keys(b).forEach(function(t){n[t]=b[t]}),Object.keys(x).forEach(function(t){n[t]=x[t]}),Object.keys(w).forEach(function(t){n[t]=w[t]}),Object.keys(T).forEach(function(t){n[t]=T[t]}),Object.keys(E).forEach(function(t){n[t]=E[t]}),Object.keys(M).forEach(function(t){n[t]=M[t]}),Object.keys(S).forEach(function(t){n[t]=S[t]}),Object.keys(O).forEach(function(t){n[t]=O[t]}),Object.keys(C).forEach(function(t){n[t]=C[t]}),Object.keys(A).forEach(function(t){n[t]=A[t]}),Object.keys(P).forEach(function(t){n[t]=P[t]}),Object.keys(R).forEach(function(t){n[t]=R[t]}),Object.keys(I).forEach(function(t){n[t]=I[t]}),Object.defineProperty(n,"event",{get:function(){return M.event}})},{"d3-array":8,"d3-axis":9,"d3-brush":10,"d3-chord":11,"d3-collection":12,"d3-color":13,"d3-dispatch":14,"d3-drag":15,"d3-dsv":16,"d3-ease":17,"d3-force":18,"d3-format":19,"d3-geo":20,"d3-hierarchy":21,"d3-interpolate":22,"d3-path":23,"d3-polygon":24,"d3-quadtree":25,"d3-queue":26,"d3-random":27,"d3-request":28,"d3-scale":29,"d3-selection":30,"d3-shape":31,"d3-time":33,"d3-time-format":32,"d3-timer":34,"d3-transition":35,"d3-voronoi":36,"d3-zoom":37}],lodash:[function(t,e,n){(function(t){(function(){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function l(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function h(t,e){return!!(null==t?0:t.length)&&w(t,e,0)>-1}function f(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function v(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function y(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function g(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function m(t){return t.match(Be)||[]}function b(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function x(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e===e?K(t,e,n):x(t,E,n)}function T(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function E(t){return t!==t}function M(t,e){var n=null==t?0:t.length;return n?P(t,e)/n:Dt}function S(t){return function(e){return null==e?nt:e[t]}}function O(t){return function(e){return null==t?nt:t[e]}}function C(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function A(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function P(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function R(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function I(t,e){return d(e,function(e){return[e,t[e]]})}function D(t){return function(e){return t(e)}}function L(t,e){return d(e,function(e){return t[e]})}function k(t,e){return t.has(e)}function N(t,e){for(var n=-1,r=t.length;++n<r&&w(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function F(t){return"\\"+Mn[t]}function U(t,e){return null==t?nt:t[e]}function X(t){return yn.test(t)}function W(t){return gn.test(t)}function z(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function G(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ut||(t[n]=ut,o[i++]=n)}return o}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function K(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function Z(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function $(t){return X(t)?Q(t):Wn(t)}function J(t){return X(t)?tt(t):_(t)}function Q(t){for(var e=pn.lastIndex=0;pn.test(t);)++e;return e}function tt(t){return t.match(pn)||[]}function et(t){return t.match(vn)||[]}var nt,rt=200,it="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",at="__lodash_hash_undefined__",st=500,ut="__lodash_placeholder__",lt=1,ct=2,ht=4,ft=1,dt=2,pt=1,vt=2,yt=4,gt=8,_t=16,mt=32,bt=64,xt=128,wt=256,Tt=512,Et=30,Mt="...",St=800,Ot=16,Ct=1,At=2,Pt=1/0,Rt=9007199254740991,It=1.7976931348623157e308,Dt=NaN,Lt=4294967295,kt=Lt-1,Nt=Lt>>>1,jt=[["ary",xt],["bind",pt],["bindKey",vt],["curry",gt],["curryRight",_t],["flip",Tt],["partial",mt],["partialRight",bt],["rearg",wt]],Bt="[object Arguments]",Ft="[object Array]",Ut="[object AsyncFunction]",Xt="[object Boolean]",Wt="[object Date]",zt="[object DOMException]",Ht="[object Error]",Gt="[object Function]",qt="[object GeneratorFunction]",Yt="[object Map]",Vt="[object Number]",Kt="[object Null]",Zt="[object Object]",$t="[object Proxy]",Jt="[object RegExp]",Qt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",re="[object WeakMap]",ie="[object WeakSet]",oe="[object ArrayBuffer]",ae="[object DataView]",se="[object Float32Array]",ue="[object Float64Array]",le="[object Int8Array]",ce="[object Int16Array]",he="[object Int32Array]",fe="[object Uint8Array]",de="[object Uint8ClampedArray]",pe="[object Uint16Array]",ve="[object Uint32Array]",ye=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,me=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,xe=RegExp(me.source),we=RegExp(be.source),Te=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Me=/<%=([\s\S]+?)%>/g,Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Ce=/^\./,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Pe.source),Ie=/^\s+|\s+$/g,De=/^\s+/,Le=/\s+$/,ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ne=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Fe=/\\(\\)?/g,Ue=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xe=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,ze=/^0b[01]+$/i,He=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,qe=/^(?:0|[1-9]\d*)$/,Ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ve=/($^)/,Ke=/['\n\r\u2028\u2029\\]/g,Ze="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",$e="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="["+$e+"]",Qe="["+Ze+"]",tn="[a-z\\xdf-\\xf6\\xf8-\\xff]",en="[^\\ud800-\\udfff"+$e+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",nn="\\ud83c[\\udffb-\\udfff]",rn="(?:\\ud83c[\\udde6-\\uddff]){2}",on="[\\ud800-\\udbff][\\udc00-\\udfff]",an="[A-Z\\xc0-\\xd6\\xd8-\\xde]",sn="(?:"+tn+"|"+en+")",un="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ln="[\\ufe0e\\ufe0f]?"+un+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",rn,on].join("|")+")[\\ufe0e\\ufe0f]?"+un+")*"),cn="(?:"+["[\\u2700-\\u27bf]",rn,on].join("|")+")"+ln,hn="(?:"+["[^\\ud800-\\udfff]"+Qe+"?",Qe,rn,on,"[\\ud800-\\udfff]"].join("|")+")",fn=RegExp("['’]","g"),dn=RegExp(Qe,"g"),pn=RegExp(nn+"(?="+nn+")|"+hn+ln,"g"),vn=RegExp([an+"?"+tn+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Je,an,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Je,an+sn,"$"].join("|")+")",an+"?"+sn+"+(?:['’](?:d|ll|m|re|s|t|ve))?",an+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",cn].join("|"),"g"),yn=RegExp("[\\u200d\\ud800-\\udfff"+Ze+"\\ufe0e\\ufe0f]"),gn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mn=-1,bn={};bn[se]=bn[ue]=bn[le]=bn[ce]=bn[he]=bn[fe]=bn[de]=bn[pe]=bn[ve]=!0,bn[Bt]=bn[Ft]=bn[oe]=bn[Xt]=bn[ae]=bn[Wt]=bn[Ht]=bn[Gt]=bn[Yt]=bn[Vt]=bn[Zt]=bn[Jt]=bn[Qt]=bn[te]=bn[re]=!1;var xn={};xn[Bt]=xn[Ft]=xn[oe]=xn[ae]=xn[Xt]=xn[Wt]=xn[se]=xn[ue]=xn[le]=xn[ce]=xn[he]=xn[Yt]=xn[Vt]=xn[Zt]=xn[Jt]=xn[Qt]=xn[te]=xn[ee]=xn[fe]=xn[de]=xn[pe]=xn[ve]=!0,xn[Ht]=xn[Gt]=xn[re]=!1;var wn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},En={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Mn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sn=parseFloat,On=parseInt,Cn="object"==typeof t&&t&&t.Object===Object&&t,An="object"==typeof self&&self&&self.Object===Object&&self,Pn=Cn||An||Function("return this")(),Rn="object"==typeof n&&n&&!n.nodeType&&n,In=Rn&&"object"==typeof e&&e&&!e.nodeType&&e,Dn=In&&In.exports===Rn,Ln=Dn&&Cn.process,kn=function(){try{return Ln&&Ln.binding&&Ln.binding("util")}catch(t){}}(),Nn=kn&&kn.isArrayBuffer,jn=kn&&kn.isDate,Bn=kn&&kn.isMap,Fn=kn&&kn.isRegExp,Un=kn&&kn.isSet,Xn=kn&&kn.isTypedArray,Wn=S("length"),zn=O(wn),Hn=O(Tn),Gn=O(En),qn=function t(e){function n(t){if(ea(t)&&!Hu(t)&&!(t instanceof K)){if(t instanceof O)return t;if(Ha.call(t,"__wrapped__"))return Mo(t)}return new O(t)}function _(){}function O(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function K(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Lt,this.__views__=[]}function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Be(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ze(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Be;++e<n;)this.add(t[e])}function $e(t){var e=this.__data__=new tt(t);this.size=e.size}function Je(t,e){var n=Hu(t),r=!n&&zu(t),i=!n&&!r&&qu(t),o=!n&&!r&&!i&&$u(t),a=n||r||i||o,s=a?R(t.length,ja):[],u=s.length;for(var l in t)!e&&!Ha.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ro(l,u))||s.push(l);return s}function Qe(t){var e=t.length;return e?t[wr(0,e-1)]:nt}function tn(t,e){return xo(ai(t),hn(e,0,t.length))}function en(t){return xo(ai(t))}function nn(t,e,n){(n===nt||Yo(t[e],n))&&(n!==nt||e in t)||ln(t,e,n)}function rn(t,e,n){var r=t[e];Ha.call(t,e)&&Yo(r,n)&&(n!==nt||e in t)||ln(t,e,n)}function on(t,e){for(var n=t.length;n--;)if(Yo(t[n][0],e))return n;return-1}function an(t,e,n,r){return Ws(t,function(t,i,o){e(r,t,n(t),o)}),r}function sn(t,e){return t&&si(e,va(e),t)}function un(t,e){return t&&si(e,ya(e),t)}function ln(t,e,n){"__proto__"==e&&us?us(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function cn(t,e){for(var n=-1,r=e.length,i=Pa(r),o=null==t;++n<r;)i[n]=o?nt:da(t,e[n]);return i}function hn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function pn(t,e,n,r,i,o){var a,u=e&lt,l=e&ct,c=e&ht;if(n&&(a=i?n(t,r,i,o):n(t)),a!==nt)return a;if(!ta(t))return t;var h=Hu(t);if(h){if(a=Ji(t),!u)return ai(t,a)}else{var f=tu(t),d=f==Gt||f==qt;if(qu(t))return Vr(t,u);if(f==Zt||f==Bt||d&&!i){if(a=l||d?{}:Qi(t),!u)return l?li(t,un(a,t)):ui(t,sn(a,t))}else{if(!xn[f])return i?t:{};a=to(t,f,pn,u)}}o||(o=new $e);var p=o.get(t);if(p)return p;o.set(t,a);var v=c?l?Xi:Ui:l?ya:va,y=h?nt:v(t);return s(y||t,function(r,i){y&&(r=t[i=r]),rn(a,i,pn(r,e,n,i,t,o))}),a}function vn(t){var e=va(t);return function(n){return yn(n,t,e)}}function yn(t,e,n){var r=n.length;if(null==t)return!r;for(t=ka(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===nt&&!(i in t)||!o(a))return!1}return!0}function gn(t,e,n){if("function"!=typeof t)throw new Ba(ot);return ru(function(){t.apply(nt,n)},e)}function wn(t,e,n,r){var i=-1,o=h,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=d(e,D(n))),r?(o=f,a=!1):e.length>=rt&&(o=k,a=!1,e=new Ze(e));t:for(;++i<s;){var c=t[i],p=null==n?c:n(c);if(c=r||0!==c?c:0,a&&p===p){for(var v=l;v--;)if(e[v]===p)continue t;u.push(c)}else o(e,p,r)||u.push(c)}return u}function Tn(t,e){var n=!0;return Ws(t,function(t,r,i){return n=!!e(t,r,i)}),n}function En(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===nt?a===a&&!oa(a):n(a,s)))var s=a,u=o}return u}function Mn(t,e,n,r){var i=t.length;for((n=ua(n))<0&&(n=-n>i?0:i+n),(r=r===nt||r>i?i:ua(r))<0&&(r+=i),r=n>r?0:la(r);n<r;)t[n++]=e;return t}function Cn(t,e){var n=[];return Ws(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function An(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=no),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?An(s,e-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function Rn(t,e){return t&&Hs(t,e,va)}function In(t,e){return t&&Gs(t,e,va)}function Ln(t,e){return c(e,function(e){return $o(t[e])})}function kn(t,e){for(var n=0,r=(e=qr(e,t)).length;null!=t&&n<r;)t=t[wo(e[n++])];return n&&n==r?t:nt}function Wn(t,e,n){var r=e(t);return Hu(t)?r:p(r,n(t))}function Yn(t){return null==t?t===nt?ne:Kt:ss&&ss in ka(t)?Vi(t):vo(t)}function Vn(t,e){return t>e}function Kn(t,e){return null!=t&&Ha.call(t,e)}function Zn(t,e){return null!=t&&e in ka(t)}function $n(t,e,n){return t>=bs(e,n)&&t<ms(e,n)}function Jn(t,e,n){for(var r=n?f:h,i=t[0].length,o=t.length,a=o,s=Pa(o),u=1/0,l=[];a--;){var c=t[a];a&&e&&(c=d(c,D(e))),u=bs(c.length,u),s[a]=!n&&(e||i>=120&&c.length>=120)?new Ze(a&&c):nt}c=t[0];var p=-1,v=s[0];t:for(;++p<i&&l.length<u;){var y=c[p],g=e?e(y):y;if(y=n||0!==y?y:0,!(v?k(v,g):r(l,g,n))){for(a=o;--a;){var _=s[a];if(!(_?k(_,g):r(t[a],g,n)))continue t}v&&v.push(g),l.push(y)}}return l}function Qn(t,e,n,r){return Rn(t,function(t,i,o){e(r,n(t),i,o)}),r}function tr(t,e,n){var r=null==(t=go(t,e=qr(e,t)))?t:t[wo(Po(e))];return null==r?nt:o(r,t,n)}function er(t){return ea(t)&&Yn(t)==Bt}function nr(t,e,n,r,i){return t===e||(null==t||null==e||!ea(t)&&!ea(e)?t!==t&&e!==e:rr(t,e,n,r,nr,i))}function rr(t,e,n,r,i,o){var a=Hu(t),s=Hu(e),u=a?Ft:tu(t),l=s?Ft:tu(e),c=(u=u==Bt?Zt:u)==Zt,h=(l=l==Bt?Zt:l)==Zt,f=u==l;if(f&&qu(t)){if(!qu(e))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new $e),a||$u(t)?Ni(t,e,n,r,i,o):ji(t,e,u,n,r,i,o);if(!(n&ft)){var d=c&&Ha.call(t,"__wrapped__"),p=h&&Ha.call(e,"__wrapped__");if(d||p){var v=d?t.value():t,y=p?e.value():e;return o||(o=new $e),i(v,y,n,r,o)}}return!!f&&(o||(o=new $e),Bi(t,e,n,r,i,o))}function ir(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=ka(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],l=t[u],c=s[1];if(a&&s[2]){if(l===nt&&!(u in t))return!1}else{var h=new $e;if(r)var f=r(l,c,u,t,e,h);if(!(f===nt?nr(c,l,ft|dt,r,h):f))return!1}}return!0}function or(t){return!(!ta(t)||uo(t))&&($o(t)?Za:He).test(To(t))}function ar(t){return"function"==typeof t?t:null==t?Ta:"object"==typeof t?Hu(t)?fr(t[0],t[1]):hr(t):Oa(t)}function sr(t){if(!lo(t))return _s(t);var e=[];for(var n in ka(t))Ha.call(t,n)&&"constructor"!=n&&e.push(n);return e}function ur(t){if(!ta(t))return po(t);var e=lo(t),n=[];for(var r in t)("constructor"!=r||!e&&Ha.call(t,r))&&n.push(r);return n}function lr(t,e){return t<e}function cr(t,e){var n=-1,r=Vo(t)?Pa(t.length):[];return Ws(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function hr(t){var e=qi(t);return 1==e.length&&e[0][2]?ho(e[0][0],e[0][1]):function(n){return n===t||ir(n,t,e)}}function fr(t,e){return oo(t)&&co(e)?ho(wo(t),e):function(n){var r=da(n,t);return r===nt&&r===e?pa(n,t):nr(e,r,ft|dt)}}function dr(t,e,n,r,i){t!==e&&Hs(e,function(o,a){if(ta(o))i||(i=new $e),pr(t,e,a,n,dr,r,i);else{var s=r?r(t[a],o,a+"",t,e,i):nt;s===nt&&(s=o),nn(t,a,s)}},ya)}function pr(t,e,n,r,i,o,a){var s=t[n],u=e[n],l=a.get(u);if(l)nn(t,n,l);else{var c=o?o(s,u,n+"",t,e,a):nt,h=c===nt;if(h){var f=Hu(u),d=!f&&qu(u),p=!f&&!d&&$u(u);c=u,f||d||p?Hu(s)?c=s:Ko(s)?c=ai(s):d?(h=!1,c=Vr(u,!0)):p?(h=!1,c=ei(u,!0)):c=[]:ra(u)||zu(u)?(c=s,zu(s)?c=ha(s):(!ta(s)||r&&$o(s))&&(c=Qi(u))):h=!1}h&&(a.set(u,c),i(c,u,r,o,a),a.delete(u)),nn(t,n,c)}}function vr(t,e){var n=t.length;if(n)return e+=e<0?n:0,ro(e,n)?t[e]:nt}function yr(t,e,n){var r=-1;return e=d(e.length?e:[Ta],D(Hi())),A(cr(t,function(t,n,i){return{criteria:d(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return ri(t,e,n)})}function gr(t,e){return _r(t,e,function(e,n){return pa(t,n)})}function _r(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=kn(t,a);n(s,a)&&Cr(o,qr(a,t),s)}return o}function mr(t){return function(e){return kn(e,t)}}function br(t,e,n,r){var i=r?T:w,o=-1,a=e.length,s=t;for(t===e&&(e=ai(e)),n&&(s=d(t,D(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&is.call(s,u,1),is.call(t,u,1);return t}function xr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;ro(i)?is.call(t,i,1):Br(t,i)}}return t}function wr(t,e){return t+ds(Ts()*(e-t+1))}function Tr(t,e,n,r){for(var i=-1,o=ms(fs((e-t)/(n||1)),0),a=Pa(o);o--;)a[r?o:++i]=t,t+=n;return a}function Er(t,e){var n="";if(!t||e<1||e>Rt)return n;do{e%2&&(n+=t),(e=ds(e/2))&&(t+=t)}while(e);return n}function Mr(t,e){return iu(yo(t,e,Ta),t+"")}function Sr(t){return Qe(_a(t))}function Or(t,e){var n=_a(t);return xo(n,hn(e,0,n.length))}function Cr(t,e,n,r){if(!ta(t))return t;for(var i=-1,o=(e=qr(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u=wo(e[i]),l=n;if(i!=a){var c=s[u];(l=r?r(c,u,s):nt)===nt&&(l=ta(c)?c:ro(e[i+1])?[]:{})}rn(s,u,l),s=s[u]}return t}function Ar(t){return xo(_a(t))}function Pr(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Pa(i);++r<i;)o[r]=t[r+e];return o}function Rr(t,e){var n;return Ws(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Ir(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Nt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!oa(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Dr(t,e,Ta,n)}function Dr(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=oa(e),l=e===nt;i<o;){var c=ds((i+o)/2),h=n(t[c]),f=h!==nt,d=null===h,p=h===h,v=oa(h);if(a)var y=r||p;else y=l?p&&(r||f):s?p&&f&&(r||!d):u?p&&f&&!d&&(r||!v):!d&&!v&&(r?h<=e:h<e);y?i=c+1:o=c}return bs(o,kt)}function Lr(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!Yo(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function kr(t){return"number"==typeof t?t:oa(t)?Dt:+t}function Nr(t){if("string"==typeof t)return t;if(Hu(t))return d(t,Nr)+"";if(oa(t))return Us?Us.call(t):"";var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function jr(t,e,n){var r=-1,i=h,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=f;else if(o>=rt){var l=e?null:Zs(t);if(l)return Y(l);a=!1,i=k,u=new Ze}else u=e?[]:s;t:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||0!==c?c:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function Br(t,e){return e=qr(e,t),null==(t=go(t,e))||delete t[wo(Po(e))]}function Fr(t,e,n,r){return Cr(t,e,n(kn(t,e)),r)}function Ur(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Pr(t,r?0:o,r?o+1:i):Pr(t,r?o+1:0,r?i:o)}function Xr(t,e){var n=t;return n instanceof K&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function Wr(t,e,n){var r=t.length;if(r<2)return r?jr(t[0]):[];for(var i=-1,o=Pa(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=wn(o[i]||a,t[s],e,n));return jr(An(o,1),e,n)}function zr(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:nt;n(a,t[r],s)}return a}function Hr(t){return Ko(t)?t:[]}function Gr(t){return"function"==typeof t?t:Ta}function qr(t,e){return Hu(t)?t:oo(t,e)?[t]:ou(fa(t))}function Yr(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:Pr(t,e,n)}function Vr(t,e){if(e)return t.slice();var n=t.length,r=ts?ts(n):new t.constructor(n);return t.copy(r),r}function Kr(t){var e=new t.constructor(t.byteLength);return new Qa(e).set(new Qa(t)),e}function Zr(t,e){var n=e?Kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function $r(t,e,n){return v(e?n(H(t),lt):H(t),r,new t.constructor)}function Jr(t){var e=new t.constructor(t.source,Xe.exec(t));return e.lastIndex=t.lastIndex,e}function Qr(t,e,n){return v(e?n(Y(t),lt):Y(t),i,new t.constructor)}function ti(t){return Fs?ka(Fs.call(t)):{}}function ei(t,e){var n=e?Kr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ni(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=oa(t),a=e!==nt,s=null===e,u=e===e,l=oa(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function ri(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=ni(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}function ii(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,l=ms(o-a,0),c=Pa(u+l),h=!r;++s<u;)c[s]=e[s];for(;++i<a;)(h||i<o)&&(c[n[i]]=t[i]);for(;l--;)c[s++]=t[i++];return c}function oi(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,l=e.length,c=ms(o-s,0),h=Pa(c+l),f=!r;++i<c;)h[i]=t[i];for(var d=i;++u<l;)h[d+u]=e[u];for(;++a<s;)(f||i<o)&&(h[d+n[a]]=t[i++]);return h}function ai(t,e){var n=-1,r=t.length;for(e||(e=Pa(r));++n<r;)e[n]=t[n];return e}function si(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):nt;u===nt&&(u=t[s]),i?ln(n,s,u):rn(n,s,u)}return n}function ui(t,e){return si(t,Js(t),e)}function li(t,e){return si(t,Qs(t),e)}function ci(t,e){return function(n,r){var i=Hu(n)?a:an,o=e?e():{};return i(n,t,Hi(r,2),o)}}function hi(t){return Mr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,a&&io(n[0],n[1],a)&&(o=i<3?nt:o,i=1),e=ka(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function fi(t,e){return function(n,r){if(null==n)return n;if(!Vo(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=ka(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function di(t){return function(e,n,r){for(var i=-1,o=ka(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function pi(t,e,n){function r(){return(this&&this!==Pn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&pt,o=gi(t);return r}function vi(t){return function(e){var n=X(e=fa(e))?J(e):nt,r=n?n[0]:e.charAt(0),i=n?Yr(n,1).join(""):e.slice(1);return r[t]()+i}}function yi(t){return function(e){return v(xa(ba(e).replace(fn,"")),t,"")}}function gi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Xs(t.prototype),r=t.apply(n,e);return ta(r)?r:n}}function _i(t,e,n){function r(){for(var a=arguments.length,s=Pa(a),u=a,l=zi(r);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:q(s,l);return(a-=c.length)<n?Ai(t,e,xi,r.placeholder,nt,s,c,nt,nt,n-a):o(this&&this!==Pn&&this instanceof r?i:t,this,s)}var i=gi(t);return r}function mi(t){return function(e,n,r){var i=ka(e);if(!Vo(e)){var o=Hi(n,3);e=va(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:nt}}function bi(t){return Fi(function(e){var n=e.length,r=n,i=O.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new Ba(ot);if(i&&!a&&"wrapper"==Wi(o))var a=new O([],!0)}for(r=a?r:n;++r<n;){var s=Wi(o=e[r]),u="wrapper"==s?$s(o):nt;a=u&&so(u[0])&&u[1]==(xt|gt|mt|wt)&&!u[4].length&&1==u[9]?a[Wi(u[0])].apply(a,u[3]):1==o.length&&so(o)?a[s]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&Hu(r))return a.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function xi(t,e,n,r,i,o,a,s,u,l){function c(){for(var g=arguments.length,_=Pa(g),m=g;m--;)_[m]=arguments[m];if(p)var b=zi(c),x=B(_,b);if(r&&(_=ii(_,r,i,p)),o&&(_=oi(_,o,a,p)),g-=x,p&&g<l){var w=q(_,b);return Ai(t,e,xi,c.placeholder,n,_,w,s,u,l-g)}var T=f?n:this,E=d?T[t]:t;return g=_.length,s?_=_o(_,s):v&&g>1&&_.reverse(),h&&u<g&&(_.length=u),this&&this!==Pn&&this instanceof c&&(E=y||gi(E)),E.apply(T,_)}var h=e&xt,f=e&pt,d=e&vt,p=e&(gt|_t),v=e&Tt,y=d?nt:gi(t);return c}function wi(t,e){return function(n,r){return Qn(n,t,e(r),{})}}function Ti(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=Nr(n),r=Nr(r)):(n=kr(n),r=kr(r)),i=t(n,r)}return i}}function Ei(t){return Fi(function(e){return e=d(e,D(Hi())),Mr(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function Mi(t,e){var n=(e=e===nt?" ":Nr(e)).length;if(n<2)return n?Er(e,t):e;var r=Er(e,fs(t/$(e)));return X(e)?Yr(J(r),0,t).join(""):r.slice(0,t)}function Si(t,e,n,r){function i(){for(var e=-1,u=arguments.length,l=-1,c=r.length,h=Pa(c+u),f=this&&this!==Pn&&this instanceof i?s:t;++l<c;)h[l]=r[l];for(;u--;)h[l++]=arguments[++e];return o(f,a?n:this,h)}var a=e&pt,s=gi(t);return i}function Oi(t){return function(e,n,r){return r&&"number"!=typeof r&&io(e,n,r)&&(n=r=nt),e=sa(e),n===nt?(n=e,e=0):n=sa(n),r=r===nt?e<n?1:-1:sa(r),Tr(e,n,r,t)}}function Ci(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ca(e),n=ca(n)),t(e,n)}}function Ai(t,e,n,r,i,o,a,s,u,l){var c=e&gt,h=c?a:nt,f=c?nt:a,d=c?o:nt,p=c?nt:o;e|=c?mt:bt,(e&=~(c?bt:mt))&yt||(e&=~(pt|vt));var v=[t,e,i,d,h,p,f,s,u,l],y=n.apply(nt,v);return so(t)&&nu(y,v),y.placeholder=r,mo(y,t,e)}function Pi(t){var e=La[t];return function(t,n){if(t=ca(t),n=null==n?0:bs(ua(n),292)){var r=(fa(t)+"e").split("e");return+((r=(fa(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}function Ri(t){return function(e){var n=tu(e);return n==Yt?H(e):n==Qt?V(e):I(e,t(e))}}function Ii(t,e,n,r,i,o,a,s){var u=e&vt;if(!u&&"function"!=typeof t)throw new Ba(ot);var l=r?r.length:0;if(l||(e&=~(mt|bt),r=i=nt),a=a===nt?a:ms(ua(a),0),s=s===nt?s:ua(s),l-=i?i.length:0,e&bt){var c=r,h=i;r=i=nt}var f=u?nt:$s(t),d=[t,e,n,r,i,c,h,o,a,s];if(f&&fo(d,f),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],!(s=d[9]=d[9]===nt?u?0:t.length:ms(d[9]-l,0))&&e&(gt|_t)&&(e&=~(gt|_t)),e&&e!=pt)p=e==gt||e==_t?_i(t,e,s):e!=mt&&e!=(pt|mt)||i.length?xi.apply(nt,d):Si(t,e,n,r);else var p=pi(t,e,n);return mo((f?qs:nu)(p,d),t,e)}function Di(t,e,n,r){return t===nt||Yo(t,Xa[n])&&!Ha.call(r,n)?e:t}function Li(t,e,n,r,i,o){return ta(t)&&ta(e)&&(o.set(e,t),dr(t,e,nt,Li,o),o.delete(e)),t}function ki(t){return ra(t)?nt:t}function Ni(t,e,n,r,i,o){var a=n&ft,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var c=-1,h=!0,f=n&dt?new Ze:nt;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],p=e[c];if(r)var v=a?r(p,d,c,e,t,o):r(d,p,c,t,e,o);if(v!==nt){if(v)continue;h=!1;break}if(f){if(!g(e,function(t,e){if(!k(f,e)&&(d===t||i(d,t,n,r,o)))return f.push(e)})){h=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function ji(t,e,n,r,i,o,a){switch(n){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!o(new Qa(t),new Qa(e)));case Xt:case Wt:case Vt:return Yo(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case Jt:case te:return t==e+"";case Yt:var s=H;case Qt:var u=r&ft;if(s||(s=Y),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=dt,a.set(t,e);var c=Ni(s(t),s(e),r,i,o,a);return a.delete(t),c;case ee:if(Fs)return Fs.call(t)==Fs.call(e)}return!1}function Bi(t,e,n,r,i,o){var a=n&ft,s=Ui(t),u=s.length;if(u!=Ui(e).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:Ha.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var f=!0;o.set(t,e),o.set(e,t);for(var d=a;++l<u;){var p=t[c=s[l]],v=e[c];if(r)var y=a?r(v,p,c,e,t,o):r(p,v,c,t,e,o);if(!(y===nt?p===v||i(p,v,n,r,o):y)){f=!1;break}d||(d="constructor"==c)}if(f&&!d){var g=t.constructor,_=e.constructor;g!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return o.delete(t),o.delete(e),f}function Fi(t){return iu(yo(t,nt,Co),t+"")}function Ui(t){return Wn(t,va,Js)}function Xi(t){return Wn(t,ya,Qs)}function Wi(t){for(var e=t.name+"",n=Is[e],r=Ha.call(Is,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function zi(t){return(Ha.call(n,"placeholder")?n:t).placeholder}function Hi(){var t=n.iteratee||Ea;return t=t===Ea?ar:t,arguments.length?t(arguments[0],arguments[1]):t}function Gi(t,e){var n=t.__data__;return ao(e)?n["string"==typeof e?"string":"hash"]:n.map}function qi(t){for(var e=va(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,co(i)]}return e}function Yi(t,e){var n=U(t,e);return or(n)?n:nt}function Vi(t){var e=Ha.call(t,ss),n=t[ss];try{t[ss]=nt;var r=!0}catch(t){}var i=Ya.call(t);return r&&(e?t[ss]=n:delete t[ss]),i}function Ki(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=bs(e,t+a);break;case"takeRight":t=ms(t,e-a)}}return{start:t,end:e}}function Zi(t){var e=t.match(Ne);return e?e[1].split(je):[]}function $i(t,e,n){for(var r=-1,i=(e=qr(e,t)).length,o=!1;++r<i;){var a=wo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Qo(i)&&ro(a,i)&&(Hu(t)||zu(t))}function Ji(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Ha.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Qi(t){return"function"!=typeof t.constructor||lo(t)?{}:Xs(es(t))}function to(t,e,n,r){var i=t.constructor;switch(e){case oe:return Kr(t);case Xt:case Wt:return new i(+t);case ae:return Zr(t,r);case se:case ue:case le:case ce:case he:case fe:case de:case pe:case ve:return ei(t,r);case Yt:return $r(t,r,n);case Vt:case te:return new i(t);case Jt:return Jr(t);case Qt:return Qr(t,r,n);case ee:return ti(t)}}function eo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ke,"{\n/* [wrapped with "+e+"] */\n")}function no(t){return Hu(t)||zu(t)||!!(os&&t&&t[os])}function ro(t,e){return!!(e=null==e?Rt:e)&&("number"==typeof t||qe.test(t))&&t>-1&&t%1==0&&t<e}function io(t,e,n){if(!ta(n))return!1;var r=typeof e;return!!("number"==r?Vo(n)&&ro(e,n.length):"string"==r&&e in n)&&Yo(n[e],t)}function oo(t,e){if(Hu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!oa(t))||Oe.test(t)||!Se.test(t)||null!=e&&t in ka(e)}function ao(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function so(t){var e=Wi(t),r=n[e];if("function"!=typeof r||!(e in K.prototype))return!1;if(t===r)return!0;var i=$s(r);return!!i&&t===i[0]}function uo(t){return!!qa&&qa in t}function lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Xa)}function co(t){return t===t&&!ta(t)}function ho(t,e){return function(n){return null!=n&&n[t]===e&&(e!==nt||t in ka(n))}}function fo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(pt|vt|xt),a=r==xt&&n==gt||r==xt&&n==wt&&t[7].length<=e[8]||r==(xt|wt)&&e[7].length<=e[8]&&n==gt;if(!o&&!a)return t;r&pt&&(t[2]=e[2],i|=n&pt?0:yt);var s=e[3];if(s){var u=t[3];t[3]=u?ii(u,s,e[4]):s,t[4]=u?q(t[3],ut):e[4]}return(s=e[5])&&(u=t[5],t[5]=u?oi(u,s,e[6]):s,t[6]=u?q(t[5],ut):e[6]),(s=e[7])&&(t[7]=s),r&xt&&(t[8]=null==t[8]?e[8]:bs(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function po(t){var e=[];if(null!=t)for(var n in ka(t))e.push(n);return e}function vo(t){return Ya.call(t)}function yo(t,e,n){return e=ms(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=ms(r.length-e,0),s=Pa(a);++i<a;)s[i]=r[e+i];i=-1;for(var u=Pa(e+1);++i<e;)u[i]=r[i];return u[e]=n(s),o(t,this,u)}}function go(t,e){return e.length<2?t:kn(t,Pr(e,0,-1))}function _o(t,e){for(var n=t.length,r=bs(e.length,n),i=ai(t);r--;){var o=e[r];t[r]=ro(o,n)?i[o]:nt}return t}function mo(t,e,n){var r=e+"";return iu(t,eo(r,Eo(Zi(r),n)))}function bo(t){var e=0,n=0;return function(){var r=xs(),i=Ot-(r-n);if(n=r,i>0){if(++e>=St)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function xo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=wr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function wo(t){if("string"==typeof t||oa(t))return t;var e=t+"";return"0"==e&&1/t==-Pt?"-0":e}function To(t){if(null!=t){try{return za.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Eo(t,e){return s(jt,function(n){var r="_."+n[0];e&n[1]&&!h(t,r)&&t.push(r)}),t.sort()}function Mo(t){if(t instanceof K)return t.clone();var e=new O(t.__wrapped__,t.__chain__);return e.__actions__=ai(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function So(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ua(n);return i<0&&(i=ms(r+i,0)),x(t,Hi(e,3),i)}function Oo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=ua(n),i=n<0?ms(r+i,0):bs(i,r-1)),x(t,Hi(e,3),i,!0)}function Co(t){return(null==t?0:t.length)?An(t,1):[]}function Ao(t){return t&&t.length?t[0]:nt}function Po(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function Ro(t,e){return t&&t.length&&e&&e.length?br(t,e):t}function Io(t){return null==t?t:Es.call(t)}function Do(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(Ko(t))return e=ms(t.length,e),!0}),R(e,function(e){return d(t,S(e))})}function Lo(t,e){if(!t||!t.length)return[];var n=Do(t);return null==e?n:d(n,function(t){return o(e,nt,t)})}function ko(t){var e=n(t);return e.__chain__=!0,e}function No(t,e){return e(t)}function jo(t,e){return(Hu(t)?s:Ws)(t,Hi(e,3))}function Bo(t,e){return(Hu(t)?u:zs)(t,Hi(e,3))}function Fo(t,e){return(Hu(t)?d:cr)(t,Hi(e,3))}function Uo(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,Ii(t,xt,nt,nt,nt,nt,e)}function Xo(t,e){var n;if("function"!=typeof e)throw new Ba(ot);return t=ua(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Wo(t,e,n){var r=Ii(t,gt,nt,nt,nt,nt,nt,e=n?nt:e);return r.placeholder=Wo.placeholder,r}function zo(t,e,n){var r=Ii(t,_t,nt,nt,nt,nt,nt,e=n?nt:e);return r.placeholder=zo.placeholder,r}function Ho(t,e,n){function r(e){var n=c,r=h;return c=h=nt,y=e,d=t.apply(r,n)}function i(t){return y=t,p=ru(s,e),g?r(t):d}function o(t){var n=t-y,r=e-(t-v);return _?bs(r,f-n):r}function a(t){var n=t-v,r=t-y;return v===nt||n>=e||n<0||_&&r>=f}function s(){var t=Iu();if(a(t))return u(t);p=ru(s,o(t))}function u(t){return p=nt,m&&c?r(t):(c=h=nt,d)}function l(){var t=Iu(),n=a(t);if(c=arguments,h=this,v=t,n){if(p===nt)return i(v);if(_)return p=ru(s,e),r(v)}return p===nt&&(p=ru(s,e)),d}var c,h,f,d,p,v,y=0,g=!1,_=!1,m=!0;if("function"!=typeof t)throw new Ba(ot);return e=ca(e)||0,ta(n)&&(g=!!n.leading,f=(_="maxWait"in n)?ms(ca(n.maxWait)||0,e):f,m="trailing"in n?!!n.trailing:m),l.cancel=function(){p!==nt&&Ks(p),y=0,c=v=h=p=nt},l.flush=function(){return p===nt?d:u(Iu())},l}function Go(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ba(ot);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Go.Cache||Be),n}function qo(t){if("function"!=typeof t)throw new Ba(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Yo(t,e){return t===e||t!==t&&e!==e}function Vo(t){return null!=t&&Qo(t.length)&&!$o(t)}function Ko(t){return ea(t)&&Vo(t)}function Zo(t){if(!ea(t))return!1;var e=Yn(t);return e==Ht||e==zt||"string"==typeof t.message&&"string"==typeof t.name&&!ra(t)}function $o(t){if(!ta(t))return!1;var e=Yn(t);return e==Gt||e==qt||e==Ut||e==$t}function Jo(t){return"number"==typeof t&&t==ua(t)}function Qo(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function ta(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ea(t){return null!=t&&"object"==typeof t}function na(t){return"number"==typeof t||ea(t)&&Yn(t)==Vt}function ra(t){if(!ea(t)||Yn(t)!=Zt)return!1;var e=es(t);if(null===e)return!0;var n=Ha.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&za.call(n)==Va}function ia(t){return"string"==typeof t||!Hu(t)&&ea(t)&&Yn(t)==te}function oa(t){return"symbol"==typeof t||ea(t)&&Yn(t)==ee}function aa(t){if(!t)return[];if(Vo(t))return ia(t)?J(t):ai(t);if(as&&t[as])return z(t[as]());var e=tu(t);return(e==Yt?H:e==Qt?Y:_a)(t)}function sa(t){return t?(t=ca(t))===Pt||t===-Pt?(t<0?-1:1)*It:t===t?t:0:0===t?t:0}function ua(t){var e=sa(t),n=e%1;return e===e?n?e-n:e:0}function la(t){return t?hn(ua(t),0,Lt):0}function ca(t){if("number"==typeof t)return t;if(oa(t))return Dt;if(ta(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ta(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ie,"");var n=ze.test(t);return n||Ge.test(t)?On(t.slice(2),n?2:8):We.test(t)?Dt:+t}function ha(t){return si(t,ya(t))}function fa(t){return null==t?"":Nr(t)}function da(t,e,n){var r=null==t?nt:kn(t,e);return r===nt?n:r}function pa(t,e){return null!=t&&$i(t,e,Zn)}function va(t){return Vo(t)?Je(t):sr(t)}function ya(t){return Vo(t)?Je(t,!0):ur(t)}function ga(t,e){if(null==t)return{};var n=d(Xi(t),function(t){return[t]});return e=Hi(e),_r(t,n,function(t,n){return e(t,n[0])})}function _a(t){return null==t?[]:L(t,va(t))}function ma(t){return Tl(fa(t).toLowerCase())}function ba(t){return(t=fa(t))&&t.replace(Ye,zn).replace(dn,"")}function xa(t,e,n){return t=fa(t),(e=n?nt:e)===nt?W(t)?et(t):m(t):t.match(e)||[]}function wa(t){return function(){return t}}function Ta(t){return t}function Ea(t){return ar("function"==typeof t?t:pn(t,lt))}function Ma(t,e,n){var r=va(e),i=Ln(e,r);null!=n||ta(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Ln(e,va(e)));var o=!(ta(n)&&"chain"in n&&!n.chain),a=$o(t);return s(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=ai(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function Sa(){}function Oa(t){return oo(t)?S(wo(t)):mr(t)}function Ca(){return[]}function Aa(){return!1}var Pa=(e=null==e?Pn:qn.defaults(Pn.Object(),e,qn.pick(Pn,_n))).Array,Ra=e.Date,Ia=e.Error,Da=e.Function,La=e.Math,ka=e.Object,Na=e.RegExp,ja=e.String,Ba=e.TypeError,Fa=Pa.prototype,Ua=Da.prototype,Xa=ka.prototype,Wa=e["__core-js_shared__"],za=Ua.toString,Ha=Xa.hasOwnProperty,Ga=0,qa=function(){var t=/[^.]+$/.exec(Wa&&Wa.keys&&Wa.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ya=Xa.toString,Va=za.call(ka),Ka=Pn._,Za=Na("^"+za.call(Ha).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$a=Dn?e.Buffer:nt,Ja=e.Symbol,Qa=e.Uint8Array,ts=$a?$a.allocUnsafe:nt,es=G(ka.getPrototypeOf,ka),ns=ka.create,rs=Xa.propertyIsEnumerable,is=Fa.splice,os=Ja?Ja.isConcatSpreadable:nt,as=Ja?Ja.iterator:nt,ss=Ja?Ja.toStringTag:nt,us=function(){try{var t=Yi(ka,"defineProperty");return t({},"",{}),t}catch(t){}}(),ls=e.clearTimeout!==Pn.clearTimeout&&e.clearTimeout,cs=Ra&&Ra.now!==Pn.Date.now&&Ra.now,hs=e.setTimeout!==Pn.setTimeout&&e.setTimeout,fs=La.ceil,ds=La.floor,ps=ka.getOwnPropertySymbols,vs=$a?$a.isBuffer:nt,ys=e.isFinite,gs=Fa.join,_s=G(ka.keys,ka),ms=La.max,bs=La.min,xs=Ra.now,ws=e.parseInt,Ts=La.random,Es=Fa.reverse,Ms=Yi(e,"DataView"),Ss=Yi(e,"Map"),Os=Yi(e,"Promise"),Cs=Yi(e,"Set"),As=Yi(e,"WeakMap"),Ps=Yi(ka,"create"),Rs=As&&new As,Is={},Ds=To(Ms),Ls=To(Ss),ks=To(Os),Ns=To(Cs),js=To(As),Bs=Ja?Ja.prototype:nt,Fs=Bs?Bs.valueOf:nt,Us=Bs?Bs.toString:nt,Xs=function(){function t(){}return function(e){if(!ta(e))return{};if(ns)return ns(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:Te,evaluate:Ee,interpolate:Me,variable:"",imports:{_:n}},n.prototype=_.prototype,n.prototype.constructor=n,O.prototype=Xs(_.prototype),O.prototype.constructor=O,K.prototype=Xs(_.prototype),K.prototype.constructor=K,Q.prototype.clear=function(){this.__data__=Ps?Ps(null):{},this.size=0},Q.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Q.prototype.get=function(t){var e=this.__data__;if(Ps){var n=e[t];return n===at?nt:n}return Ha.call(e,t)?e[t]:nt},Q.prototype.has=function(t){var e=this.__data__;return Ps?e[t]!==nt:Ha.call(e,t)},Q.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ps&&e===nt?at:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=on(e,t);return!(n<0||(n==e.length-1?e.pop():is.call(e,n,1),--this.size,0))},tt.prototype.get=function(t){var e=this.__data__,n=on(e,t);return n<0?nt:e[n][1]},tt.prototype.has=function(t){return on(this.__data__,t)>-1},tt.prototype.set=function(t,e){var n=this.__data__,r=on(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Be.prototype.clear=function(){this.size=0,this.__data__={hash:new Q,map:new(Ss||tt),string:new Q}},Be.prototype.delete=function(t){var e=Gi(this,t).delete(t);return this.size-=e?1:0,e},Be.prototype.get=function(t){return Gi(this,t).get(t)},Be.prototype.has=function(t){return Gi(this,t).has(t)},Be.prototype.set=function(t,e){var n=Gi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Ze.prototype.add=Ze.prototype.push=function(t){return this.__data__.set(t,at),this},Ze.prototype.has=function(t){return this.__data__.has(t)},$e.prototype.clear=function(){this.__data__=new tt,this.size=0},$e.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},$e.prototype.get=function(t){return this.__data__.get(t)},$e.prototype.has=function(t){return this.__data__.has(t)},$e.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!Ss||r.length<rt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Be(r)}return n.set(t,e),this.size=n.size,this};var Ws=fi(Rn),zs=fi(In,!0),Hs=di(),Gs=di(!0),qs=Rs?function(t,e){return Rs.set(t,e),t}:Ta,Ys=us?function(t,e){return us(t,"toString",{configurable:!0,enumerable:!1,value:wa(e),writable:!0})}:Ta,Vs=Mr,Ks=ls||function(t){return Pn.clearTimeout(t)},Zs=Cs&&1/Y(new Cs([,-0]))[1]==Pt?function(t){return new Cs(t)}:Sa,$s=Rs?function(t){return Rs.get(t)}:Sa,Js=ps?function(t){return null==t?[]:(t=ka(t),c(ps(t),function(e){return rs.call(t,e)}))}:Ca,Qs=ps?function(t){for(var e=[];t;)p(e,Js(t)),t=es(t);return e}:Ca,tu=Yn;(Ms&&tu(new Ms(new ArrayBuffer(1)))!=ae||Ss&&tu(new Ss)!=Yt||Os&&"[object Promise]"!=tu(Os.resolve())||Cs&&tu(new Cs)!=Qt||As&&tu(new As)!=re)&&(tu=function(t){var e=Yn(t),n=e==Zt?t.constructor:nt,r=n?To(n):"";if(r)switch(r){case Ds:return ae;case Ls:return Yt;case ks:return"[object Promise]";case Ns:return Qt;case js:return re}return e});var eu=Wa?$o:Aa,nu=bo(qs),ru=hs||function(t,e){return Pn.setTimeout(t,e)},iu=bo(Ys),ou=function(t){var e=Go(t,function(t){return n.size===st&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Ce.test(t)&&e.push(""),t.replace(Ae,function(t,n,r,i){e.push(r?i.replace(Fe,"$1"):n||t)}),e}),au=Mr(function(t,e){return Ko(t)?wn(t,An(e,1,Ko,!0)):[]}),su=Mr(function(t,e){var n=Po(e);return Ko(n)&&(n=nt),Ko(t)?wn(t,An(e,1,Ko,!0),Hi(n,2)):[]}),uu=Mr(function(t,e){var n=Po(e);return Ko(n)&&(n=nt),Ko(t)?wn(t,An(e,1,Ko,!0),nt,n):[]}),lu=Mr(function(t){var e=d(t,Hr);return e.length&&e[0]===t[0]?Jn(e):[]}),cu=Mr(function(t){var e=Po(t),n=d(t,Hr);return e===Po(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?Jn(n,Hi(e,2)):[]}),hu=Mr(function(t){var e=Po(t),n=d(t,Hr);return(e="function"==typeof e?e:nt)&&n.pop(),n.length&&n[0]===t[0]?Jn(n,nt,e):[]}),fu=Mr(Ro),du=Fi(function(t,e){var n=null==t?0:t.length,r=cn(t,e);return xr(t,d(e,function(t){return ro(t,n)?+t:t}).sort(ni)),r}),pu=Mr(function(t){return jr(An(t,1,Ko,!0))}),vu=Mr(function(t){var e=Po(t);return Ko(e)&&(e=nt),jr(An(t,1,Ko,!0),Hi(e,2))}),yu=Mr(function(t){var e=Po(t);return e="function"==typeof e?e:nt,jr(An(t,1,Ko,!0),nt,e)}),gu=Mr(function(t,e){return Ko(t)?wn(t,e):[]}),_u=Mr(function(t){return Wr(c(t,Ko))}),mu=Mr(function(t){var e=Po(t);return Ko(e)&&(e=nt),Wr(c(t,Ko),Hi(e,2))}),bu=Mr(function(t){var e=Po(t);return e="function"==typeof e?e:nt,Wr(c(t,Ko),nt,e)}),xu=Mr(Do),wu=Mr(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Lo(t,n)}),Tu=Fi(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return cn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof K&&ro(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:No,args:[i],thisArg:nt}),new O(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(i)}),Eu=ci(function(t,e,n){Ha.call(t,n)?++t[n]:ln(t,n,1)}),Mu=mi(So),Su=mi(Oo),Ou=ci(function(t,e,n){Ha.call(t,n)?t[n].push(e):ln(t,n,[e])}),Cu=Mr(function(t,e,n){var r=-1,i="function"==typeof e,a=Vo(t)?Pa(t.length):[];return Ws(t,function(t){a[++r]=i?o(e,t,n):tr(t,e,n)}),a}),Au=ci(function(t,e,n){ln(t,n,e)}),Pu=ci(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Ru=Mr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&io(t,e[0],e[1])?e=[]:n>2&&io(e[0],e[1],e[2])&&(e=[e[0]]),yr(t,An(e,1),[])}),Iu=cs||function(){return Pn.Date.now()},Du=Mr(function(t,e,n){var r=pt;if(n.length){var i=q(n,zi(Du));r|=mt}return Ii(t,r,e,n,i)}),Lu=Mr(function(t,e,n){var r=pt|vt;if(n.length){var i=q(n,zi(Lu));r|=mt}return Ii(e,r,t,n,i)}),ku=Mr(function(t,e){return gn(t,1,e)}),Nu=Mr(function(t,e,n){return gn(t,ca(e)||0,n)});Go.Cache=Be;var ju=Vs(function(t,e){var n=(e=1==e.length&&Hu(e[0])?d(e[0],D(Hi())):d(An(e,1),D(Hi()))).length;return Mr(function(r){for(var i=-1,a=bs(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),Bu=Mr(function(t,e){var n=q(e,zi(Bu));return Ii(t,mt,nt,e,n)}),Fu=Mr(function(t,e){var n=q(e,zi(Fu));return Ii(t,bt,nt,e,n)}),Uu=Fi(function(t,e){return Ii(t,wt,nt,nt,nt,e)}),Xu=Ci(Vn),Wu=Ci(function(t,e){return t>=e}),zu=er(function(){return arguments}())?er:function(t){return ea(t)&&Ha.call(t,"callee")&&!rs.call(t,"callee")},Hu=Pa.isArray,Gu=Nn?D(Nn):function(t){return ea(t)&&Yn(t)==oe},qu=vs||Aa,Yu=jn?D(jn):function(t){return ea(t)&&Yn(t)==Wt},Vu=Bn?D(Bn):function(t){return ea(t)&&tu(t)==Yt},Ku=Fn?D(Fn):function(t){return ea(t)&&Yn(t)==Jt},Zu=Un?D(Un):function(t){return ea(t)&&tu(t)==Qt},$u=Xn?D(Xn):function(t){return ea(t)&&Qo(t.length)&&!!bn[Yn(t)]},Ju=Ci(lr),Qu=Ci(function(t,e){return t<=e}),tl=hi(function(t,e){if(lo(e)||Vo(e))si(e,va(e),t);else for(var n in e)Ha.call(e,n)&&rn(t,n,e[n])}),el=hi(function(t,e){si(e,ya(e),t)}),nl=hi(function(t,e,n,r){si(e,ya(e),t,r)}),rl=hi(function(t,e,n,r){si(e,va(e),t,r)}),il=Fi(cn),ol=Mr(function(t){return t.push(nt,Di),o(nl,nt,t)}),al=Mr(function(t){return t.push(nt,Li),o(hl,nt,t)}),sl=wi(function(t,e,n){t[e]=n},wa(Ta)),ul=wi(function(t,e,n){Ha.call(t,e)?t[e].push(n):t[e]=[n]},Hi),ll=Mr(tr),cl=hi(function(t,e,n){dr(t,e,n)}),hl=hi(function(t,e,n,r){dr(t,e,n,r)}),fl=Fi(function(t,e){var n={};if(null==t)return n;var r=!1;e=d(e,function(e){return e=qr(e,t),r||(r=e.length>1),e}),si(t,Xi(t),n),r&&(n=pn(n,lt|ct|ht,ki));for(var i=e.length;i--;)Br(n,e[i]);return n}),dl=Fi(function(t,e){return null==t?{}:gr(t,e)}),pl=Ri(va),vl=Ri(ya),yl=yi(function(t,e,n){return e=e.toLowerCase(),t+(n?ma(e):e)}),gl=yi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),_l=yi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),ml=vi("toLowerCase"),bl=yi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),xl=yi(function(t,e,n){return t+(n?" ":"")+Tl(e)}),wl=yi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Tl=vi("toUpperCase"),El=Mr(function(t,e){try{return o(t,nt,e)}catch(t){return Zo(t)?t:new Ia(t)}}),Ml=Fi(function(t,e){return s(e,function(e){e=wo(e),ln(t,e,Du(t[e],t))}),t}),Sl=bi(),Ol=bi(!0),Cl=Mr(function(t,e){return function(n){return tr(n,t,e)}}),Al=Mr(function(t,e){return function(n){return tr(t,n,e)}}),Pl=Ei(d),Rl=Ei(l),Il=Ei(g),Dl=Oi(),Ll=Oi(!0),kl=Ti(function(t,e){return t+e},0),Nl=Pi("ceil"),jl=Ti(function(t,e){return t/e},1),Bl=Pi("floor"),Fl=Ti(function(t,e){return t*e},1),Ul=Pi("round"),Xl=Ti(function(t,e){return t-e},0);return n.after=function(t,e){if("function"!=typeof e)throw new Ba(ot);return t=ua(t),function(){if(--t<1)return e.apply(this,arguments)}},n.ary=Uo,n.assign=tl,n.assignIn=el,n.assignInWith=nl,n.assignWith=rl,n.at=il,n.before=Xo,n.bind=Du,n.bindAll=Ml,n.bindKey=Lu,n.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Hu(t)?t:[t]},n.chain=ko,n.chunk=function(t,e,n){e=(n?io(t,e,n):e===nt)?1:ms(ua(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=Pa(fs(r/e));i<r;)a[o++]=Pr(t,i,i+=e);return a},n.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},n.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Pa(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return p(Hu(n)?ai(n):[n],An(e,1))},n.cond=function(t){var e=null==t?0:t.length,n=Hi();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new Ba(ot);return[n(t[0]),t[1]]}):[],Mr(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})},n.conforms=function(t){return vn(pn(t,lt))},n.constant=wa,n.countBy=Eu,n.create=function(t,e){var n=Xs(t);return null==e?n:sn(n,e)},n.curry=Wo,n.curryRight=zo,n.debounce=Ho,n.defaults=ol,n.defaultsDeep=al,n.defer=ku,n.delay=Nu,n.difference=au,n.differenceBy=su,n.differenceWith=uu,n.drop=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:ua(e),Pr(t,e<0?0:e,r)):[]},n.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:ua(e),e=r-e,Pr(t,0,e<0?0:e)):[]},n.dropRightWhile=function(t,e){return t&&t.length?Ur(t,Hi(e,3),!0,!0):[]},n.dropWhile=function(t,e){return t&&t.length?Ur(t,Hi(e,3),!0):[]},n.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&io(t,e,n)&&(n=0,r=i),Mn(t,e,n,r)):[]},n.filter=function(t,e){return(Hu(t)?c:Cn)(t,Hi(e,3))},n.flatMap=function(t,e){return An(Fo(t,e),1)},n.flatMapDeep=function(t,e){return An(Fo(t,e),Pt)},n.flatMapDepth=function(t,e,n){return n=n===nt?1:ua(n),An(Fo(t,e),n)},n.flatten=Co,n.flattenDeep=function(t){return(null==t?0:t.length)?An(t,Pt):[]},n.flattenDepth=function(t,e){return(null==t?0:t.length)?(e=e===nt?1:ua(e),An(t,e)):[]},n.flip=function(t){return Ii(t,Tt)},n.flow=Sl,n.flowRight=Ol,n.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},n.functions=function(t){return null==t?[]:Ln(t,va(t))},n.functionsIn=function(t){return null==t?[]:Ln(t,ya(t))},n.groupBy=Ou,n.initial=function(t){return(null==t?0:t.length)?Pr(t,0,-1):[]},n.intersection=lu,n.intersectionBy=cu,n.intersectionWith=hu,n.invert=sl,n.invertBy=ul,n.invokeMap=Cu,n.iteratee=Ea,n.keyBy=Au,n.keys=va,n.keysIn=ya,n.map=Fo,n.mapKeys=function(t,e){var n={};return e=Hi(e,3),Rn(t,function(t,r,i){ln(n,e(t,r,i),t)}),n},n.mapValues=function(t,e){var n={};return e=Hi(e,3),Rn(t,function(t,r,i){ln(n,r,e(t,r,i))}),n},n.matches=function(t){return hr(pn(t,lt))},n.matchesProperty=function(t,e){return fr(t,pn(e,lt))},n.memoize=Go,n.merge=cl,n.mergeWith=hl,n.method=Cl,n.methodOf=Al,n.mixin=Ma,n.negate=qo,n.nthArg=function(t){return t=ua(t),Mr(function(e){return vr(e,t)})},n.omit=fl,n.omitBy=function(t,e){return ga(t,qo(Hi(e)))},n.once=function(t){return Xo(2,t)},n.orderBy=function(t,e,n,r){return null==t?[]:(Hu(e)||(e=null==e?[]:[e]),n=r?nt:n,Hu(n)||(n=null==n?[]:[n]),yr(t,e,n))},n.over=Pl,n.overArgs=ju,n.overEvery=Rl,n.overSome=Il,n.partial=Bu,n.partialRight=Fu,n.partition=Pu,n.pick=dl,n.pickBy=ga,n.property=Oa,n.propertyOf=function(t){return function(e){return null==t?nt:kn(t,e)}},n.pull=fu,n.pullAll=Ro,n.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?br(t,e,Hi(n,2)):t},n.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?br(t,e,nt,n):t},n.pullAt=du,n.range=Dl,n.rangeRight=Ll,n.rearg=Uu,n.reject=function(t,e){return(Hu(t)?c:Cn)(t,qo(Hi(e,3)))},n.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Hi(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return xr(t,i),n},n.rest=function(t,e){if("function"!=typeof t)throw new Ba(ot);return e=e===nt?e:ua(e),Mr(t,e)},n.reverse=Io,n.sampleSize=function(t,e,n){return e=(n?io(t,e,n):e===nt)?1:ua(e),(Hu(t)?tn:Or)(t,e)},n.set=function(t,e,n){return null==t?t:Cr(t,e,n)},n.setWith=function(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:Cr(t,e,n,r)},n.shuffle=function(t){return(Hu(t)?en:Ar)(t)},n.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&io(t,e,n)?(e=0,n=r):(e=null==e?0:ua(e),n=n===nt?r:ua(n)),Pr(t,e,n)):[]},n.sortBy=Ru,n.sortedUniq=function(t){return t&&t.length?Lr(t):[]},n.sortedUniqBy=function(t,e){return t&&t.length?Lr(t,Hi(e,2)):[]},n.split=function(t,e,n){return n&&"number"!=typeof n&&io(t,e,n)&&(e=n=nt),(n=n===nt?Lt:n>>>0)?(t=fa(t))&&("string"==typeof e||null!=e&&!Ku(e))&&!(e=Nr(e))&&X(t)?Yr(J(t),0,n):t.split(e,n):[]},n.spread=function(t,e){if("function"!=typeof t)throw new Ba(ot);return e=null==e?0:ms(ua(e),0),Mr(function(n){var r=n[e],i=Yr(n,0,e);return r&&p(i,r),o(t,this,i)})},n.tail=function(t){var e=null==t?0:t.length;return e?Pr(t,1,e):[]},n.take=function(t,e,n){return t&&t.length?(e=n||e===nt?1:ua(e),Pr(t,0,e<0?0:e)):[]},n.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:ua(e),e=r-e,Pr(t,e<0?0:e,r)):[]},n.takeRightWhile=function(t,e){return t&&t.length?Ur(t,Hi(e,3),!1,!0):[]},n.takeWhile=function(t,e){return t&&t.length?Ur(t,Hi(e,3)):[]},n.tap=function(t,e){return e(t),t},n.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ba(ot);return ta(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ho(t,e,{leading:r,maxWait:e,trailing:i})},n.thru=No,n.toArray=aa,n.toPairs=pl,n.toPairsIn=vl,n.toPath=function(t){return Hu(t)?d(t,wo):oa(t)?[t]:ai(ou(fa(t)))},n.toPlainObject=ha,n.transform=function(t,e,n){var r=Hu(t),i=r||qu(t)||$u(t);if(e=Hi(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ta(t)&&$o(o)?Xs(es(t)):{}}return(i?s:Rn)(t,function(t,r,i){return e(n,t,r,i)}),n},n.unary=function(t){return Uo(t,1)},n.union=pu,n.unionBy=vu,n.unionWith=yu,n.uniq=function(t){return t&&t.length?jr(t):[]},n.uniqBy=function(t,e){return t&&t.length?jr(t,Hi(e,2)):[]},n.uniqWith=function(t,e){return e="function"==typeof e?e:nt,t&&t.length?jr(t,nt,e):[]},n.unset=function(t,e){return null==t||Br(t,e)},n.unzip=Do,n.unzipWith=Lo,n.update=function(t,e,n){return null==t?t:Fr(t,e,Gr(n))},n.updateWith=function(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:Fr(t,e,Gr(n),r)},n.values=_a,n.valuesIn=function(t){return null==t?[]:L(t,ya(t))},n.without=gu,n.words=xa,n.wrap=function(t,e){return Bu(Gr(e),t)},n.xor=_u,n.xorBy=mu,n.xorWith=bu,n.zip=xu,n.zipObject=function(t,e){return zr(t||[],e||[],rn)},n.zipObjectDeep=function(t,e){return zr(t||[],e||[],Cr)},n.zipWith=wu,n.entries=pl,n.entriesIn=vl,n.extend=el,n.extendWith=nl,Ma(n,n),n.add=kl,n.attempt=El,n.camelCase=yl,n.capitalize=ma,n.ceil=Nl,n.clamp=function(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=(n=ca(n))===n?n:0),e!==nt&&(e=(e=ca(e))===e?e:0),hn(ca(t),e,n)},n.clone=function(t){return pn(t,ht)},n.cloneDeep=function(t){return pn(t,lt|ht)},n.cloneDeepWith=function(t,e){return e="function"==typeof e?e:nt,pn(t,lt|ht,e)},n.cloneWith=function(t,e){return e="function"==typeof e?e:nt,pn(t,ht,e)},n.conformsTo=function(t,e){return null==e||yn(t,e,va(e))},n.deburr=ba,n.defaultTo=function(t,e){return null==t||t!==t?e:t},n.divide=jl,n.endsWith=function(t,e,n){t=fa(t),e=Nr(e);var r=t.length,i=n=n===nt?r:hn(ua(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},n.eq=Yo,n.escape=function(t){return(t=fa(t))&&we.test(t)?t.replace(be,Hn):t},n.escapeRegExp=function(t){return(t=fa(t))&&Re.test(t)?t.replace(Pe,"\\$&"):t},n.every=function(t,e,n){var r=Hu(t)?l:Tn;return n&&io(t,e,n)&&(e=nt),r(t,Hi(e,3))},n.find=Mu,n.findIndex=So,n.findKey=function(t,e){return b(t,Hi(e,3),Rn)},n.findLast=Su,n.findLastIndex=Oo,n.findLastKey=function(t,e){return b(t,Hi(e,3),In)},n.floor=Bl,n.forEach=jo,n.forEachRight=Bo,n.forIn=function(t,e){return null==t?t:Hs(t,Hi(e,3),ya)},n.forInRight=function(t,e){return null==t?t:Gs(t,Hi(e,3),ya)},n.forOwn=function(t,e){return t&&Rn(t,Hi(e,3))},n.forOwnRight=function(t,e){return t&&In(t,Hi(e,3))},n.get=da,n.gt=Xu,n.gte=Wu,n.has=function(t,e){return null!=t&&$i(t,e,Kn)},n.hasIn=pa,n.head=Ao,n.identity=Ta,n.includes=function(t,e,n,r){t=Vo(t)?t:_a(t),n=n&&!r?ua(n):0;var i=t.length;return n<0&&(n=ms(i+n,0)),ia(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&w(t,e,n)>-1},n.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ua(n);return i<0&&(i=ms(r+i,0)),w(t,e,i)},n.inRange=function(t,e,n){return e=sa(e),n===nt?(n=e,e=0):n=sa(n),t=ca(t),$n(t,e,n)},n.invoke=ll,n.isArguments=zu,n.isArray=Hu,n.isArrayBuffer=Gu,n.isArrayLike=Vo,n.isArrayLikeObject=Ko,n.isBoolean=function(t){return!0===t||!1===t||ea(t)&&Yn(t)==Xt},n.isBuffer=qu,n.isDate=Yu,n.isElement=function(t){return ea(t)&&1===t.nodeType&&!ra(t)},n.isEmpty=function(t){if(null==t)return!0;if(Vo(t)&&(Hu(t)||"string"==typeof t||"function"==typeof t.splice||qu(t)||$u(t)||zu(t)))return!t.length;var e=tu(t);if(e==Yt||e==Qt)return!t.size;if(lo(t))return!sr(t).length;for(var n in t)if(Ha.call(t,n))return!1;return!0},n.isEqual=function(t,e){return nr(t,e)},n.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:nt)?n(t,e):nt;return r===nt?nr(t,e,nt,n):!!r},n.isError=Zo,n.isFinite=function(t){return"number"==typeof t&&ys(t)},n.isFunction=$o,n.isInteger=Jo,n.isLength=Qo,n.isMap=Vu,n.isMatch=function(t,e){return t===e||ir(t,e,qi(e))},n.isMatchWith=function(t,e,n){return n="function"==typeof n?n:nt,ir(t,e,qi(e),n)},n.isNaN=function(t){return na(t)&&t!=+t},n.isNative=function(t){if(eu(t))throw new Ia(it);return or(t)},n.isNil=function(t){return null==t},n.isNull=function(t){return null===t},n.isNumber=na,n.isObject=ta,n.isObjectLike=ea,n.isPlainObject=ra,n.isRegExp=Ku,n.isSafeInteger=function(t){return Jo(t)&&t>=-Rt&&t<=Rt},n.isSet=Zu,n.isString=ia,n.isSymbol=oa,n.isTypedArray=$u,n.isUndefined=function(t){return t===nt},n.isWeakMap=function(t){return ea(t)&&tu(t)==re},n.isWeakSet=function(t){return ea(t)&&Yn(t)==ie},n.join=function(t,e){return null==t?"":gs.call(t,e)},n.kebabCase=gl,n.last=Po,n.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=(i=ua(n))<0?ms(r+i,0):bs(i,r-1)),e===e?Z(t,e,i):x(t,E,i,!0)},n.lowerCase=_l,n.lowerFirst=ml,n.lt=Ju,n.lte=Qu,n.max=function(t){return t&&t.length?En(t,Ta,Vn):nt},n.maxBy=function(t,e){return t&&t.length?En(t,Hi(e,2),Vn):nt},n.mean=function(t){return M(t,Ta)},n.meanBy=function(t,e){return M(t,Hi(e,2))},n.min=function(t){return t&&t.length?En(t,Ta,lr):nt},n.minBy=function(t,e){return t&&t.length?En(t,Hi(e,2),lr):nt},n.stubArray=Ca,n.stubFalse=Aa,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=Fl,n.nth=function(t,e){return t&&t.length?vr(t,ua(e)):nt},n.noConflict=function(){return Pn._===this&&(Pn._=Ka),this},n.noop=Sa,n.now=Iu,n.pad=function(t,e,n){t=fa(t);var r=(e=ua(e))?$(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Mi(ds(i),n)+t+Mi(fs(i),n)},n.padEnd=function(t,e,n){t=fa(t);var r=(e=ua(e))?$(t):0;return e&&r<e?t+Mi(e-r,n):t},n.padStart=function(t,e,n){t=fa(t);var r=(e=ua(e))?$(t):0;return e&&r<e?Mi(e-r,n)+t:t},n.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),ws(fa(t).replace(De,""),e||0)},n.random=function(t,e,n){if(n&&"boolean"!=typeof n&&io(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=sa(t),e===nt?(e=t,t=0):e=sa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Ts();return bs(t+i*(e-t+Sn("1e-"+((i+"").length-1))),e)}return wr(t,e)},n.reduce=function(t,e,n){var r=Hu(t)?v:C,i=arguments.length<3;return r(t,Hi(e,4),n,i,Ws)},n.reduceRight=function(t,e,n){var r=Hu(t)?y:C,i=arguments.length<3;return r(t,Hi(e,4),n,i,zs)},n.repeat=function(t,e,n){return e=(n?io(t,e,n):e===nt)?1:ua(e),Er(fa(t),e)},n.replace=function(){var t=arguments,e=fa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},n.result=function(t,e,n){var r=-1,i=(e=qr(e,t)).length;for(i||(i=1,t=nt);++r<i;){var o=null==t?nt:t[wo(e[r])];o===nt&&(r=i,o=n),t=$o(o)?o.call(t):o}return t},n.round=Ul,n.runInContext=t,n.sample=function(t){return(Hu(t)?Qe:Sr)(t)},n.size=function(t){if(null==t)return 0;if(Vo(t))return ia(t)?$(t):t.length;var e=tu(t);return e==Yt||e==Qt?t.size:sr(t).length},n.snakeCase=bl,n.some=function(t,e,n){var r=Hu(t)?g:Rr;return n&&io(t,e,n)&&(e=nt),r(t,Hi(e,3))},n.sortedIndex=function(t,e){return Ir(t,e)},n.sortedIndexBy=function(t,e,n){return Dr(t,e,Hi(n,2))},n.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Ir(t,e);if(r<n&&Yo(t[r],e))return r}return-1},n.sortedLastIndex=function(t,e){return Ir(t,e,!0)},n.sortedLastIndexBy=function(t,e,n){return Dr(t,e,Hi(n,2),!0)},n.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Ir(t,e,!0)-1;if(Yo(t[n],e))return n}return-1},n.startCase=xl,n.startsWith=function(t,e,n){return t=fa(t),n=null==n?0:hn(ua(n),0,t.length),e=Nr(e),t.slice(n,n+e.length)==e},n.subtract=Xl,n.sum=function(t){return t&&t.length?P(t,Ta):0},n.sumBy=function(t,e){return t&&t.length?P(t,Hi(e,2)):0},n.template=function(t,e,r){var i=n.templateSettings;r&&io(t,e,r)&&(e=nt),t=fa(t),e=nl({},e,i,Di);var o,a,s=nl({},e.imports,i.imports,Di),u=va(s),l=L(s,u),c=0,h=e.interpolate||Ve,f="__p += '",d=Na((e.escape||Ve).source+"|"+h.source+"|"+(h===Me?Ue:Ve).source+"|"+(e.evaluate||Ve).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++mn+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),f+=t.slice(c,u).replace(Ke,F),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),f+="';\n";var v=e.variable;v||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(ye,""):f).replace(ge,"$1").replace(_e,"$1;"),f="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var y=El(function(){return Da(u,p+"return "+f).apply(nt,l)});if(y.source=f,Zo(y))throw y;return y},n.times=function(t,e){if((t=ua(t))<1||t>Rt)return[];var n=Lt,r=bs(t,Lt);e=Hi(e),t-=Lt;for(var i=R(r,e);++n<t;)e(n);return i},n.toFinite=sa,n.toInteger=ua,n.toLength=la,n.toLower=function(t){return fa(t).toLowerCase()},n.toNumber=ca,n.toSafeInteger=function(t){return t?hn(ua(t),-Rt,Rt):0===t?t:0},n.toString=fa,n.toUpper=function(t){return fa(t).toUpperCase()},n.trim=function(t,e,n){if((t=fa(t))&&(n||e===nt))return t.replace(Ie,"");if(!t||!(e=Nr(e)))return t;var r=J(t),i=J(e);return Yr(r,N(r,i),j(r,i)+1).join("")},n.trimEnd=function(t,e,n){if((t=fa(t))&&(n||e===nt))return t.replace(Le,"");if(!t||!(e=Nr(e)))return t;var r=J(t);return Yr(r,0,j(r,J(e))+1).join("")},n.trimStart=function(t,e,n){if((t=fa(t))&&(n||e===nt))return t.replace(De,"");if(!t||!(e=Nr(e)))return t;var r=J(t);return Yr(r,N(r,J(e))).join("")},n.truncate=function(t,e){var n=Et,r=Mt;if(ta(e)){var i="separator"in e?e.separator:i;n="length"in e?ua(e.length):n,r="omission"in e?Nr(e.omission):r}var o=(t=fa(t)).length;if(X(t)){var a=J(t);o=a.length}if(n>=o)return t;var s=n-$(r);if(s<1)return r;var u=a?Yr(a,0,s).join(""):t.slice(0,s);if(i===nt)return u+r;if(a&&(s+=u.length-s),Ku(i)){if(t.slice(s).search(i)){var l,c=u;for(i.global||(i=Na(i.source,fa(Xe.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var h=l.index;u=u.slice(0,h===nt?s:h)}}else if(t.indexOf(Nr(i),s)!=s){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},n.unescape=function(t){return(t=fa(t))&&xe.test(t)?t.replace(me,Gn):t},n.uniqueId=function(t){var e=++Ga;return fa(t)+e},n.upperCase=wl,n.upperFirst=Tl,n.each=jo,n.eachRight=Bo,n.first=Ao,Ma(n,function(){var t={};return Rn(n,function(e,r){Ha.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.4",s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),s(["drop","take"],function(t,e){K.prototype[t]=function(n){n=n===nt?1:ms(ua(n),0);var r=this.__filtered__&&!e?new K(this):this.clone();return r.__filtered__?r.__takeCount__=bs(n,r.__takeCount__):r.__views__.push({size:bs(n,Lt),type:t+(r.__dir__<0?"Right":"")}),r},K.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Ct||3==n;K.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Hi(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");K.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");K.prototype[t]=function(){return this.__filtered__?new K(this):this[n](1)}}),K.prototype.compact=function(){return this.filter(Ta)},K.prototype.find=function(t){return this.filter(t).head()},K.prototype.findLast=function(t){return this.reverse().find(t)},K.prototype.invokeMap=Mr(function(t,e){return"function"==typeof t?new K(this):this.map(function(n){return tr(n,t,e)})}),K.prototype.reject=function(t){return this.filter(qo(Hi(t)))},K.prototype.slice=function(t,e){t=ua(t);var n=this;return n.__filtered__&&(t>0||e<0)?new K(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(n=(e=ua(e))<0?n.dropRight(-e):n.take(e-t)),n)},K.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},K.prototype.toArray=function(){return this.take(Lt)},Rn(K.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=n[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(n.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,u=e instanceof K,l=s[0],c=u||Hu(e),h=function(t){var e=o.apply(n,p([t],s));return i&&f?e[0]:e};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,v=a&&!f,y=u&&!d;if(!a&&c){e=y?e:new K(this);var g=t.apply(e,s);return g.__actions__.push({func:No,args:[h],thisArg:nt}),new O(g,f)}return v&&y?t.apply(this,s):(g=this.thru(h),v?i?g.value()[0]:g.value():g)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var e=Fa[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(Hu(n)?n:[],t)}return this[r](function(n){return e.apply(Hu(n)?n:[],t)})}}),Rn(K.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(Is[i]||(Is[i]=[])).push({name:e,func:r})}}),Is[xi(nt,vt).name]=[{name:"wrapper",func:nt}],K.prototype.clone=function(){var t=new K(this.__wrapped__);return t.__actions__=ai(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ai(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ai(this.__views__),t},K.prototype.reverse=function(){if(this.__filtered__){var t=new K(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},K.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Hu(t),r=e<0,i=n?t.length:0,o=Ki(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,d=bs(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return Xr(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var v=-1,y=t[l+=e];++v<h;){var g=c[v],_=g.iteratee,m=g.type,b=_(y);if(m==At)y=b;else if(!b){if(m==Ct)continue t;break t}}p[f++]=y}return p},n.prototype.at=Tu,n.prototype.chain=function(){return ko(this)},n.prototype.commit=function(){return new O(this.value(),this.__chain__)},n.prototype.next=function(){this.__values__===nt&&(this.__values__=aa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?nt:this.__values__[this.__index__++]}},n.prototype.plant=function(t){for(var e,n=this;n instanceof _;){var r=Mo(n);r.__index__=0,r.__values__=nt,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},n.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof K){var e=t;return this.__actions__.length&&(e=new K(this)),(e=e.reverse()).__actions__.push({func:No,args:[Io],thisArg:nt}),new O(e,this.__chain__)}return this.thru(Io)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Xr(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,as&&(n.prototype[as]=function(){return this}),n}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Pn._=qn,define(function(){return qn})):In?((In.exports=qn)._=qn,Rn._=qn):Pn._=qn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"pixi.js":[function(t,e,n){(function(e){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}n.__esModule=!0,n.loader=n.prepare=n.particles=n.mesh=n.loaders=n.interaction=n.filters=n.extras=n.extract=n.accessibility=void 0;var i=t("./polyfill");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return i[t]}})});var o=t("./core");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(n,t,{enumerable:!0,get:function(){return o[t]}})});var a=function(t){return t&&t.__esModule?t:{default:t}}(t("./deprecation")),s=r(t("./accessibility")),u=r(t("./extract")),l=r(t("./extras")),c=r(t("./filters")),h=r(t("./interaction")),f=r(t("./loaders")),d=r(t("./mesh")),p=r(t("./particles")),v=r(t("./prepare"));o.utils.mixins.performMixins();var y=f.shared||null;n.accessibility=s,n.extract=u,n.extras=l,n.filters=c,n.interaction=h,n.loaders=f,n.mesh=d,n.particles=p,n.prepare=v,n.loader=y,"function"==typeof a.default&&(0,a.default)(n),e.PIXI=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":70,"./core":93,"./deprecation":158,"./extract":160,"./extras":169,"./filters":180,"./interaction":187,"./loaders":190,"./mesh":199,"./particles":202,"./polyfill":208,"./prepare":212}]},{},[]);